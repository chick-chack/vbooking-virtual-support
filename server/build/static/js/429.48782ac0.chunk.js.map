{"version":3,"file":"static/js/429.48782ac0.chunk.js","mappings":"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","sources":["views/VirtualSupport/DragContext.jsx","services/metaverse.service.js","views/VirtualSupport/MeetingCallControls/index.jsx","views/VirtualSupport/MeetingScreen/index.jsx","views/VirtualSupport/MeetingCallParticipants/index.jsx","services/shop.service.js","views/VirtualSupport/InventorySection/index.jsx","views/VirtualSupport/ProductSection/index.jsx","views/VirtualSupport/MeetChat/index.jsx","views/VirtualSupport/MyCart/index.jsx","views/VirtualSupport/ShareTools/index.jsx","views/VirtualSupport/MetaExperience/index.jsx","views/VirtualSupport/Holomeet/index.jsx","views/VirtualSupport/FilesSharing/index.jsx","views/VirtualSupport/SharedFiles/index.jsx","views/VirtualSupport/YoutubeLink/index.jsx","views/VirtualSupport/Counter/index.jsx","views/VirtualSupport/Counter/CounterParticipants.jsx","views/VirtualSupport/ProductionTools/index.jsx","views/VirtualSupport/LiveStream/index.jsx","views/VirtualSupport/Counter/CounterForUser.jsx","views/VirtualSupport/Counter/CounterSharedData.jsx","views/VirtualSupport/MeetAsaider/index.jsx","services/participants.service.js","views/VirtualSupport/InviteFriends/index.jsx","views/VirtualSupport/VirtualSupportView.jsx","views/VirtualSupport/index.jsx"],"sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport default createContext(null);\r\n","import axios from \"axios\";\r\nimport { API_BASE } from \"./config\";\r\n\r\nconst SERVICE_BASE = API_BASE + \"/metaverse/\";\r\n\r\nconst getMyDimensions = () => {\r\n  return axios.get(SERVICE_BASE + \"my-dimension\", {\r\n    params: { limit: 100, offset: 0 },\r\n  });\r\n};\r\n\r\nconst addDimension = (data) => {\r\n  return axios.post(SERVICE_BASE + \"add-dimension\", data);\r\n};\r\n\r\nconst deleteDimension = (id) => {\r\n  return axios.delete(SERVICE_BASE + `delete-dimension/${id}`);\r\n};\r\n\r\nconst renameDimension = (id, data) => {\r\n  return axios.put(SERVICE_BASE + `rename-dimension/${id}`, data);\r\n};\r\n\r\nconst getHoloCategory = () => {\r\n  return axios.get(SERVICE_BASE + \"holo-category\");\r\n};\r\n\r\nconst getHoloDimensionByCategory = (id) => {\r\n  return axios.get(SERVICE_BASE + `holo-dimension-by-category/${id}`);\r\n};\r\n\r\nconst MetaverseService = {\r\n  addDimension,\r\n  deleteDimension,\r\n  renameDimension,\r\n  getMyDimensions,\r\n  getHoloCategory,\r\n  getHoloDimensionByCategory,\r\n};\r\n\r\nexport default MetaverseService;\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Dropdown,\r\n  Image,\r\n  Modal,\r\n  Row,\r\n  Tooltip,\r\n  Typography,\r\n} from \"antd\";\r\n\r\nimport {\r\n  ArrowDownSVG,\r\n  CallEndSVG,\r\n  MuteVoiceSVG,\r\n  NoSoundSVG,\r\n  NoVideoSVG,\r\n  SettingFillSVG,\r\n  SoundSVG,\r\n  VideoSVG,\r\n  VoiceSVG,\r\n} from \"assets/jsx-svg\";\r\nimport MetaverseService from \"services/metaverse.service\";\r\nimport \"./styles.css\";\r\n\r\nexport default function MeetingCallControls({\r\n  isHost,\r\n  audioMuted,\r\n  cameraEnabled,\r\n  soundMuted,\r\n  toggleAudioMute,\r\n  toggleVideo,\r\n  toggleSoundMute,\r\n  unPublishScreen,\r\n  sharingScreen,\r\n  SystemMessage,\r\n  unPublishDim,\r\n  sharingDim,\r\n  joinedSharedDim,\r\n  setJoinedSharedDim,\r\n  sharedDimId,\r\n  userFullName,\r\n  controlSettingsShow,\r\n  setControlSettingsShow,\r\n  permissions,\r\n  setPermissions,\r\n  setActiveBtn,\r\n  sharingWhiteboard,\r\n  sharingFile,\r\n  showArrow,\r\n}) {\r\n  const [dimModalOpen, setDimModalOpen] = useState(false);\r\n  const [myDims, setMyDims] = useState([]);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { rows },\r\n          },\r\n        } = await MetaverseService.getMyDimensions();\r\n\r\n        setMyDims(rows);\r\n      } catch (error) {\r\n        console.log(\"Error fetching my dimensions\", error.message);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const settingsMenu = useMemo(() => {\r\n    return (\r\n      <Row justify=\"center\" align=\"bottom\" className=\"settings-options\">\r\n        <Col xs={24} style={{ marginBottom: \"0.5rem\" }}>\r\n          <Row align=\"middle\">\r\n            <Col xs={24}>\r\n              <Typography.Text className=\"fw-600 wc\">\r\n                Allow Participants to :\r\n              </Typography.Text>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <Col\r\n          xs={24}\r\n          onClick={() =>\r\n            setPermissions({ ...permissions, screen: !permissions.screen })\r\n          }\r\n          className=\"clickable\"\r\n        >\r\n          <Row align=\"middle\">\r\n            <Col xs={2}>{permissions.screen ? \"\" : \"\"}</Col>\r\n            <Col xs={22}>Share Screen</Col>\r\n          </Row>\r\n        </Col>\r\n        <Col\r\n          xs={24}\r\n          onClick={() =>\r\n            setPermissions({ ...permissions, chat: !permissions.chat })\r\n          }\r\n          className=\"clickable\"\r\n        >\r\n          <Row align=\"middle\">\r\n            <Col xs={2}>{permissions.chat ? \"\" : \"\"}</Col>\r\n            <Col xs={22}>Chat</Col>\r\n          </Row>\r\n        </Col>\r\n        <Col\r\n          xs={24}\r\n          onClick={() =>\r\n            setPermissions({ ...permissions, mic: !permissions.mic })\r\n          }\r\n          className=\"clickable\"\r\n        >\r\n          <Row align=\"middle\">\r\n            <Col xs={2}>{permissions.mic ? \"\" : \"\"}</Col>\r\n            <Col xs={22}>Unmute Themselves</Col>\r\n          </Row>\r\n        </Col>\r\n        <Col\r\n          xs={24}\r\n          onClick={() =>\r\n            setPermissions({ ...permissions, cam: !permissions.cam })\r\n          }\r\n          className=\"clickable\"\r\n        >\r\n          <Row align=\"middle\">\r\n            <Col xs={2}>{permissions.cam ? \"\" : \"\"}</Col>\r\n            <Col xs={22}>Start Video</Col>\r\n          </Row>\r\n        </Col>\r\n        <Col\r\n          xs={24}\r\n          onClick={() =>\r\n            setPermissions({\r\n              ...permissions,\r\n              whiteboard: !permissions.whiteboard,\r\n            })\r\n          }\r\n          className=\"clickable\"\r\n        >\r\n          <Row align=\"middle\">\r\n            <Col xs={2}>{permissions.whiteboard ? \"\" : \"\"}</Col>\r\n            <Col xs={22}>Use Whiteboard</Col>\r\n          </Row>\r\n        </Col>\r\n        <Col\r\n          xs={24}\r\n          onClick={() =>\r\n            setPermissions({\r\n              ...permissions,\r\n              canDownload: !permissions.canDownload,\r\n            })\r\n          }\r\n          className=\"clickable\"\r\n        >\r\n          <Row align=\"middle\">\r\n            <Col xs={2}>{permissions.canDownload ? \"\" : \"\"}</Col>\r\n            <Col xs={22}>Allow Download</Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    );\r\n  }, [permissions, setPermissions]);\r\n\r\n  const endMenu = useMemo(\r\n    () => (\r\n      <Row justify=\"center\" className=\"settings-options\">\r\n        <Col\r\n          xs={24}\r\n          onClick={() => {\r\n            SystemMessage.endMeeting();\r\n            navigate(\"/meetings\");\r\n          }}\r\n        >\r\n          <Button type=\"ghost\" className=\"w-100 end-meet-btn\">\r\n            End Metting for All\r\n          </Button>\r\n        </Col>\r\n        <Col xs={24} onClick={() => navigate(\"/meetings\")}>\r\n          <Button type=\"ghost\" className=\"w-100 leave-meet-btn\">\r\n            Leave Metting\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    ),\r\n    [navigate, SystemMessage],\r\n  );\r\n\r\n  // const endCurrentShareLabel = useMemo(() => {\r\n  //   let onClick;\r\n  //   let text;\r\n\r\n  //   if (sharingScreen) {\r\n  //     onClick = unPublishScreen;\r\n  //     text = \"Stop Screen Share\";\r\n  //   } else if (sharingDim) {\r\n  //     onClick = SystemMessage.stopDim;\r\n  //     text = \"Stop Dimension Share\";\r\n  //   } else if (sharingWhiteboard) {\r\n  //     onClick = SystemMessage.stopWhiteboard;\r\n  //     text = \"Stop Whiteboard Share\";\r\n  //   } else if (sharingFile) {\r\n  //     onClick = SystemMessage.stopFilePreview;\r\n  //     text = \"Stop File Share\";\r\n  //   } else {\r\n  //     return null;\r\n  //   }\r\n\r\n  //   return (\r\n  //     <Row align=\"middle\" gutter={[8, 0]} wrap={false} onClick={onClick}>\r\n  //       <Col>\r\n  //         <Row align=\"middle\">\r\n  //           <ScreenSVG color=\"#fff\" style={{ width: \"16px\", height: \"16px\" }} />\r\n  //         </Row>\r\n  //       </Col>\r\n  //       <Col>\r\n  //         <Typography.Text className=\"fz-16 wc fw-300\">{text}</Typography.Text>\r\n  //       </Col>\r\n  //     </Row>\r\n  //   );\r\n  // }, [\r\n  //   SystemMessage,\r\n  //   sharingDim,\r\n  //   sharingFile,\r\n  //   sharingScreen,\r\n  //   sharingWhiteboard,\r\n  //   unPublishScreen,\r\n  // ]);\r\n\r\n  return (\r\n    <>\r\n      <Row\r\n        align={\"bottom\"}\r\n        justify=\"space-between\"\r\n        style={{ padding: \"10px 14px\", position: \"relative\" }}\r\n      >\r\n        {showArrow && (\r\n          <span\r\n            className=\"open-settings clickable\"\r\n            onClick={() => setControlSettingsShow((prev) => !prev)}\r\n          >\r\n            <ArrowDownSVG\r\n              color=\"#fff\"\r\n              style={{\r\n                width: \"14px\",\r\n                height: \"14px\",\r\n                rotate: controlSettingsShow ? \"-180deg\" : \"0deg\",\r\n                transition: \"all 0.3s ease-in-out\",\r\n              }}\r\n            />\r\n          </span>\r\n        )}\r\n\r\n        <Col xs={0} md={3}>\r\n          {!sharingDim && (\r\n            <Typography.Text\r\n              className=\"fz-12 wc\"\r\n              ellipsis\r\n              style={{\r\n                background: \"rgba(0, 0, 0, 0.35)\",\r\n                borderRadius: \"43px\",\r\n                padding: \"1px 8px\",\r\n              }}\r\n            >\r\n              {userFullName}\r\n            </Typography.Text>\r\n          )}\r\n        </Col>\r\n\r\n        <Col flex={1}>\r\n          <Row justify=\"center\" align=\"middle\">\r\n            <Tooltip title=\"Sound on/off\">\r\n              <div className=\"icon-wrapper\" onClick={toggleSoundMute}>\r\n                {soundMuted ? (\r\n                  <NoSoundSVG\r\n                    color=\"#fff\"\r\n                    style={{ width: \"20px\", height: \"20px\" }}\r\n                  />\r\n                ) : (\r\n                  <SoundSVG\r\n                    color=\"#fff\"\r\n                    style={{ width: \"20px\", height: \"20px\" }}\r\n                  />\r\n                )}\r\n              </div>\r\n            </Tooltip>\r\n\r\n            {/* <Dropdown\r\n              placement=\"top\"\r\n              trigger={[\"click\"]}\r\n              overlay={\r\n                <Menu\r\n                  className=\"share-screen-options\"\r\n                  items={[\r\n                    {\r\n                      key: \"0\",\r\n                      label: (\r\n                        <Row justify=\"center\">\r\n                          <Typography.Text className=\"fz-16 wc w-600\">\r\n                            Share\r\n                          </Typography.Text>\r\n                        </Row>\r\n                      ),\r\n                      style: { pointerEvents: \"none\" },\r\n                    },\r\n                    {\r\n                      key: \"1\",\r\n                      label: (\r\n                        <Row align=\"middle\" gutter={[8, 0]} wrap={false}>\r\n                          <Col>\r\n                            <Row align=\"middle\">\r\n                              <WebViewSVG />\r\n                            </Row>\r\n                          </Col>\r\n                          <Col>\r\n                            <Typography.Text className=\"fz-16 wc fw-300\">\r\n                              Share Tools\r\n                            </Typography.Text>\r\n                          </Col>\r\n                        </Row>\r\n                      ),\r\n                      onClick: () => setActiveBtn(\"tools\"),\r\n                    },\r\n                    {\r\n                      key: \"2\",\r\n                      label: endCurrentShareLabel,\r\n                    },\r\n                  ]}\r\n                />\r\n              }\r\n            >\r\n              <div\r\n                className=\"icon-wrapper\"\r\n                style={{\r\n                  background:\r\n                    \"linear-gradient(270deg, #74b715 0%, #0129b7 100%)\",\r\n                  opacity: isHost ? \"1\" : \"0.5\",\r\n                  pointerEvents: isHost ? \"auto\" : \"none\",\r\n                }}\r\n              >\r\n                <ScreenSVG style={{ width: \"20px\", height: \"20px\" }} />\r\n              </div>\r\n            </Dropdown> */}\r\n\r\n            <Row\r\n              wrap={false}\r\n              align=\"middle\"\r\n              gutter={[12, 0]}\r\n              className=\"two-icons\"\r\n            >\r\n              <Col>\r\n                <Tooltip title={audioMuted ? \"Unmute\" : \"Mute\"}>\r\n                  <div\r\n                    className=\"center-items clickable\"\r\n                    onClick={() => {\r\n                      if (!isHost && !permissions.mic) return;\r\n\r\n                      toggleAudioMute();\r\n                    }}\r\n                  >\r\n                    {audioMuted ? (\r\n                      <MuteVoiceSVG\r\n                        color=\"#fff\"\r\n                        style={{ width: \"20px\", height: \"20px\" }}\r\n                      />\r\n                    ) : (\r\n                      <VoiceSVG\r\n                        color=\"#fff\"\r\n                        style={{ width: \"20px\", height: \"20px\" }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </Tooltip>\r\n              </Col>\r\n              <Col>\r\n                <Tooltip\r\n                  title={!cameraEnabled ? \"Turn on Camera\" : \"Turn off Camera\"}\r\n                >\r\n                  <div\r\n                    className=\"center-items clickable\"\r\n                    onClick={() => {\r\n                      if (!isHost && !permissions.cam) return;\r\n\r\n                      toggleVideo();\r\n                    }}\r\n                  >\r\n                    {!cameraEnabled ? (\r\n                      <NoVideoSVG\r\n                        color=\"#fff\"\r\n                        style={{ width: \"20px\", height: \"20px\" }}\r\n                      />\r\n                    ) : (\r\n                      <VideoSVG\r\n                        color=\"#fff\"\r\n                        style={{ width: \"20px\", height: \"20px\" }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </Tooltip>\r\n              </Col>\r\n            </Row>\r\n          </Row>\r\n        </Col>\r\n        <Col xs={0} md={3}>\r\n          <Row justify=\"end\" gutter={[12, 0]} wrap={false}>\r\n            {isHost ? (\r\n              <>\r\n                <Col>\r\n                  <Dropdown\r\n                    placement=\"top\"\r\n                    trigger={[\"click\"]}\r\n                    overlay={settingsMenu}\r\n                  >\r\n                    <div className=\"icon-wrapper\">\r\n                      <SettingFillSVG\r\n                        color=\"#fff\"\r\n                        style={{ width: \"20px\", height: \"20px\" }}\r\n                      />\r\n                    </div>\r\n                  </Dropdown>\r\n                </Col>\r\n                <Col>\r\n                  <Dropdown\r\n                    placement=\"topRight\"\r\n                    trigger={[\"click\"]}\r\n                    overlay={endMenu}\r\n                  >\r\n                    <div\r\n                      style={{ marginInlineEnd: \"0px\", background: \"#E81224\" }}\r\n                      className=\"icon-wrapper\"\r\n                    >\r\n                      <CallEndSVG />\r\n                    </div>\r\n                  </Dropdown>\r\n                </Col>\r\n              </>\r\n            ) : (\r\n              <div\r\n                style={{ marginInlineEnd: \"0px\", background: \"#E81224\" }}\r\n                className=\"icon-wrapper\"\r\n                onClick={() => navigate(\"/meetings\")}\r\n              >\r\n                <CallEndSVG />\r\n              </div>\r\n            )}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row justify=\"center\">\r\n        <Col xs={24} md={0} style={{ marginTop: \"24px\" }}>\r\n          <Row justify=\"center\" align=\"middle\" gutter={[12, 0]} wrap={false}>\r\n            {isHost ? (\r\n              <>\r\n                <Col>\r\n                  <Dropdown\r\n                    placement=\"top\"\r\n                    trigger={[\"click\"]}\r\n                    overlay={settingsMenu}\r\n                  >\r\n                    <div className=\"icon-wrapper\">\r\n                      <SettingFillSVG\r\n                        color=\"#fff\"\r\n                        style={{ width: \"20px\", height: \"20px\" }}\r\n                      />\r\n                    </div>\r\n                  </Dropdown>\r\n                </Col>\r\n                <Col>\r\n                  <Dropdown\r\n                    placement=\"top\"\r\n                    trigger={[\"click\"]}\r\n                    overlay={endMenu}\r\n                  >\r\n                    <div\r\n                      style={{ marginInlineEnd: \"0px\", background: \"#E81224\" }}\r\n                      className=\"icon-wrapper\"\r\n                    >\r\n                      <CallEndSVG />\r\n                    </div>\r\n                  </Dropdown>\r\n                </Col>\r\n              </>\r\n            ) : (\r\n              <div\r\n                style={{ marginInlineEnd: \"0px\", background: \"#E81224\" }}\r\n                className=\"icon-wrapper\"\r\n                onClick={() => navigate(\"/meetings\")}\r\n              >\r\n                <CallEndSVG />\r\n              </div>\r\n            )}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n\r\n      {myDims.length > 0 && (\r\n        <Modal\r\n          footer={null}\r\n          closable={false}\r\n          onCancel={() => setDimModalOpen(false)}\r\n          open={dimModalOpen}\r\n          title=\"Please select a dimension to share\"\r\n          centered\r\n          width={500}\r\n        >\r\n          <Row gutter={[10, 10]}>\r\n            {myDims.map((dim) => (\r\n              <Col\r\n                key={dim.id}\r\n                span={8}\r\n                className=\"meeting-call-main-dim-col\"\r\n                onClick={() => {\r\n                  SystemMessage.shareDim(dim.id);\r\n                  setDimModalOpen(false);\r\n                }}\r\n              >\r\n                <Image\r\n                  style={{\r\n                    width: \"100%\",\r\n                    maxHeight: 200,\r\n                    objectFit: \"cover\",\r\n                    borderRadius: 12,\r\n                  }}\r\n                  src={dim.image}\r\n                  preview={false}\r\n                />\r\n\r\n                <Typography className=\"fz-16\">\r\n                  {dim.customerDimensionTranslations[0].name}\r\n                </Typography>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Avatar, Col, Row, Typography } from \"antd\";\r\nimport { createUI } from \"@netless/fastboard\";\r\nimport FileViewer from \"react-file-viewer\";\r\n\r\nimport userContext from \"context/userContext\";\r\nimport profileImg from \"assets/images/avatar.png\";\r\nimport {\r\n  MuteVoiceSVG,\r\n  VoiceSVG,\r\n  CloseSVG,\r\n  FullScreenImageSVG,\r\n} from \"assets/jsx-svg\";\r\nimport MeetingCallControls from \"../MeetingCallControls\";\r\n\r\nimport DragContext from \"../DragContext\";\r\nimport \"./style.css\";\r\n\r\nconst toAbsoluteUrl = (origin, pathname) =>\r\n  origin + process.env.PUBLIC_URL + pathname;\r\n\r\nconst getFileTypeFromMimeType = (mime) => {\r\n  if (mime.includes(\"pdf\")) {\r\n    return \"pdf\";\r\n  } else if (mime.includes(\"jpg\") || mime.includes(\"jpeg\")) {\r\n    return \"jpeg\";\r\n  } else if (mime.includes(\"png\")) {\r\n    return \"png\";\r\n  } else if (mime.includes(\"gif\")) {\r\n    return \"gif\";\r\n  } else if (mime.includes(\"officedocument.wordprocessingml.document\")) {\r\n    return \"docx\";\r\n  } else if (mime.includes(\"officedocument.spreadsheetml.sheet\")) {\r\n    return \"xlsx\";\r\n  } else if (mime.includes(\"csv\")) {\r\n    return \"csv\";\r\n  } else if (mime.includes(\"mp4\")) {\r\n    return \"mp4\";\r\n  } else if (mime.includes(\"webm\")) {\r\n    return \"webm\";\r\n  } else if (mime.includes(\"audio\") && mime.includes(\"mpeg\")) {\r\n    return \"mp3\";\r\n  } else {\r\n    return mime;\r\n  }\r\n};\r\n\r\nexport default function MeetingScreen({\r\n  screen,\r\n  setMainScreen,\r\n  publishDim,\r\n  isMain = false,\r\n  audioMuted,\r\n  soundMuted,\r\n  cameraEnabled,\r\n  toggleAudioMute,\r\n  toggleVideo,\r\n  toggleSoundMute,\r\n  unPublishScreen,\r\n  sharingScreen,\r\n  SystemMessage,\r\n  unPublishDim,\r\n  sharingDim,\r\n  isHost,\r\n  joinedSharedDim,\r\n  setJoinedSharedDim,\r\n  sharedDimId,\r\n  permissions,\r\n  setPermissions,\r\n  sharingFile,\r\n  setActiveBtn,\r\n  sharingWhiteboard,\r\n}) {\r\n  const [unityCanvas, setUnityCanvas] = useState();\r\n  const [whiteboardContainer, setWhiteboardContainer] = useState();\r\n  const [iframeRef, setIframeRef] = useState(null);\r\n  const [controlSettingsShow, setControlSettingsShow] = useState(false);\r\n  const [mainFullScreen, setMainFullScreen] = useState(false);\r\n\r\n  const { user } = useContext(userContext);\r\n  const { dragData, setDragData } = useContext(DragContext);\r\n\r\n  const toggleFullScreen = () => setMainFullScreen((prev) => !prev);\r\n\r\n  const onDrop = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      const dimId = dragData.dimId;\r\n      const file = dragData.file;\r\n\r\n      if (dimId) {\r\n        if (sharingScreen) {\r\n          unPublishScreen();\r\n        } else if (sharingWhiteboard) {\r\n          SystemMessage.stopWhiteboard();\r\n        } else if (sharingFile) {\r\n          SystemMessage.stopFilePreview();\r\n        }\r\n\r\n        SystemMessage.shareDim(dimId);\r\n      } else if (file) {\r\n        if (sharingScreen) {\r\n          unPublishScreen();\r\n        } else if (sharingWhiteboard) {\r\n          SystemMessage.stopWhiteboard();\r\n        } else if (sharingDim) {\r\n          SystemMessage.stopDim();\r\n        }\r\n\r\n        SystemMessage.shareFile(file);\r\n      }\r\n\r\n      setDragData({\r\n        dragging: false,\r\n        dropText: \"\",\r\n        dimId: null,\r\n        file: null,\r\n      });\r\n    },\r\n    [\r\n      SystemMessage,\r\n      dragData,\r\n      setDragData,\r\n      sharingDim,\r\n      sharingFile,\r\n      sharingScreen,\r\n      sharingWhiteboard,\r\n      unPublishScreen,\r\n    ],\r\n  );\r\n\r\n  const meetingControlsProps = useMemo(\r\n    () => ({\r\n      audioMuted: audioMuted,\r\n      soundMuted: soundMuted,\r\n      cameraEnabled: cameraEnabled,\r\n      toggleAudioMute: toggleAudioMute,\r\n      toggleVideo: toggleVideo,\r\n      toggleSoundMute: toggleSoundMute,\r\n      unPublishScreen: unPublishScreen,\r\n      sharingScreen: sharingScreen,\r\n      SystemMessage: SystemMessage,\r\n      unPublishDim: unPublishDim,\r\n      sharingDim: sharingDim,\r\n      isHost: isHost,\r\n      joinedSharedDim: joinedSharedDim,\r\n      setJoinedSharedDim: setJoinedSharedDim,\r\n      sharedDimId: sharedDimId,\r\n      userFullName: screen.userFullName,\r\n      controlSettingsShow: controlSettingsShow,\r\n      setControlSettingsShow: setControlSettingsShow,\r\n      permissions: permissions,\r\n      setPermissions: setPermissions,\r\n      setActiveBtn: setActiveBtn,\r\n      sharingWhiteboard: sharingWhiteboard,\r\n      sharingFile: sharingFile,\r\n      showArrow:\r\n        sharingDim ||\r\n        joinedSharedDim ||\r\n        sharingWhiteboard ||\r\n        sharingFile ||\r\n        sharingScreen,\r\n    }),\r\n    [\r\n      SystemMessage,\r\n      audioMuted,\r\n      cameraEnabled,\r\n      controlSettingsShow,\r\n      isHost,\r\n      joinedSharedDim,\r\n      permissions,\r\n      screen.userFullName,\r\n      setActiveBtn,\r\n      setJoinedSharedDim,\r\n      setPermissions,\r\n      sharedDimId,\r\n      sharingDim,\r\n      sharingFile,\r\n      sharingScreen,\r\n      sharingWhiteboard,\r\n      soundMuted,\r\n      toggleAudioMute,\r\n      toggleSoundMute,\r\n      toggleVideo,\r\n      unPublishDim,\r\n      unPublishScreen,\r\n    ],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (iframeRef && screen.dimensionId && user.cGAccessToken) {\r\n      const configScript =\r\n        iframeRef.contentWindow.document.createElement(\"script\");\r\n\r\n      const style = iframeRef.contentWindow.document.createElement(\"link\");\r\n      style.href = \"/new-WebGL/style.css\";\r\n      style.rel = \"stylesheet\";\r\n\r\n      const div = iframeRef.contentWindow.document.createElement(\"div\");\r\n      div.innerHTML =\r\n        \"<div style='width: 100%; height: 100%' class='loading-holder'><video autoPlay muted loop style='width: 100%; height: 100%; object-fit: contain;' class='video-loading'><source src='/new-WebGL/dimension.mp4' type='video/mp4'/></video></div>\";\r\n      div.id = \"loading\";\r\n      div.className = \"loading\";\r\n\r\n      const listScript = [\r\n        \"hls.min.js\",\r\n        \"AgoraWebSDK/libs/agora-extension-virtual-background.js\",\r\n        \"AgoraWebSDK/libs/virtualbackground.js\",\r\n        \"AgoraWebSDK/libs/databuilder.js\",\r\n        \"AgoraWebSDK/libs/clientmanager.js\",\r\n        \"AgoraWebSDK/libs/wglwrapper.js\",\r\n        \"AgoraWebSDK/libs/audioeffects.js\",\r\n        \"AgoraWebSDK/libs/eventmanager.js\",\r\n        \"AgoraWebSDK/libs/engineglobals.js\",\r\n        \"AgoraWebSDK/libs/watermark.js\",\r\n        \"AgoraWebSDK/libs/customvideo.js\",\r\n        \"AgoraWebSDK/libs/agorachannel.js\",\r\n        \"AgoraWebSDK/libs/multichannel.js\",\r\n        \"AgoraWebSDK/libs/audiosystem.js\",\r\n        \"AgoraWebSDK/libs/testing.js\",\r\n        \"AgoraWebSDK/libs/agorautils.js\",\r\n        \"AgoraWebSDK/libs/audiomixing.js\",\r\n        \"AgoraWebSDK/agorartcenginev2.js\",\r\n        \"AgoraWebSDK/vendor/materialize.min.js\",\r\n        \"AgoraRTC_N.js\",\r\n        \"AgoraWebSDK/libs/spatial-audio-main.js\",\r\n        \"AgoraWebSDK/vendor/jquery.min.js\",\r\n        \"ReadyPlayerMeFrame.js\",\r\n      ];\r\n\r\n      listScript.forEach((ele) => {\r\n        const scriptName =\r\n          iframeRef.contentWindow.document.createElement(\"script\");\r\n        scriptName.src = toAbsoluteUrl(\r\n          iframeRef.contentWindow.top.location.origin,\r\n          `/new-WebGL/${ele}`,\r\n        );\r\n        iframeRef.contentWindow.document.head.append(scriptName);\r\n      });\r\n\r\n      configScript.innerHTML = `\r\n      var disableVoice = true;\r\n      var mainCanvas = document.getElementById(\"myCanvas\");\r\n      var mainContext = mainCanvas.getContext('2d');\r\n      var inMemCanvas = document.getElementById(\"inMem_Canvas\");\r\n      var inMemContext = inMemCanvas.getContext('2d');\r\n      var canvasWidth = mainCanvas.width;\r\n      var canvasHeight = mainCanvas.height;\r\n      var angle = 0;\r\n      var isRent = false;\r\n      var dimensionLink = \"https://vverse.co/metaverse?dimensionId={${\r\n        screen.dimensionId\r\n      }}&dimensionType={0}\";\r\n      var linkBase = \"https://vverse.co/\";\r\n      var dimensionId = ${screen.dimensionId};\r\n      var dimensionType = ${screen.dimensionId ? 0 : -1};\r\n      var accessToken = \"${user.cGAccessToken}\";\r\n      var apiBase = \"https://portal.chickchack.net:7005/api/v6/mobile-game/\";\r\n      var production = true;\r\n      var socketBase = \"https://portal.chickchack.net:7005/\";\r\n      var storageBase = \"https://chickchack.s3.eu-west-2.amazonaws.com\"\r\n      var isProduct = false;\r\n\r\n      var buildUrl = '${toAbsoluteUrl(\r\n        iframeRef.contentWindow.top.location.origin,\r\n        \"/new-WebGL/Build\",\r\n      )}';\r\n      var loaderUrl = buildUrl + '/visit-dimension.loader.js';\r\n      var config = {\r\n        dataUrl: buildUrl + '/visit-dimension.data.br',\r\n        frameworkUrl: buildUrl + '/visit-dimension.framework.js.br',\r\n        codeUrl: buildUrl + '/visit-dimension.wasm.br',\r\n        streamingAssetsUrl: buildUrl + '/StreamingAssets',\r\n        companyName: 'PiPhi Technology',\r\n        productName: 'Visit Dimension',\r\n        productVersion: '1.0',\r\n      };\r\n\r\n      var container = document.querySelector(\"#unity-container\");\r\n      var canvas = document.querySelector(\"#unity-canvas\");\r\n      var loading = document.querySelector(\"#loading\");\r\n      var platform = 2; //1 mobile, 2 windows, 4 mac, 8 linux\r\n      loading.style.display = \"\";\r\n\r\n      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {\r\n        config.devicePixelRatio = 1;\r\n        platform = 1;\r\n      }\r\n\r\n      if (navigator.platform.toUpperCase().indexOf('MAC') >= 0) {\r\n        platform = 4;\r\n      }\r\n\r\n      window.onmessage = function(e) {\r\n        try {\r\n          if (e.data === \"SetFullscreen\") {\r\n            window.unityInstance.SetFullscreen(true);\r\n          }\r\n        } catch(ignored) {}\r\n      };\r\n      `;\r\n\r\n      const createUnityInstance = () => {\r\n        iframeRef.contentWindow\r\n          .createUnityInstance(\r\n            iframeRef.contentWindow.canvas,\r\n            iframeRef.contentWindow.config,\r\n            (progress) => {\r\n              console.log(\"progress\", progress);\r\n            },\r\n          )\r\n          .then((unityInstance) => {\r\n            unityInstance.SendMessage(\r\n              \"BG_Scripts/Constatnts\",\r\n              \"SetPlatform\",\r\n              iframeRef.contentWindow.platform,\r\n            );\r\n\r\n            iframeRef.contentWindow.loading.style.display = \"none\";\r\n            iframeRef.contentWindow.unityInstance = unityInstance;\r\n            iframeRef.contentWindow.web3 = window.web3;\r\n            iframeRef.contentWindow.ethereum = window.ethereum;\r\n          })\r\n          .catch((message) => {\r\n            alert(message);\r\n          });\r\n      };\r\n\r\n      const loaderScript =\r\n        iframeRef.contentWindow.document.createElement(\"script\");\r\n      loaderScript.src =\r\n        toAbsoluteUrl(window.location.origin, \"/new-WebGL/Build\") +\r\n        \"/visit-dimension.loader.js\";\r\n\r\n      loaderScript.onload = () => {\r\n        // if (window.navigator.geolocation) {\r\n        //   window.navigator.geolocation.getCurrentPosition((pos) => {\r\n        //     iframeRef.contentWindow.lat = pos.coords.latitude;\r\n        //     iframeRef.contentWindow.lon = pos.coords.longitude;\r\n\r\n        //     createUnityInstance();\r\n        //   });\r\n        // } else {\r\n        iframeRef.contentWindow.lat = 25.0418278;\r\n        iframeRef.contentWindow.lon = 55.2513757;\r\n\r\n        createUnityInstance();\r\n        // }\r\n      };\r\n\r\n      iframeRef.contentWindow.document.body.append(div);\r\n      // iframeRef.contentWindow.document.body.append(hls);\r\n      iframeRef.contentWindow.document.body.append(configScript);\r\n      iframeRef.contentWindow.document.head.append(loaderScript);\r\n      iframeRef.contentWindow.document.body.append(style);\r\n    }\r\n  }, [screen, iframeRef, user.cGAccessToken]);\r\n\r\n  useEffect(() => {\r\n    if (screen.hasVideo) {\r\n      screen.playTrack();\r\n    } else if (sharingWhiteboard && screen.room && whiteboardContainer) {\r\n      createUI(screen.room, whiteboardContainer);\r\n    }\r\n  }, [sharingWhiteboard, screen, whiteboardContainer]);\r\n\r\n  useEffect(() => {\r\n    if (sharingDim && unityCanvas && typeof publishDim === \"function\") {\r\n      publishDim(unityCanvas);\r\n    }\r\n  }, [unityCanvas, publishDim, sharingDim]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      sharingDim ||\r\n      joinedSharedDim ||\r\n      sharingWhiteboard ||\r\n      sharingFile ||\r\n      sharingScreen\r\n    ) {\r\n      setControlSettingsShow(true);\r\n    }\r\n  }, [\r\n    joinedSharedDim,\r\n    sharingDim,\r\n    sharingWhiteboard,\r\n    sharingFile,\r\n    sharingScreen,\r\n  ]);\r\n\r\n  if (!screen) {\r\n    return null;\r\n  }\r\n\r\n  if (screen.type === \"dim\") {\r\n    return (\r\n      <section className={mainFullScreen ? \"main-screen-full\" : \"main-screen\"}>\r\n        {dragData.dragging && (\r\n          <div\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onDrop={onDrop}\r\n            className=\"dragover-overlay\"\r\n          >\r\n            {dragData.dropText}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"whiteboard-top\">\r\n          <Row justify=\"space-between\" align=\"middle\">\r\n            <Col>\r\n              <div\r\n                className=\"whiteboard-close clickable\"\r\n                onClick={toggleFullScreen}\r\n              >\r\n                <FullScreenImageSVG\r\n                  color=\"#fff\"\r\n                  style={{ width: \"12px\", height: \"12px\" }}\r\n                  className=\"close-whiteboard\"\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              <div\r\n                className=\"whiteboard-close clickable\"\r\n                onClick={() =>\r\n                  isHost\r\n                    ? SystemMessage.stopDim()\r\n                    : setJoinedSharedDim(!joinedSharedDim)\r\n                }\r\n              >\r\n                <CloseSVG\r\n                  color=\"#fff\"\r\n                  style={{ width: \"12px\", height: \"12px\" }}\r\n                  className=\"close-whiteboard\"\r\n                />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <iframe\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            border: \"none\",\r\n          }}\r\n          title=\"Explore Metaverse\"\r\n          ref={setIframeRef}\r\n        >\r\n          {iframeRef?.contentWindow?.document?.body &&\r\n            createPortal(\r\n              <>\r\n                <div id=\"unity-container\">\r\n                  <div id=\"canvas-wrap\">\r\n                    <div id=\"rpm-container\">\r\n                      <iframe\r\n                        title=\"rpm-frame\"\r\n                        id=\"rpm-frame\"\r\n                        className=\"rpm-frame\"\r\n                        allow=\"camera *; microphone *\"\r\n                      ></iframe>\r\n                      <button id=\"rpm-hide-button\" onClick=\"hideRpm()\">\r\n                        Hide\r\n                      </button>\r\n                    </div>\r\n                    <canvas\r\n                      ref={setUnityCanvas}\r\n                      id=\"unity-canvas\"\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: \"100%\",\r\n                      }}\r\n                    ></canvas>\r\n                  </div>\r\n                </div>\r\n                <canvas\r\n                  id=\"inMem_Canvas\"\r\n                  height=\"450\"\r\n                  width=\"450\"\r\n                  style={{ display: \"none\" }}\r\n                ></canvas>\r\n                <canvas\r\n                  id=\"myCanvas\"\r\n                  height=\"450\"\r\n                  width=\"450\"\r\n                  style={{ display: \"none\" }}\r\n                ></canvas>\r\n              </>,\r\n              iframeRef?.contentWindow?.document?.body,\r\n            )}\r\n        </iframe>\r\n\r\n        <div\r\n          className=\"main-screen-controls\"\r\n          style={{\r\n            bottom: controlSettingsShow ? \"-55px\" : \"0px\",\r\n            background: \"inital\",\r\n            boxShadow: \"inital\",\r\n            backdropFilter: \"inital\",\r\n          }}\r\n        >\r\n          <MeetingCallControls {...meetingControlsProps} />\r\n        </div>\r\n      </section>\r\n    );\r\n  } else if (screen.type === \"file\") {\r\n    return (\r\n      <Row\r\n        className={\r\n          mainFullScreen ? \"main-screen-full\" : \"main-screen file-screen\"\r\n        }\r\n      >\r\n        {dragData.dragging && (\r\n          <div\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onDrop={onDrop}\r\n            className=\"dragover-overlay\"\r\n          >\r\n            {dragData.dropText}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"whiteboard-top\">\r\n          <Row justify=\"space-between\" align=\"middle\">\r\n            <Col>\r\n              <div\r\n                className=\"whiteboard-close clickable\"\r\n                onClick={toggleFullScreen}\r\n              >\r\n                <FullScreenImageSVG\r\n                  color=\"#fff\"\r\n                  style={{ width: \"12px\", height: \"12px\" }}\r\n                  className=\"close-whiteboard\"\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              {isHost && (\r\n                <div\r\n                  className=\"whiteboard-close clickable\"\r\n                  onClick={SystemMessage.stopFilePreview}\r\n                >\r\n                  <CloseSVG\r\n                    color=\"#fff\"\r\n                    style={{ width: \"12px\", height: \"12px\" }}\r\n                    className=\"close-whiteboard\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div className=\"file-canvas\">\r\n          {screen.file.isGoogleDrive ? (\r\n            <iframe\r\n              title=\"Google Drive Embed\"\r\n              style={{ width: \"100%\", height: \"100%\" }}\r\n              src={screen.file.embedUrl}\r\n            />\r\n          ) : (\r\n            <FileViewer\r\n              fileType={getFileTypeFromMimeType(screen.file.type)}\r\n              filePath={screen.file.url}\r\n              errorComponent={<h1>Error previewing the file</h1>}\r\n              onError={(err) => console.log(\"FileViewer error:\", err)}\r\n            />\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className=\"main-screen-controls\"\r\n          style={{\r\n            bottom: controlSettingsShow ? \"-55px\" : \"0px\",\r\n            background: \"inital\",\r\n            boxShadow: \"inital\",\r\n            backdropFilter: \"inital\",\r\n          }}\r\n        >\r\n          <MeetingCallControls {...meetingControlsProps} />\r\n        </div>\r\n      </Row>\r\n    );\r\n  } else if (screen.type === \"whiteboard\") {\r\n    return (\r\n      <Row\r\n        className={\r\n          mainFullScreen ? \"main-screen-full\" : \"main-screen whiteboard-screen\"\r\n        }\r\n      >\r\n        <div ref={setWhiteboardContainer} className=\"whiteboard-canvas\"></div>\r\n\r\n        {dragData.dragging && (\r\n          <div\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onDrop={onDrop}\r\n            className=\"dragover-overlay\"\r\n          >\r\n            {dragData.dropText}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"whiteboard-top\">\r\n          <Row justify=\"space-between\" align=\"middle\">\r\n            <Col>\r\n              <div\r\n                className=\"whiteboard-close clickable\"\r\n                onClick={toggleFullScreen}\r\n              >\r\n                <FullScreenImageSVG\r\n                  color=\"#fff\"\r\n                  style={{ width: \"12px\", height: \"12px\" }}\r\n                  className=\"close-whiteboard\"\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col>\r\n              {isHost && (\r\n                <div\r\n                  className=\"whiteboard-close clickable\"\r\n                  onClick={SystemMessage.stopWhiteboard}\r\n                >\r\n                  <CloseSVG\r\n                    color=\"#fff\"\r\n                    style={{ width: \"12px\", height: \"12px\" }}\r\n                    className=\"close-whiteboard\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        <div\r\n          className=\"main-screen-controls\"\r\n          style={{\r\n            bottom: controlSettingsShow ? \"-55px\" : \"0px\",\r\n            background: \"inital\",\r\n            boxShadow: \"inital\",\r\n            backdropFilter: \"inital\",\r\n          }}\r\n        >\r\n          <MeetingCallControls {...meetingControlsProps} />\r\n        </div>\r\n      </Row>\r\n    );\r\n  } else if (isMain) {\r\n    return (\r\n      <Row className={\"main-screen\"}>\r\n        {screen.hasVideo && (\r\n          <div id={screen.screenId} className=\"video-player\"></div>\r\n        )}\r\n\r\n        {sharingScreen && (\r\n          <div className=\"whiteboard-top\">\r\n            <Row justify=\"space-between\" align=\"middle\">\r\n              <Col></Col>\r\n              <Col>\r\n                {isHost && (\r\n                  <div\r\n                    className=\"whiteboard-close clickable\"\r\n                    onClick={() => unPublishScreen()}\r\n                  >\r\n                    <CloseSVG\r\n                      color=\"#fff\"\r\n                      style={{ width: \"12px\", height: \"12px\" }}\r\n                      className=\"close-whiteboard\"\r\n                    />\r\n                  </div>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        )}\r\n\r\n        {dragData.dragging && (\r\n          <div\r\n            onDragOver={(e) => e.preventDefault()}\r\n            onDrop={onDrop}\r\n            className=\"dragover-overlay\"\r\n          >\r\n            {dragData.dropText}\r\n          </div>\r\n        )}\r\n\r\n        <div\r\n          className=\"main-screen-controls\"\r\n          style={{\r\n            bottom: sharingScreen && controlSettingsShow ? \"-55px\" : \"0px\",\r\n            background: sharingScreen ? \"inital\" : \"none\",\r\n            boxShadow: sharingScreen ? \"inital\" : \"none\",\r\n            backdropFilter: sharingScreen ? \"inital\" : \"none\",\r\n          }}\r\n        >\r\n          <MeetingCallControls {...meetingControlsProps} />\r\n        </div>\r\n        <div\r\n          className=\"main-screen-controls\"\r\n          style={{\r\n            bottom: controlSettingsShow ? \"-55px\" : \"0px\",\r\n            background: \"inital\",\r\n            boxShadow: \"inital\",\r\n            backdropFilter: \"inital\",\r\n          }}\r\n        ></div>\r\n\r\n        {screen.type === \"rtc\" && (\r\n          <span className=\"friend-screen-sound\">\r\n            {!screen.hasAudio ? (\r\n              <MuteVoiceSVG\r\n                color=\"#fff\"\r\n                style={{ width: \"12px\", height: \"12px\" }}\r\n              />\r\n            ) : (\r\n              <VoiceSVG\r\n                color=\"#fff\"\r\n                style={{ width: \"12px\", height: \"12px\" }}\r\n              />\r\n            )}\r\n          </span>\r\n        )}\r\n\r\n        {!screen.hasVideo && (\r\n          <div className=\"main-screen-img\">\r\n            <Avatar\r\n              size={140}\r\n              src={screen.userProfileImage || profileImg}\r\n              style={{ objectFit: \"cover\" }}\r\n            />\r\n          </div>\r\n        )}\r\n      </Row>\r\n    );\r\n  } else {\r\n    return (\r\n      <Row\r\n        className=\"friend-screen\"\r\n        onClick={() => setMainScreen(screen.screenId)}\r\n      >\r\n        {screen.hasVideo && (\r\n          <div id={screen.screenId} className=\"video-player\"></div>\r\n        )}\r\n\r\n        <Row className=\"friend-screen-status\" align=\"middle\">\r\n          <Typography.Text className=\"fz-12 wc\" ellipsis>\r\n            {screen.userFullName}\r\n          </Typography.Text>\r\n        </Row>\r\n\r\n        {screen.type === \"rtc\" && (\r\n          <span className=\"friend-screen-sound\">\r\n            {!screen.hasAudio ? (\r\n              <MuteVoiceSVG\r\n                color=\"#fff\"\r\n                style={{ width: \"12px\", height: \"12px\" }}\r\n              />\r\n            ) : (\r\n              <VoiceSVG\r\n                color=\"#fff\"\r\n                style={{ width: \"12px\", height: \"12px\" }}\r\n              />\r\n            )}\r\n          </span>\r\n        )}\r\n\r\n        {!screen.hasVideo && (\r\n          <div className=\"friend-screen-img\">\r\n            <Avatar\r\n              size={50}\r\n              src={screen.userProfileImage || profileImg}\r\n              style={{ objectFit: \"cover\" }}\r\n            />\r\n          </div>\r\n        )}\r\n      </Row>\r\n    );\r\n  }\r\n}\r\n","import { Avatar, Col, Input, Row, Typography } from \"antd\";\r\nimport profileImg from \"assets/images/avatar.png\";\r\nimport {\r\n  MuteVoiceSVG,\r\n  NoVideoSVG,\r\n  SearchSVG,\r\n  VideoSVG,\r\n  VoiceSVG,\r\n} from \"assets/jsx-svg\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function MeetingCallParticipants({ participants, onSearch }) {\r\n  return (\r\n    <>\r\n      <Typography.Text className=\"fw-500 fz-18\">Participants</Typography.Text>\r\n\r\n      <Row gutter={[0, 14]} style={{ marginTop: \"24px\" }}>\r\n        <Col xs={24}>\r\n          <Input\r\n            onChange={onSearch}\r\n            prefix={<SearchSVG />}\r\n            placeholder=\"Search\"\r\n            style={{\r\n              borderRadius: \"14px\",\r\n              border: \"none\",\r\n              height: \"40px\",\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col xs={24}>\r\n          <Row className=\"support-participants\" gutter={[0, 12]}>\r\n            {participants?.map((participant) => (\r\n              <Col key={participant.uid} xs={24}>\r\n                <Row\r\n                  justify=\"space-between\"\r\n                  align=\"middle\"\r\n                  wrap={false}\r\n                  style={{\r\n                    padding: \"8px 12px\",\r\n                    background: participant.isHost && \"#fff\",\r\n                    borderRadius: \"32px\",\r\n                  }}\r\n                >\r\n                  <Col flex={1}>\r\n                    <Row align=\"middle\" wrap={false}>\r\n                      <Avatar\r\n                        style={{ objectFit: \"cover\" }}\r\n                        src={participant.profileImage || profileImg}\r\n                        size={35}\r\n                      />\r\n\r\n                      <Typography.Text\r\n                        ellipsis\r\n                        style={{\r\n                          marginInlineStart: \"0.5rem\",\r\n                          color: \"#888888\",\r\n                        }}\r\n                        className=\"fz-12\"\r\n                      >\r\n                        {participant.name}\r\n                      </Typography.Text>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col>\r\n                    <Row\r\n                      align=\"middle\"\r\n                      className=\"participant-status\"\r\n                      wrap={false}\r\n                    >\r\n                      {participant.isHost && (\r\n                        <span\r\n                          style={{\r\n                            color: \"#93C850\",\r\n                            fontSize: \"12px\",\r\n                            marginInlineEnd: \"8px\",\r\n                          }}\r\n                        >\r\n                          Host\r\n                        </span>\r\n                      )}\r\n                      {participant.hasAudio && (\r\n                        <VoiceSVG\r\n                          color={participant.talking ? \"#93C850\" : \"#A5A299\"}\r\n                          style={{ width: \"18px\", height: \"18px\" }}\r\n                        />\r\n                      )}\r\n                      {!participant.hasAudio && (\r\n                        <MuteVoiceSVG\r\n                          color=\"#BDBDBD\"\r\n                          style={{ width: \"18px\", height: \"18px\" }}\r\n                        />\r\n                      )}\r\n                      {participant.hasVideo && (\r\n                        <VideoSVG\r\n                          color=\"#A5A299\"\r\n                          style={{ width: \"18px\", height: \"18px\" }}\r\n                        />\r\n                      )}\r\n                      {!participant.hasVideo && (\r\n                        <NoVideoSVG\r\n                          color=\"#BDBDBD\"\r\n                          style={{ width: \"18px\", height: \"18px\" }}\r\n                        />\r\n                      )}\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { API_BASE } from \"./config\";\r\n\r\nconst SERVICE_BASE = API_BASE + \"/business/shop/product/\";\r\nconst COMMON_BASE = API_BASE + \"/business/shop/common/\";\r\nconst CART_BASE = API_BASE + \"/business/shop/cart/\";\r\n\r\nconst getProductList = ({\r\n  offset = 0,\r\n  limit = 100,\r\n  name = \"\",\r\n  mainCategory = [],\r\n  subCategory = [],\r\n  sortBy = \"\",\r\n}) => {\r\n  return axios.get(\r\n    SERVICE_BASE +\r\n      `get-products?limit=${limit}&offset=${offset}&name=${name}&mainCategory=${mainCategory}&subCategory=${subCategory}&sortBy=${sortBy}`,\r\n  );\r\n};\r\n\r\nconst getProductById = (productId) => {\r\n  return axios.get(SERVICE_BASE + `get-product/${productId}`);\r\n};\r\n\r\nconst getCategories = () => {\r\n  return axios.get(COMMON_BASE + \"get-categories\");\r\n};\r\n\r\nconst getMyProductList = ({\r\n  offset = 0,\r\n  limit = 1000,\r\n  name = \"\",\r\n  mainCategory = [],\r\n  subCategory = \"\",\r\n  sortBy = \"\",\r\n}) => {\r\n  return axios.get(\r\n    SERVICE_BASE +\r\n      `get-my-products?name=${name}&mainCategory=${mainCategory}&subCategory=${subCategory}&sortBy=${sortBy}&limit=${limit}&offset=${offset}`,\r\n  );\r\n};\r\n\r\nconst addToCart = (data) => {\r\n  return axios.post(CART_BASE + \"add-edit-quantity-support\", data);\r\n};\r\n\r\nconst getCartData = () => {\r\n  return axios.get(CART_BASE + \"list\");\r\n};\r\n\r\nconst ShopService = {\r\n  getProductList,\r\n  getProductById,\r\n  getCategories,\r\n  getMyProductList,\r\n  addToCart,\r\n  getCartData,\r\n};\r\n\r\nexport default ShopService;\r\n","import { Col, Image, Row, Skeleton, Typography } from \"antd\";\r\nimport { ShoppingCartSVG } from \"assets/jsx-svg\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport ShopService from \"services/shop.service\";\r\nimport { axiosCatch } from \"utils/axiosUtils\";\r\nimport { AppstoreOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport defualtImage from \"assets/images/download.png\";\r\nimport \"./styles.css\";\r\n\r\nexport default function InventorySection({ setProductSelected, setActiveBtn }) {\r\n  const [products, setProducts] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [productLoading, setProductLoading] = useState(false);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    ShopService.getCategories()\r\n      .then(({ data }) => {\r\n        setCategories(data.data.rows);\r\n      })\r\n      .catch(axiosCatch)\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setProductLoading(true);\r\n    ShopService.getMyProductList({\r\n      mainCategory: selectedCategory ? JSON.stringify([selectedCategory]) : \"\",\r\n    })\r\n      .then(({ data }) => {\r\n        setProducts(data.data.rows);\r\n      })\r\n      .catch(axiosCatch)\r\n      .finally(() => setProductLoading(false));\r\n  }, [selectedCategory]);\r\n\r\n  return (\r\n    <>\r\n      <Typography.Text className=\"fz-18 fw-500\">Iventory</Typography.Text>\r\n      <section style={{ marginTop: \"24px\" }}>\r\n        <Row gutter={[0, 16]}>\r\n          {/* <Col xs={24}>\r\n          <Input\r\n            prefix={<SearchSVG />}\r\n            placeholder=\"Search\"\r\n            style={{ borderRadius: \"14px\", border: \"none\" }}\r\n          />\r\n        </Col> */}\r\n          <Col xs={24}>\r\n            <Row\r\n              className=\"inventory-categories\"\r\n              wrap={false}\r\n              style={{ overflowX: \"auto\", paddingBottom: \"1rem\" }}\r\n              gutter={[8, 0]}\r\n            >\r\n              <Col\r\n                onClick={() => setSelectedCategory(\"\")}\r\n                className=\"clickable\"\r\n              >\r\n                <Row gutter={[0, 4]}>\r\n                  <Col xs={24}>\r\n                    <Row justify=\"center\">\r\n                      <div\r\n                        className=\"inventory-category\"\r\n                        style={{\r\n                          background:\r\n                            selectedCategory === \"\"\r\n                              ? \"linear-gradient(270deg, #960bcd 0%, #44c9ff 100%)\"\r\n                              : \"\",\r\n                        }}\r\n                      >\r\n                        <AppstoreOutlined\r\n                          style={{ color: \"#fff\", fontSize: \"30px\" }}\r\n                        />\r\n                      </div>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col xs={24}>\r\n                    <Row justify=\"center\">\r\n                      <Typography.Text ellipsis>All</Typography.Text>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n\r\n              {loading &&\r\n                [1, 2, 3, 4, 5, 6].map((item) => (\r\n                  <Col>\r\n                    <Skeleton.Avatar size=\"large\" />\r\n                  </Col>\r\n                ))}\r\n\r\n              {categories?.map((category) => (\r\n                <Col\r\n                  onClick={() => setSelectedCategory(category.id)}\r\n                  className=\"clickable\"\r\n                  style={{ maxWidth: \"80px\" }}\r\n                >\r\n                  <Row gutter={[0, 4]}>\r\n                    <Col xs={24}>\r\n                      <Row justify=\"center\">\r\n                        <div\r\n                          className=\"inventory-category\"\r\n                          style={{\r\n                            background:\r\n                              selectedCategory === category.id\r\n                                ? \"linear-gradient(270deg, #960bcd 0%, #44c9ff 100%)\"\r\n                                : \"\",\r\n                          }}\r\n                        >\r\n                          {category.image ? (\r\n                            <Image\r\n                              preview={false}\r\n                              src={category.image}\r\n                              alt=\"category\"\r\n                              style={{ borderRadius: \"50%\" }}\r\n                              width={30}\r\n                              height={30}\r\n                            />\r\n                          ) : (\r\n                            <ShoppingCartSVG\r\n                              color=\"#fff\"\r\n                              style={{ width: \"24px\", height: \"24px\" }}\r\n                            />\r\n                          )}\r\n                        </div>\r\n                      </Row>\r\n                    </Col>\r\n                    <Col xs={24}>\r\n                      <Row justify=\"center\">\r\n                        <Typography.Text ellipsis>\r\n                          {\r\n                            category.businessCategoryTranslations.find(\r\n                              (lang) => lang.languageCode === \"en\",\r\n                            )?.name\r\n                          }\r\n                        </Typography.Text>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n\r\n            <Row className=\"inventory-section\">\r\n              {productLoading && (\r\n                <>\r\n                  <Skeleton />\r\n                  <Skeleton />\r\n                  <Skeleton />\r\n                  <Skeleton />\r\n                </>\r\n              )}\r\n              {products?.map((product) => (\r\n                <Col xs={24} className=\"inventory-product\">\r\n                  <Row justify=\"space-between\" wrap={false} gutter={[8, 0]}>\r\n                    <Col flex={1}>\r\n                      <Row gutter={[8, 0]} wrap={false}>\r\n                        <Col>\r\n                          <div className=\"inventory-product-img\">\r\n                            <Image\r\n                              // preview={false}\r\n                              alt=\"productImage\"\r\n                              width={40}\r\n                              height={40}\r\n                              src={\r\n                                product.businessProductVariants[0]?.images\r\n                                  ?.length\r\n                                  ? product.businessProductVariants[0]\r\n                                      ?.images[0]\r\n                                  : defualtImage\r\n                              }\r\n                            />\r\n                          </div>\r\n                        </Col>\r\n                        <Col>\r\n                          <Typography.Text ellipsis>\r\n                            {\r\n                              product.businessProductTranslations.find(\r\n                                (lang) => lang.languageCode === \"en\",\r\n                              ).name\r\n                            }\r\n                          </Typography.Text>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                    <Col>\r\n                      <Row justify=\"end\" gutter={[0, 8]}>\r\n                        <Col xs={24}>\r\n                          <Row justify=\"end\">\r\n                            <Typography.Text className=\"fz-16 fw-500\">\r\n                              $ {product.businessProductVariants[0].price}\r\n                            </Typography.Text>\r\n                          </Row>\r\n                        </Col>\r\n                        <Col xs={24}>\r\n                          <Row justify=\"end\">\r\n                            <button\r\n                              className=\"add-cart\"\r\n                              onClick={() => {\r\n                                setProductSelected(product.id);\r\n                                setActiveBtn(\"productSection\");\r\n                              }}\r\n                            >\r\n                              <Row align=\"middle\" gutter={[6, 0]}>\r\n                                <Col>\r\n                                  <PlusOutlined />\r\n                                </Col>\r\n                                <Col>\r\n                                  <Typography.Text className=\"fw-400\">\r\n                                    Cart\r\n                                  </Typography.Text>\r\n                                </Col>\r\n                              </Row>\r\n                            </button>\r\n                          </Row>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Image,\r\n  InputNumber,\r\n  notification,\r\n  Row,\r\n  Skeleton,\r\n  Spin,\r\n  Tooltip,\r\n  Typography,\r\n} from \"antd\";\r\n\r\nimport ShopService from \"services/shop.service\";\r\nimport { ArrowRightSVG } from \"assets/jsx-svg\";\r\nimport { axiosCatch } from \"utils/axiosUtils\";\r\nimport { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport profileImg from \"assets/images/avatar.png\";\r\nimport defualtImage from \"assets/images/download.png\";\r\nimport \"./styles.css\";\r\n\r\nexport default function ProductSection({\r\n  setProductSelected,\r\n  productSelected,\r\n  participants,\r\n  setActiveBtn,\r\n}) {\r\n  const [productData, setProductData] = useState({});\r\n  const [currentProductVariant, setCurrentProductVariant] = useState([]);\r\n  const [productQuantity, setProductQuantity] = useState(1);\r\n  const [selectedVariant, setSelectedVariant] = useState([]);\r\n  const [attributes, setAttributes] = useState([]);\r\n  const [options, setOptions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [addLoading, setAddLoading] = useState({ id: 0, loading: false });\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    ShopService.getProductById(productSelected)\r\n      .then(({ data }) => {\r\n        setProductData(data.data.productInfo);\r\n        setCurrentProductVariant(\r\n          data.data.productInfo.businessProductVariants[0],\r\n        );\r\n        setOptions(data.data.productInfo.options);\r\n        setAttributes(data.data.productInfo.options.attributes);\r\n\r\n        setSelectedVariant(\r\n          data.data.productInfo.businessProductVariants[0].title.split(\"/\"),\r\n        );\r\n      })\r\n      .catch(axiosCatch)\r\n      .finally(() => setLoading(false));\r\n  }, [productSelected]);\r\n\r\n  useEffect(() => {\r\n    if (selectedVariant.length > 0) {\r\n      const found = productData?.businessProductVariants.find(\r\n        (variant) => variant.title === selectedVariant.join(\"/\"),\r\n      );\r\n      if (found) {\r\n        setCurrentProductVariant(found);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedVariant]);\r\n\r\n  const addToCart = ({ customerId }) => {\r\n    setAddLoading({ id: customerId, loading: true });\r\n    ShopService.addToCart({\r\n      productId: productData.id,\r\n      quantity: productQuantity,\r\n      productVariantId: currentProductVariant.id,\r\n      // ahmed\r\n      customerId: customerId,\r\n    })\r\n      .then(() => {\r\n        notification.success({ message: \"Product added successfully \" });\r\n      })\r\n      .catch(axiosCatch)\r\n      .finally(() => setAddLoading({ id: customerId, loading: false }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"inventory\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n      <div className=\"support-product-section\">\r\n        {loading && (\r\n          <>\r\n            <Skeleton />\r\n            <Skeleton />\r\n            <Skeleton />\r\n          </>\r\n        )}\r\n\r\n        {productData.id && currentProductVariant && (\r\n          <Row style={{ margin: \"24px 0 45px\" }} gutter={[10, 20]}>\r\n            <Col>\r\n              <Col xs={24}>\r\n                <Image\r\n                  width={140}\r\n                  src={currentProductVariant?.images[0] || defualtImage}\r\n                  style={{ borderRadius: \"16px\" }}\r\n                />\r\n              </Col>\r\n              <Col xs={24}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    margin: \"1rem 0 1rem\",\r\n                  }}\r\n                >\r\n                  <Col>\r\n                    <Button\r\n                      className=\"cart-add-btn\"\r\n                      shape=\"circle\"\r\n                      type=\"ghost\"\r\n                      onClick={() =>\r\n                        setProductQuantity((prev) => {\r\n                          if (prev === 0) {\r\n                            return prev;\r\n                          } else {\r\n                            return prev - 1;\r\n                          }\r\n                        })\r\n                      }\r\n                    >\r\n                      -\r\n                    </Button>\r\n                  </Col>\r\n                  <Col>\r\n                    <InputNumber\r\n                      className=\"cart-quantity-input\"\r\n                      controls={false}\r\n                      min={0}\r\n                      max={currentProductVariant.quantity || 0}\r\n                      value={productQuantity}\r\n                      onChange={(e) => setProductQuantity(e)}\r\n                    />\r\n                  </Col>\r\n                  <Col>\r\n                    <Button\r\n                      className=\"cart-add-btn\"\r\n                      shape=\"circle\"\r\n                      onClick={() => setProductQuantity((prev) => prev + 1)}\r\n                    >\r\n                      +\r\n                    </Button>\r\n                  </Col>\r\n                </div>\r\n              </Col>\r\n            </Col>\r\n            <Col flex={1}>\r\n              <Row justify=\"space-between\">\r\n                <Col>\r\n                  <Typography.Text className=\"fz-18 fw-600\">\r\n                    {\r\n                      productData.businessProductTranslations.find(\r\n                        (lang) => lang.languageCode === \"en\",\r\n                      ).name\r\n                    }\r\n                  </Typography.Text>\r\n                </Col>\r\n                <Col>\r\n                  <Typography.Text className=\"fz-18 fw-600\">\r\n                    $ {currentProductVariant.price}\r\n                  </Typography.Text>\r\n                </Col>\r\n              </Row>\r\n\r\n              {attributes?.map((att, index) => (\r\n                <>\r\n                  <Row>\r\n                    <Typography.Text className=\"fz-18 fw-500\">\r\n                      Select{\" \"}\r\n                      {\r\n                        att.lang.find((lang) => lang.lang === \"en\")\r\n                          ?.attributeName\r\n                      }\r\n                    </Typography.Text>\r\n                  </Row>\r\n\r\n                  {att.colorCheck ? (\r\n                    <Row gutter={[22, 22]} style={{ marginTop: \"12px\" }}>\r\n                      {options.attOptions\r\n                        .find((option) => option.attId === att.id)\r\n                        ?.options.map((option) => (\r\n                          <Col key={option.id}>\r\n                            <Tooltip title={option.enOptionName}>\r\n                              <button\r\n                                style={{\r\n                                  backgroundColor: option.color || \"#000\",\r\n                                  outline:\r\n                                    attributes.find(\r\n                                      (attr) => attr.id === att.id,\r\n                                    ).defaulttOption === option.id\r\n                                      ? \"5px solid #9f9f9f\"\r\n                                      : \"\",\r\n                                }}\r\n                                className=\"color-btn\"\r\n                                onClick={() => {\r\n                                  setSelectedVariant((prev) => {\r\n                                    prev[index] = option.enOptionName;\r\n                                    return [...prev];\r\n                                  });\r\n                                  let copy = [...attributes];\r\n                                  let foundIndex = copy.findIndex(\r\n                                    (attr) => attr.id === att.id,\r\n                                  );\r\n                                  if (foundIndex > -1) {\r\n                                    copy[foundIndex].defaulttOption = option.id;\r\n                                  }\r\n\r\n                                  setAttributes([...copy]);\r\n                                }}\r\n                              >\r\n                                <Typography.Text\r\n                                  ellipsis\r\n                                  className=\"color-text\"\r\n                                >\r\n                                  {option.enOptionName}\r\n                                </Typography.Text>\r\n                              </button>\r\n                            </Tooltip>\r\n                          </Col>\r\n                        ))}\r\n                    </Row>\r\n                  ) : (\r\n                    <Row gutter={[22, 22]} style={{ marginTop: \"12px\" }}>\r\n                      {options.attOptions\r\n                        .find((option) => option.attId === att.id)\r\n                        ?.options.map((option) => (\r\n                          <Col key={option.id}>\r\n                            <Tooltip title={option.enOptionName}>\r\n                              <button\r\n                                style={{\r\n                                  backgroundColor:\r\n                                    attributes.find(\r\n                                      (attr) => attr.id === att.id,\r\n                                    ).defaulttOption === option.id\r\n                                      ? \"#9f9f9f\"\r\n                                      : \"\",\r\n                                  color:\r\n                                    attributes.find(\r\n                                      (attr) => attr.id === att.id,\r\n                                    ).defaulttOption === option.id\r\n                                      ? \"white\"\r\n                                      : \"\",\r\n                                }}\r\n                                className=\"size-btn\"\r\n                                onClick={() => {\r\n                                  setSelectedVariant((prev) => {\r\n                                    prev[index] = option.enOptionName;\r\n                                    return [...prev];\r\n                                  });\r\n                                  let copy = [...attributes];\r\n                                  let foundIndex = copy.findIndex(\r\n                                    (attr) => attr.id === att.id,\r\n                                  );\r\n                                  if (foundIndex > -1) {\r\n                                    copy[foundIndex].defaulttOption = option.id;\r\n                                  }\r\n                                  setAttributes([...copy]);\r\n                                }}\r\n                              >\r\n                                <Typography.Text ellipsis>\r\n                                  {option.enOptionName[0]}\r\n                                </Typography.Text>\r\n                              </button>\r\n                            </Tooltip>\r\n                          </Col>\r\n                        ))}\r\n                    </Row>\r\n                  )}\r\n                </>\r\n              ))}\r\n\r\n              <Row className=\"mt-1\" gutter={[10, 10]} align=\"middle\">\r\n                <Col>\r\n                  <div\r\n                    className=\"dot\"\r\n                    style={{\r\n                      background:\r\n                        currentProductVariant.quantity > 0 ? \"#93c850\" : \"#888\",\r\n                    }}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <Typography.Text\r\n                    style={{\r\n                      color:\r\n                        currentProductVariant.quantity > 0 ? \"#888\" : \"eee\",\r\n                    }}\r\n                  >\r\n                    {currentProductVariant.quantity > 0\r\n                      ? `${currentProductVariant.quantity} pieces left available!`\r\n                      : \"Product Will be Avaliable Soon\"}\r\n                  </Typography.Text>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n            {/* <Col xs={24}>\r\n            <Input\r\n              prefix={<SearchSVG />}\r\n              placeholder=\"Search\"\r\n              style={{\r\n                borderRadius: \"14px\",\r\n                border: \"none\",\r\n                marginTop: \"0px\",\r\n              }}\r\n            />\r\n          </Col> */}\r\n\r\n            <Row\r\n              style={{ width: \"100%\" }}\r\n              className=\"meet-participants\"\r\n              gutter={[0, 12]}\r\n            >\r\n              {participants\r\n                ?.filter((p) => !p.isHost)\r\n                ?.map((participant) => (\r\n                  <Col key={participant.uid} xs={24}>\r\n                    <Row justify=\"space-between\" align=\"middle\" wrap={false}>\r\n                      <Col flex={1}>\r\n                        <Row align=\"middle\" wrap={false}>\r\n                          <Image\r\n                            style={{ borderRadius: \"50%\" }}\r\n                            preview={false}\r\n                            alt=\"profile pic\"\r\n                            src={participant.profileImage || profileImg}\r\n                            width={48}\r\n                            height={48}\r\n                          />\r\n\r\n                          <Typography.Text\r\n                            ellipsis\r\n                            style={{\r\n                              marginInlineStart: \"0.5rem\",\r\n                              color: \"#888888\",\r\n                              fontSize: \"1rem\",\r\n                            }}\r\n                          >\r\n                            {participant.name}\r\n                          </Typography.Text>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col>\r\n                        <button\r\n                          className=\"add-cart\"\r\n                          onClick={() =>\r\n                            addToCart({ customerId: participant.uid })\r\n                          }\r\n                        >\r\n                          <Row align=\"middle\" gutter={[6, 0]}>\r\n                            <Col>\r\n                              {addLoading.id === participant.uid &&\r\n                              addLoading.loading ? (\r\n                                <Spin spinning>\r\n                                  <LoadingOutlined />\r\n                                </Spin>\r\n                              ) : (\r\n                                <PlusOutlined />\r\n                              )}\r\n                            </Col>\r\n                            <Col>\r\n                              <Typography.Text\r\n                                className=\"fw-500\"\r\n                                style={{ color: \"#000\" }}\r\n                              >\r\n                                Cart\r\n                              </Typography.Text>\r\n                            </Col>\r\n                          </Row>\r\n                        </button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                ))}\r\n            </Row>\r\n          </Row>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useEffect, useRef } from \"react\";\r\nimport { Button, Col, Form, Image, Input, Row, Typography } from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport { useForm } from \"antd/es/form/Form\";\r\n\r\nimport { PaperclipSVG, SendSVG } from \"assets/jsx-svg\";\r\nimport profileImg from \"assets/images/avatar.png\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function MeetChat({\r\n  loading,\r\n  messages,\r\n  sendMessage,\r\n  noMarign = false,\r\n  isHost,\r\n  permissions,\r\n}) {\r\n  const [form] = useForm();\r\n\r\n  const messageListEndRef = useRef();\r\n\r\n  const onFinish = async (values) => {\r\n    const msg = values?.message?.trim();\r\n\r\n    if (msg) {\r\n      form.setFieldValue(\"message\", \"\");\r\n      await sendMessage(msg);\r\n      messageListEndRef.current?.scrollIntoView();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (messages.length) {\r\n      messageListEndRef.current?.scrollIntoView();\r\n    }\r\n  }, [messages]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"w-100 h-100 center-items\">\r\n        <LoadingOutlined />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Typography.Text className=\"fz-18 fw-500\">Chat</Typography.Text>\r\n      <Row className=\"support-chat\" style={{ margin: noMarign && \"24px 0rem\" }}>\r\n        <div className=\"meet-chat-panel\">\r\n          <div className=\"chat-list\">\r\n            {messages?.map((message, index) => (\r\n              <Row\r\n                key={index}\r\n                align=\"middle\"\r\n                wrap={false}\r\n                style={{ flexDirection: message.owner && \"row-reverse\" }}\r\n              >\r\n                <Image\r\n                  preview={false}\r\n                  width={45}\r\n                  height={45}\r\n                  src={message.profileImage || profileImg}\r\n                  style={{ borderRadius: \"50%\", objectFit: \"cover\" }}\r\n                />\r\n                <div\r\n                  className=\"chat-message\"\r\n                  style={{\r\n                    marginInlineEnd: message.owner && \"0.5rem\",\r\n                    borderRadius: message.owner && \"15px 3px 15px 15px\",\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <Row justify={message.owner ? \"end\" : \"start\"}>\r\n                      <Typography.Text className=\"fz-12 fw-600\">\r\n                        {message.name}\r\n                      </Typography.Text>\r\n                    </Row>\r\n                  </div>\r\n                  <div>\r\n                    <Row justify={message.owner ? \"end\" : \"start\"}>\r\n                      <Typography.Text className=\"fw-400\">\r\n                        {message.msg}\r\n                      </Typography.Text>\r\n                    </Row>\r\n                  </div>\r\n                </div>\r\n              </Row>\r\n            ))}\r\n            <span\r\n              ref={messageListEndRef}\r\n              style={{\r\n                minHeight: \"1px\",\r\n                overflowAnchor: \"auto\",\r\n                scrollMarginBottom: \"50px\",\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <Form form={form} onFinish={onFinish}>\r\n            <Row align=\"middle\" justify=\"space-between\" wrap={false}>\r\n              <Col flex={1} className=\"mr-1\">\r\n                <Form.Item name=\"message\">\r\n                  <Input\r\n                    className=\"message-input\"\r\n                    prefix={<PaperclipSVG />}\r\n                    placeholder=\"Message..\"\r\n                    disabled={!isHost && !permissions.chat}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n\r\n              <Col>\r\n                <Form.Item>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    shape=\"circle\"\r\n                    className=\"center-items\"\r\n                    htmlType=\"submit\"\r\n                  >\r\n                    <SendSVG style={{ width: \"18px\", height: \"18px\" }} />\r\n                  </Button>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\n","import { Button, Col, Image, Row, Typography } from \"antd\";\r\n\r\nimport defualtImage from \"assets/images/download.png\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ShopService from \"services/shop.service\";\r\nimport { axiosCatch } from \"utils/axiosUtils\";\r\nimport \"./styles.css\";\r\n\r\nexport default function MyCart({ setActiveBtn }) {\r\n  const [cart, setCart] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await ShopService.getCartData();\r\n        setCart(res.data.data.rows);\r\n      } catch (err) {\r\n        axiosCatch(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Typography.Text className=\"fz-18 fw-500\">My Cart</Typography.Text>\r\n      <section className=\"support-my-cart\">\r\n        {cart?.map((item) => (\r\n          <Row\r\n            key={item.id}\r\n            align=\"middle\"\r\n            justify=\"space-between\"\r\n            gutter={[0, 25]}\r\n            className=\"cart-item\"\r\n          >\r\n            <Col>\r\n              <Row\r\n                align=\"middle\"\r\n                justify=\"space-between\"\r\n                gutter={[16, 0]}\r\n                wrap={false}\r\n              >\r\n                <Col>\r\n                  <Image\r\n                    alt=\"product image\"\r\n                    src={\r\n                      item.businessProductVariant?.images?.length\r\n                        ? item.businessProductVariant?.images[0]\r\n                        : defualtImage\r\n                    }\r\n                    width={70}\r\n                    height={70}\r\n                    style={{ borderRadius: \"16px\" }}\r\n                    preview={false}\r\n                  />\r\n                </Col>\r\n                <Col>\r\n                  <Row style={{ maxWidth: \"160px\" }}>\r\n                    <Col xs={24}>\r\n                      <Typography.Text className=\"fz-14 fw-600\" ellipsis>\r\n                        {item.businessProductVariant?.title}\r\n                      </Typography.Text>\r\n                    </Col>\r\n                    <Col xs={24}>\r\n                      <Typography.Text\r\n                        className=\"fz-12\"\r\n                        style={{ color: \"#77838F\" }}\r\n                        ellipsis\r\n                      >\r\n                        Qty: {item.quantity}\r\n                      </Typography.Text>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n\r\n            <Col>\r\n              <Typography.Text className=\"fz-16 fw-600\">\r\n                $ {item.businessProductVariant?.price}\r\n              </Typography.Text>\r\n            </Col>\r\n          </Row>\r\n        ))}\r\n        <Row style={{ marginTop: \"24px\" }}>\r\n          <Col xs={24}>\r\n            <Link to=\"/checkout\">\r\n              <Button type=\"primary\" className=\"w-100\">\r\n                Checkout Now\r\n              </Button>\r\n            </Link>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import { Col, Row, Spin, notification, Typography, Button } from \"antd\";\r\nimport { useState } from \"react\";\r\n\r\nimport {\r\n  FileSVG,\r\n  LiveSVG,\r\n  ScreenSVG,\r\n  ShareDimenstionSVG,\r\n  WhiteBoardSVG,\r\n} from \"assets/jsx-svg\";\r\nimport \"./styles.css\";\r\n\r\nexport default function ShareTools({\r\n  setActiveBtn,\r\n  shareWhiteboard,\r\n  isHost,\r\n  permissions,\r\n  sharingScreen,\r\n  unPublishScreen,\r\n  publishScreen,\r\n  SystemMessage,\r\n  sharingDim,\r\n  sharingFile,\r\n  sharingWhiteboard,\r\n}) {\r\n  const [activeTool, setActiveTool] = useState();\r\n  const [activeToolLoading, setActiveToolLoading] = useState(false);\r\n\r\n  const tools = [\r\n    {\r\n      id: 1,\r\n      defaultLabel: sharingScreen ? \"Stop Share Screen\" : \"Share Screen\",\r\n      icon: ScreenSVG,\r\n    },\r\n    {\r\n      id: 2,\r\n      defaultLabel: \"Metaverse Experience\",\r\n      icon: ShareDimenstionSVG,\r\n    },\r\n    {\r\n      id: 3,\r\n      defaultLabel: \"Whiteboard\",\r\n      icon: WhiteBoardSVG,\r\n    },\r\n    // {\r\n    //   id: 4,\r\n    //   defaultLabel: \"World Map\",\r\n    //   icon: WorldMapSVG,\r\n    // },\r\n    {\r\n      id: 5,\r\n      defaultLabel: \"Files\",\r\n      icon: FileSVG,\r\n    },\r\n    {\r\n      id: 6,\r\n      defaultLabel: \"LiveStream\",\r\n      icon: LiveSVG,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <section className=\"share-tools\">\r\n      <Typography.Text className=\"fz-18 fw-500\">Sharing Tools</Typography.Text>\r\n\r\n      <Row gutter={[8, 8]} style={{ marginTop: \"24px\" }}>\r\n        {tools.map((tool) => (\r\n          <Col xs={8} key={tool.id}>\r\n            <Spin spinning={activeTool === tool.id && activeToolLoading}>\r\n              <div\r\n                className={`share-tools-card ${\r\n                  activeTool === tool.id && \"active\"\r\n                }`}\r\n                onClick={() => {\r\n                  if (tool.id === 1) {\r\n                    if (!isHost && !permissions.screen) return;\r\n\r\n                    if (sharingScreen) unPublishScreen();\r\n                    else {\r\n                      if (sharingDim) {\r\n                        SystemMessage.stopDim();\r\n                      } else if (sharingWhiteboard) {\r\n                        SystemMessage.stopWhiteboard();\r\n                      } else if (sharingFile) {\r\n                        SystemMessage.stopFilePreview();\r\n                      }\r\n\r\n                      publishScreen();\r\n                    }\r\n                    setActiveTool(1);\r\n                  } else if (tool.id === 3) {\r\n                    setActiveTool(tool.id);\r\n\r\n                    if (sharingDim) {\r\n                      SystemMessage.stopDim();\r\n                    } else if (sharingScreen) {\r\n                      unPublishScreen();\r\n                    } else if (sharingFile) {\r\n                      SystemMessage.stopFilePreview();\r\n                    }\r\n\r\n                    notification.info({\r\n                      message: \"Initializing whiteboard\",\r\n                    });\r\n                    setActiveToolLoading(true);\r\n                    shareWhiteboard().then(() => setActiveToolLoading(false));\r\n                  } else if (tool.id === 2) {\r\n                    setActiveBtn(\"metaExperience\");\r\n                    setActiveTool(tool.id);\r\n                  } else if (tool.id === 5) {\r\n                    setActiveBtn(\"files\");\r\n                    setActiveTool(tool.id);\r\n                  } else if (tool.id === 6) {\r\n                    setActiveBtn(\"liveStream\");\r\n                    setActiveTool(tool.id);\r\n                  } else {\r\n                    setActiveTool(tool.id);\r\n                  }\r\n                }}\r\n              >\r\n                <Row gutter={[0, 12]} justify=\"center\">\r\n                  <Col xs={24}>\r\n                    <Row justify=\"center\">\r\n                      <tool.icon\r\n                        style={{ width: \"24px\", height: \"24px\" }}\r\n                        color={activeTool === tool.id ? \"#960bcd\" : \"#000\"}\r\n                      />\r\n                    </Row>\r\n                  </Col>\r\n                  <Col xs={24}>\r\n                    <Row justify=\"center\" style={{ textAlign: \"center\" }}>\r\n                      <Typography.Text>{tool.defaultLabel}</Typography.Text>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </Spin>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </section>\r\n  );\r\n}\r\n","import { useEffect, useState, useContext } from \"react\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport { Button, Col, Row, Typography } from \"antd\";\r\n\r\nimport { ArrowRightSVG } from \"assets/jsx-svg\";\r\nimport MetaverseService from \"services/metaverse.service\";\r\nimport { axiosCatch } from \"utils/axiosUtils\";\r\nimport DragContext from \"../DragContext\";\r\nimport \"./styles.css\";\r\n\r\nexport default function MetaExperience({\r\n  setActiveBtn,\r\n  SystemMessage,\r\n  sharingDimId,\r\n  sharingScreen,\r\n  unPublishScreen,\r\n  sharingFile,\r\n  sharingWhiteboard,\r\n}) {\r\n  const [myDims, setMyDims] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const { setDragData } = useContext(DragContext);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { rows },\r\n          },\r\n        } = await MetaverseService.getMyDimensions();\r\n\r\n        setMyDims(rows);\r\n      } catch (error) {\r\n        axiosCatch(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"meta-experience\">\r\n      <div className=\"back-word\">\r\n        <Row\r\n          wrap={false}\r\n          align=\"middle\"\r\n          gutter={[8, 0]}\r\n          style={{ width: \"fit-content\" }}\r\n          className=\"clickable\"\r\n          onClick={() => setActiveBtn(\"tools\")}\r\n        >\r\n          <Col>\r\n            <Row align=\"middle\">\r\n              <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n            </Row>\r\n          </Col>\r\n          <Col>\r\n            <Typography.Text className=\"gc\">Back</Typography.Text>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <Row justify=\"center\">\r\n          <LoadingOutlined />\r\n        </Row>\r\n      ) : (\r\n        <Row gutter={[0, 10]} style={{ marginTop: \"2rem\" }}>\r\n          <Col xs={24}>\r\n            <Typography.Paragraph\r\n              ellipsis={{ rows: 3 }}\r\n              className=\"fz-18 fw-600\"\r\n            >\r\n              Drag verse & drop it to your window to share with others\r\n            </Typography.Paragraph>\r\n          </Col>\r\n\r\n          <Row\r\n            style={{ maxHeight: \"76vh\", overflowY: \"auto\", width: \"100%\" }}\r\n            gutter={[0, 12]}\r\n          >\r\n            {myDims.map((dim) => (\r\n              <Col\r\n                draggable\r\n                xs={24}\r\n                key={dim.id}\r\n                onDragStart={() =>\r\n                  setDragData({\r\n                    dragging: true,\r\n                    dropText: \"Drop to share dimension\",\r\n                    dimId: dim.id,\r\n                    file: null,\r\n                  })\r\n                }\r\n                onDragEnd={() =>\r\n                  setDragData({\r\n                    dragging: false,\r\n                    dropText: \"\",\r\n                    dimId: null,\r\n                    file: null,\r\n                  })\r\n                }\r\n              >\r\n                <div\r\n                  style={{\r\n                    border: +sharingDimId === +dim.id && \"2px solid #0000\",\r\n                    background:\r\n                      +sharingDimId === +dim.id &&\r\n                      `linear-gradient(#ffffff, #ffffff) padding-box,\r\n                      linear-gradient(270deg, #960bcd 0%, #44c9ff 100%)`,\r\n                  }}\r\n                  className=\"dim-card\"\r\n                  onClick={() => {\r\n                    if (sharingScreen) {\r\n                      unPublishScreen();\r\n                    } else if (sharingWhiteboard) {\r\n                      SystemMessage.stopWhiteboard();\r\n                    } else if (sharingFile) {\r\n                      SystemMessage.stopFilePreview();\r\n                    }\r\n\r\n                    SystemMessage.shareDim(dim.id);\r\n                  }}\r\n                >\r\n                  <div\r\n                    style={{ background: `url(${dim.image})` }}\r\n                    className=\"dim-card-img\"\r\n                  />\r\n\r\n                  <div className=\"dim-card-text\">\r\n                    <Typography className=\"wc\">\r\n                      {dim.customerDimensionTranslations[0].name}\r\n                    </Typography>\r\n                  </div>\r\n\r\n                  {+sharingDimId === +dim.id && (\r\n                    <div className=\"dim-card-btn\">\r\n                      <Button\r\n                        type=\"primary\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          e.stopPropagation();\r\n                          SystemMessage.stopDim();\r\n                        }}\r\n                      >\r\n                        Exit\r\n                      </Button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Row>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { Col, Image, Row, Typography } from \"antd\";\r\n\r\nimport EducationImg from \"assets/images/Education.png\";\r\nimport BusinessImg from \"assets/images/Business.png\";\r\nimport FunImg from \"assets/images/Fun.png\";\r\nimport { LeftArrowSVG } from \"assets/jsx-svg\";\r\nimport defaultDim from \"assets/images/house.png\";\r\n\r\nimport \"./styles.css\";\r\nimport { axiosCatch } from \"utils/axiosUtils\";\r\nimport MetaverseService from \"services/metaverse.service\";\r\n\r\nconst categoriesImages = {\r\n  Education: EducationImg,\r\n  Business: BusinessImg,\r\n  Fun: FunImg,\r\n};\r\n\r\nexport default function Holomeet() {\r\n  const [selectedCategory, setSelectedCategory] = useState();\r\n  const [category, setCategory] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const { meetingId } = useParams();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await MetaverseService.getHoloCategory();\r\n        setCategory(res.data.data.rows);\r\n      } catch (err) {\r\n        axiosCatch(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n  return (\r\n    <>\r\n      {!selectedCategory && (\r\n        <Typography.Text className=\"fz-18 fw-500 \">Holomeet</Typography.Text>\r\n      )}\r\n      <div className=\"holo-meet\">\r\n        <div\r\n          className={selectedCategory ? \"\" : \"center-items\"}\r\n          style={{\r\n            height: \"90%\",\r\n            marginTop: selectedCategory ? \"2rem\" : \"1rem\",\r\n          }}\r\n        >\r\n          <Row gutter={[0, 32]}>\r\n            {!selectedCategory && (\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Typography.Text className=\"fz-16 fw-500 \">\r\n                    Select Category\r\n                  </Typography.Text>\r\n                </Row>\r\n              </Col>\r\n            )}\r\n            <Col xs={24}>\r\n              <Row gutter={[16, 16]}>\r\n                {!loading &&\r\n                  category &&\r\n                  category.map((category) => (\r\n                    <Col\r\n                      xs={selectedCategory ? 8 : 24}\r\n                      xl={selectedCategory && 12}\r\n                      xxl={selectedCategory ? 8 : 24}\r\n                      key={category.id}\r\n                    >\r\n                      <div\r\n                        className=\"holo-meet-category\"\r\n                        style={{\r\n                          outline:\r\n                            selectedCategory === category.id &&\r\n                            \"1px solid #AEAEB2\",\r\n                          padding: selectedCategory && \"1rem\",\r\n                        }}\r\n                        onClick={() => {\r\n                          setSelectedCategory(category.id);\r\n                        }}\r\n                      >\r\n                        <Row gutter={[0, 12]}>\r\n                          <Col xs={24}>\r\n                            <Row justify=\"center\">\r\n                              <Image\r\n                                preview={false}\r\n                                alt={category.name}\r\n                                src={categoriesImages[category.name]}\r\n                                height={40}\r\n                              />\r\n                            </Row>\r\n                          </Col>\r\n                          <Col xs={24}>\r\n                            <Row justify=\"center\">\r\n                              <Typography.Text\r\n                                className=\"fz-16\"\r\n                                ellipsis\r\n                                title={category.name}\r\n                              >\r\n                                {category.name}\r\n                              </Typography.Text>\r\n                            </Row>\r\n                          </Col>\r\n                        </Row>\r\n                      </div>\r\n                    </Col>\r\n                  ))}\r\n              </Row>\r\n\r\n              {selectedCategory && (\r\n                <HolomeetRooms\r\n                  category={selectedCategory}\r\n                  meetingId={meetingId}\r\n                />\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n\r\n        {selectedCategory && (\r\n          <div\r\n            className=\"back-btn clickable\"\r\n            onClick={() => setSelectedCategory(null)}\r\n          >\r\n            <Row wrap={false} gutter={[6, 0]} align=\"middle\">\r\n              <Col>\r\n                <Row align=\"middle\">\r\n                  <LeftArrowSVG\r\n                    color=\"#8E8E93\"\r\n                    style={{ width: \"14px\", height: \"14px\" }}\r\n                  />\r\n                </Row>\r\n              </Col>\r\n              <Col>\r\n                <Typography.Text style={{ color: \"#8E8E93\" }}>\r\n                  Back\r\n                </Typography.Text>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst HolomeetRooms = ({ category, meetingId }) => {\r\n  const [metaverse, setMetaverse] = useState();\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await MetaverseService.getHoloDimensionByCategory(category);\r\n        setMetaverse(res.data.data.rows);\r\n      } catch (err) {\r\n        axiosCatch(err);\r\n      }\r\n    })();\r\n  }, [category]);\r\n  return (\r\n    <div className=\"holo-meet-room-main\">\r\n      <Row gutter={[16, 16]}>\r\n        {metaverse &&\r\n          metaverse.map((room, index) => (\r\n            <Col xs={24} key={index}>\r\n              <Link to={`/metaverse/${meetingId}?holomeet=true`}>\r\n                <div className=\"holo-meet-room\">\r\n                  <Row gutter={[0, 8]}>\r\n                    <Col xs={24}>\r\n                      <div\r\n                        className=\"holo-meet-img\"\r\n                        style={{\r\n                          background: room.image\r\n                            ? `url(${room.image})`\r\n                            : `url(${defaultDim})`,\r\n                        }}\r\n                      />\r\n                    </Col>\r\n                    <Col xs={24}>\r\n                      <Row gutter={[0, 4]}>\r\n                        {room.customerDimensionTranslations.find(\r\n                          (lang) => lang.languageCode === \"en\",\r\n                        ).name !== \"undefined\" ? (\r\n                          <Col xs={24}>\r\n                            <Typography.Text className=\"fz-16 fw-500\">\r\n                              {\r\n                                room.customerDimensionTranslations.find(\r\n                                  (lang) => lang.languageCode === \"en\",\r\n                                ).name\r\n                              }\r\n                            </Typography.Text>\r\n                          </Col>\r\n                        ) : null}\r\n                        {room.customerDimensionTranslations.find(\r\n                          (lang) => lang.languageCode === \"en\",\r\n                        ).description !== \"undefined\" ? (\r\n                          <Col xs={24}>\r\n                            <Typography.Paragraph\r\n                              className=\"fz-12\"\r\n                              ellipsis={{ rows: 2 }}\r\n                            >\r\n                              {\r\n                                room.customerDimensionTranslations.find(\r\n                                  (lang) => lang.languageCode === \"en\",\r\n                                ).description\r\n                              }\r\n                            </Typography.Paragraph>\r\n                          </Col>\r\n                        ) : null}\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </Link>\r\n            </Col>\r\n          ))}\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n","import { useMemo, useCallback, useState, useContext } from \"react\";\r\nimport useDrivePicker from \"react-google-drive-picker/dist\";\r\nimport {\r\n  Col,\r\n  Image,\r\n  Row,\r\n  Spin,\r\n  Tooltip,\r\n  Typography,\r\n  Upload,\r\n  message,\r\n} from \"antd\";\r\n\r\nimport CommonService from \"services/common.service\";\r\nimport { ArrowRightSVG, DeleteSVG } from \"assets/jsx-svg\";\r\nimport googleDriveImg from \"assets/images/GoogleDrive.png\";\r\nimport png from \"assets/images/png.png\";\r\nimport pdf from \"assets/images/pdf.png\";\r\nimport doc from \"assets/images/doc.png\";\r\nimport xls from \"assets/images/xls.png\";\r\nimport zip from \"assets/images/zip.png\";\r\nimport jpg from \"assets/images/jpg.png\";\r\nimport fileImg from \"assets/images/file.png\";\r\n\r\nimport DragContext from \"../DragContext\";\r\nimport \"./styles.css\";\r\n\r\nexport default function FilesSharing({\r\n  setActiveBtn,\r\n  sharedFiles,\r\n  setSharedFiles,\r\n}) {\r\n  const [uploading, setUploading] = useState(0);\r\n  const [openPicker] = useDrivePicker();\r\n  const { setDragData } = useContext(DragContext);\r\n\r\n  const draggerProps = useMemo(\r\n    () => ({\r\n      name: \"file\",\r\n      multiple: true,\r\n      action: false,\r\n      beforeUpload: () => false,\r\n      onChange: async (info) => {\r\n        setUploading((prev) => prev + 1);\r\n\r\n        try {\r\n          const {\r\n            uploadedFiles: { file: fileUrl },\r\n          } = await CommonService.uploadFile(info.file);\r\n\r\n          const newFile = {\r\n            id: info.file.uid,\r\n            name: info.file.name,\r\n            type: info.file.type,\r\n            url: fileUrl,\r\n            isGoogleDrive: false,\r\n            embedUrl: null,\r\n          };\r\n\r\n          setSharedFiles((prev) => [...prev, newFile]);\r\n\r\n          message.success({\r\n            content: `Uploaded file: ${info.file.name}`,\r\n          });\r\n        } catch (error) {\r\n          console.log(\"Error uploading file: \", error);\r\n          message.error({\r\n            content: `Failed to upload file: ${info.file.name}`,\r\n          });\r\n        } finally {\r\n          setUploading((prev) => prev - 1);\r\n        }\r\n      },\r\n      showUploadList: false,\r\n    }),\r\n    [setSharedFiles],\r\n  );\r\n\r\n  const onFileDelete = useCallback(\r\n    (id) => {\r\n      setSharedFiles((prev) => prev.filter((file) => file.id !== id));\r\n    },\r\n    [setSharedFiles],\r\n  );\r\n\r\n  const handleOpenPicker = useCallback(() => {\r\n    openPicker({\r\n      clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\r\n      developerKey: process.env.REACT_APP_GOOGLE_PICKER_API_KEY,\r\n      viewId: \"DOCS\",\r\n      showUploadView: true,\r\n      showUploadFolders: false,\r\n      supportDrives: true,\r\n      multiselect: true,\r\n      callbackFunction: (data) => {\r\n        // possible actions: loaded, picked, cancel\r\n        if (data.action === \"picked\" && data.docs?.length) {\r\n          const newFiles = data.docs.map((file) => ({\r\n            id: file.id,\r\n            name: file.name,\r\n            type: file.mimeType,\r\n            url: file.url,\r\n            isGoogleDrive: true,\r\n            embedUrl: file.embedUrl,\r\n          }));\r\n\r\n          setSharedFiles((prev) => [...prev, ...newFiles]);\r\n        }\r\n      },\r\n    });\r\n  }, [openPicker, setSharedFiles]);\r\n\r\n  return (\r\n    <section className=\"files-sharing\">\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"tools\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row style={{ marginTop: \"24px\" }} gutter={[0, 24]}>\r\n        <Col xs={24}>\r\n          <Typography.Text className=\"fz-16 fw-500\">\r\n            Upload & Share Files with Participants\r\n          </Typography.Text>\r\n        </Col>\r\n        <Col xs={24}>\r\n          <Upload.Dragger\r\n            {...draggerProps}\r\n            customRequest={(e) => e.onSuccess(\"ok\")}\r\n            style={{\r\n              background: \"#fff\",\r\n              borderRadius: \"14px\",\r\n              minHeight: \"140px\",\r\n            }}\r\n            fileList={[]}\r\n            disabled={!!uploading}\r\n          >\r\n            <Spin spinning={!!uploading}>\r\n              <Typography.Text className=\"fz-16 fw-500\">\r\n                Upload Files\r\n              </Typography.Text>\r\n              <br />\r\n              <Typography.Text className=\"gc\">or drag and drop</Typography.Text>\r\n            </Spin>\r\n          </Upload.Dragger>\r\n        </Col>\r\n\r\n        <Col style={{ cursor: \"pointer\" }} xs={24} onClick={handleOpenPicker}>\r\n          <div className=\"center-items from-google-drive\">\r\n            <Row gutter={[0, 8]}>\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Image\r\n                    src={googleDriveImg}\r\n                    alt=\"Google Drive\"\r\n                    height={30}\r\n                    width={30}\r\n                    preview={false}\r\n                  />\r\n                </Row>\r\n              </Col>\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Typography.Text className=\"fz-16 fw-500\">\r\n                    From Google Drive\r\n                  </Typography.Text>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n\r\n      {sharedFiles?.length ? (\r\n        <div style={{ marginTop: \"32px\" }}>\r\n          <Typography.Text className=\"fz-16 fw-500\">\r\n            Uploaded Files:\r\n          </Typography.Text>\r\n\r\n          <Row\r\n            gutter={[0, 8]}\r\n            className=\"mt-1\"\r\n            style={{ maxHeight: \"390px\", overflowY: \"auto\" }}\r\n          >\r\n            {sharedFiles.map((file) => (\r\n              <Col\r\n                key={file.id}\r\n                xs={24}\r\n                draggable\r\n                onDragStart={() =>\r\n                  setDragData({\r\n                    dragging: true,\r\n                    dropText: \"Drop to share file\",\r\n                    dimId: null,\r\n                    file: file,\r\n                  })\r\n                }\r\n                onDragEnd={() =>\r\n                  setDragData({\r\n                    dragging: false,\r\n                    dropText: \"\",\r\n                    dimId: null,\r\n                    file: null,\r\n                  })\r\n                }\r\n              >\r\n                <Row\r\n                  justify=\"space-between\"\r\n                  align=\"middle\"\r\n                  wrap={false}\r\n                  className=\"file-uploaded\"\r\n                >\r\n                  <Col>\r\n                    <Row align=\"middle\" wrap={false} gutter={[16, 0]}>\r\n                      <Col>\r\n                        <Image\r\n                          width={32}\r\n                          height={32}\r\n                          alt={file.name}\r\n                          src={filesExtentionsImg(file.type)}\r\n                          preview={false}\r\n                        />\r\n                      </Col>\r\n                      <Col style={{ maxWidth: \"100px\" }}>\r\n                        <Tooltip title={file.name}>\r\n                          <Typography.Text ellipsis>\r\n                            {file.name}\r\n                          </Typography.Text>\r\n                        </Tooltip>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col\r\n                    className=\"clickable\"\r\n                    onClick={() => onFileDelete(file.id)}\r\n                  >\r\n                    <Row align=\"middle\" wrap={false} gutter={[8, 0]}>\r\n                      <Col>\r\n                        <Typography.Text>Delete</Typography.Text>\r\n                      </Col>\r\n                      <Col>\r\n                        <Row align=\"middle\">\r\n                          <DeleteSVG color=\"#000\" />\r\n                        </Row>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </div>\r\n      ) : null}\r\n    </section>\r\n  );\r\n}\r\n\r\nconst filesExtentionsImg = (fileType) => {\r\n  const extension = fileType.split(\"/\")[1];\r\n\r\n  let imageSrc;\r\n  switch (extension) {\r\n    case \"png\":\r\n      imageSrc = png;\r\n      break;\r\n    case \"pdf\":\r\n      imageSrc = pdf;\r\n      break;\r\n    case \"doc\":\r\n    case \"docx\":\r\n      imageSrc = doc;\r\n      break;\r\n    case \"xls\":\r\n    case \"xlsx\":\r\n      imageSrc = xls;\r\n      break;\r\n    case \"zip\":\r\n      imageSrc = zip;\r\n      break;\r\n    case \"jpg\":\r\n    case \"jpeg\":\r\n      imageSrc = jpg;\r\n      break;\r\n    default:\r\n      imageSrc = fileImg;\r\n  }\r\n\r\n  return imageSrc;\r\n};\r\n","import { Col, Image, Row, Tooltip, Typography } from \"antd\";\r\n\r\nimport { ArrowRightSVG } from \"assets/jsx-svg\";\r\nimport png from \"assets/images/png.png\";\r\nimport pdf from \"assets/images/pdf.png\";\r\nimport doc from \"assets/images/doc.png\";\r\nimport xls from \"assets/images/xls.png\";\r\nimport zip from \"assets/images/zip.png\";\r\nimport jpg from \"assets/images/jpg.png\";\r\nimport fileImg from \"assets/images/file.png\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function SharedFiles({\r\n  setActiveBtn,\r\n  sharedFiles,\r\n  permissions,\r\n}) {\r\n  return (\r\n    <section className=\"shared-files\">\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"tools\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row style={{ marginTop: \"24px\" }} gutter={[0, 24]}>\r\n        <Col xs={24}>\r\n          <Typography.Text className=\"fz-16 fw-500\">\r\n            Files shared by host:\r\n          </Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row\r\n        gutter={[0, 8]}\r\n        className=\"mt-1\"\r\n        style={{ maxHeight: \"750px\", overflowY: \"auto\" }}\r\n      >\r\n        {sharedFiles.map((file) => (\r\n          <Col key={file.id} xs={24} style={{ userSelect: \"none\" }}>\r\n            <Row\r\n              justify=\"space-between\"\r\n              align=\"middle\"\r\n              wrap={false}\r\n              className=\"file-uploaded\"\r\n            >\r\n              <Col>\r\n                <Row align=\"middle\" wrap={false} gutter={[16, 0]}>\r\n                  <Col>\r\n                    <Image\r\n                      width={32}\r\n                      height={32}\r\n                      alt={file.name}\r\n                      src={filesExtentionsImg(file.type)}\r\n                      preview={false}\r\n                    />\r\n                  </Col>\r\n                  <Col style={{ maxWidth: \"100px\" }}>\r\n                    <Tooltip title={file.name}>\r\n                      <Typography.Text ellipsis>{file.name}</Typography.Text>\r\n                    </Tooltip>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              {permissions.canDownload && (\r\n                <Col\r\n                  className=\"clickable\"\r\n                  onClick={() => window.open(file.url)}\r\n                >\r\n                  <Row align=\"middle\" wrap={false} gutter={[8, 0]}>\r\n                    <Col>\r\n                      <Typography.Text>Download</Typography.Text>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst filesExtentionsImg = (fileType) => {\r\n  const extension = fileType.split(\"/\")[1];\r\n\r\n  let imageSrc;\r\n  switch (extension) {\r\n    case \"png\":\r\n      imageSrc = png;\r\n      break;\r\n    case \"pdf\":\r\n      imageSrc = pdf;\r\n      break;\r\n    case \"doc\":\r\n    case \"docx\":\r\n      imageSrc = doc;\r\n      break;\r\n    case \"xls\":\r\n    case \"xlsx\":\r\n      imageSrc = xls;\r\n      break;\r\n    case \"zip\":\r\n      imageSrc = zip;\r\n      break;\r\n    case \"jpg\":\r\n    case \"jpeg\":\r\n      imageSrc = jpg;\r\n      break;\r\n    default:\r\n      imageSrc = fileImg;\r\n  }\r\n\r\n  return imageSrc;\r\n};\r\n","import { Button, Col, Form, Input, Row, Typography, message } from \"antd\";\r\nimport { LeftArrowSVG } from \"assets/jsx-svg\";\r\n\r\nexport default function YoutubeLink({ setActiveBtn, fastboard }) {\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = async (values) => {\r\n    const pattern = new RegExp(\r\n      /^(?:https?:\\/\\/)?(?:m\\.|www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))((\\w|-){11})(?:\\S+)?$/,\r\n    );\r\n\r\n    if (pattern.test(values.link)) {\r\n      const regex = /[?&]v=([^&#]*)/;\r\n      const videoId = values.link.match(regex);\r\n      await fastboard?.manager.addApp({\r\n        kind: \"Plyr\",\r\n        options: { title: \"YouTube\" },\r\n        attributes: {\r\n          src: `https://www.youtube.com/embed/${videoId[1]}`,\r\n          provider: \"youtube\",\r\n        },\r\n      });\r\n      form.resetFields();\r\n    } else {\r\n      message.error(\"test\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onFinish={onFinish}\r\n      requiredMark={false}\r\n      form={form}\r\n      layout=\"vertical\"\r\n      name=\"youtune\"\r\n    >\r\n      <div className=\"clickable\" onClick={() => setActiveBtn(\"participant\")}>\r\n        <Row wrap={false} gutter={[6, 0]} align=\"middle\">\r\n          <Col>\r\n            <Row align=\"middle\">\r\n              <LeftArrowSVG\r\n                color=\"#8E8E93\"\r\n                style={{ width: \"14px\", height: \"14px\" }}\r\n              />\r\n            </Row>\r\n          </Col>\r\n          <Col>\r\n            <Typography.Text style={{ color: \"#8E8E93\" }}>Back</Typography.Text>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n\r\n      <Form.Item\r\n        className=\"mt-1\"\r\n        label=\"Add Video Link\"\r\n        name=\"link\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: \"Please Add Link\",\r\n          },\r\n        ]}\r\n      >\r\n        <Input placeholder=\"Enter Here\" />\r\n      </Form.Item>\r\n\r\n      <Row justify=\"end\" className=\"mt-1\">\r\n        <Button htmlType=\"submit\" type=\"primary\">\r\n          Play\r\n        </Button>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n","import { Button, Col, Form, Input, Row, Typography, notification } from \"antd\";\r\n\r\nimport {\r\n  CounterFileSVG,\r\n  FullNameSVG,\r\n  SignatureSVG,\r\n  PluseSVG,\r\n} from \"assets/jsx-svg\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function Counter({\r\n  setActiveBtn,\r\n  SystemMessage,\r\n  counterForm,\r\n  counterActiveBtn,\r\n  setCounterActiveBtn,\r\n  setAskedForCounter,\r\n}) {\r\n  const onFinish = (values) => {\r\n    if (counterActiveBtn === 1) {\r\n      SystemMessage.askAllUserForCounter({\r\n        formData: {\r\n          type: counterActiveBtn,\r\n          message: `full name`,\r\n          fileName: \"\",\r\n          customField: \"\",\r\n        },\r\n      });\r\n      notification.info({\r\n        message:\r\n          \"Notification has been send to participants to submit full name.\",\r\n      });\r\n    }\r\n    if (counterActiveBtn === 2) {\r\n      SystemMessage.askAllUserForCounter({\r\n        formData: {\r\n          type: counterActiveBtn,\r\n          message: `signature`,\r\n          fileName: \"\",\r\n          customField: \"\",\r\n        },\r\n      });\r\n      notification.info({\r\n        message:\r\n          \"Notification has been send to participants to submit signature.\",\r\n      });\r\n    }\r\n\r\n    if (counterActiveBtn === 3) {\r\n      SystemMessage.askAllUserForCounter({\r\n        formData: {\r\n          type: counterActiveBtn,\r\n          message: `${values.fileName} file`,\r\n          fileName: values.fileName,\r\n          customField: values.customField,\r\n        },\r\n      });\r\n      notification.info({\r\n        message:\r\n          \"Notification has been send to participants to submit full name.\",\r\n      });\r\n    }\r\n\r\n    if (counterActiveBtn === 4) {\r\n      SystemMessage.askAllUserForCounter({\r\n        formData: {\r\n          type: counterActiveBtn,\r\n          message: `${values.customField} field`,\r\n          fileName: \"\",\r\n          customField: values.customField,\r\n        },\r\n      });\r\n      notification.info({\r\n        message: `Notification has been send to participants to submit ${values.customField} field.`,\r\n      });\r\n    }\r\n    setAskedForCounter(true);\r\n    setActiveBtn(\"counterUserSharedData\");\r\n    counterForm.resetFields();\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      name=\"counter-form\"\r\n      onFinish={onFinish}\r\n      layout=\"vertical\"\r\n      requiredMark={false}\r\n      form={counterForm}\r\n      className=\"w-100 h-100\"\r\n    >\r\n      <Row\r\n        gutter={[0, 24]}\r\n        className=\"counter-section h-100\"\r\n        justify=\"space-between\"\r\n      >\r\n        <Col flex={1}>\r\n          <Row>\r\n            <Typography.Text className=\"fz-18 fw-500\">Counter</Typography.Text>\r\n          </Row>\r\n\r\n          <Row style={{ margin: \"24px 0 24px\" }}>\r\n            <Typography.Text className=\"fz-16 fw-500\">\r\n              Ask Participants For Data or Files\r\n            </Typography.Text>\r\n          </Row>\r\n          <Row gutter={[14, 16]}>\r\n            {counterButtons.map((btn) => (\r\n              <Col key={btn.id} xs={24} md={12}>\r\n                <button\r\n                  className={`counter-btn ${\r\n                    counterActiveBtn === btn.id && \"counter-btn-active\"\r\n                  }`}\r\n                  type=\"button\"\r\n                  onClick={() => setCounterActiveBtn(btn.id)}\r\n                >\r\n                  <Row gutter={[12, 0]} align=\"middle\" wrap={false}>\r\n                    <Col>\r\n                      <Row align=\"middle\">\r\n                        <btn.icon />\r\n                      </Row>\r\n                    </Col>\r\n                    <Col>\r\n                      <Typography.Text ellipsis>{btn.label}</Typography.Text>\r\n                    </Col>\r\n                  </Row>\r\n                </button>\r\n              </Col>\r\n            ))}\r\n\r\n            {counterActiveBtn === 3 && (\r\n              <Col xs={24}>\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      required: counterActiveBtn === 3,\r\n                      message: \"Please Enter The File Name\",\r\n                    },\r\n                  ]}\r\n                  name=\"fileName\"\r\n                  label=\"File Name\"\r\n                >\r\n                  <Input\r\n                    placeholder=\"Enter Here\"\r\n                    style={{ background: \"#fff\" }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            )}\r\n\r\n            {counterActiveBtn === 4 && (\r\n              <Col xs={24}>\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      required: counterActiveBtn === 4,\r\n                      message: \"Please Enter The Field Title\",\r\n                    },\r\n                  ]}\r\n                  name=\"customField\"\r\n                  label=\"Field Title\"\r\n                >\r\n                  <Input\r\n                    placeholder=\"Enter Here\"\r\n                    style={{ background: \"#fff\" }}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            )}\r\n          </Row>\r\n        </Col>\r\n\r\n        <Col>\r\n          <Row gutter={[14, 16]}>\r\n            <Col xs={24} md={12}>\r\n              <button\r\n                onClick={() => setActiveBtn(\"counterParticipants\")}\r\n                className=\"gradiant-border-btn w-100 counter-gradiant-btn\"\r\n                data=\"Select participants\"\r\n                style={{\r\n                  height: \"100%\",\r\n                  width: \"100%\",\r\n                  borderRadius: \"12px\",\r\n                }}\r\n              ></button>\r\n            </Col>\r\n            <Col xs={24} md={12}>\r\n              <Button\r\n                style={{\r\n                  borderRadius: \"12px\",\r\n                }}\r\n                type=\"primary\"\r\n                className=\"w-100\"\r\n                htmlType=\"submit\"\r\n              >\r\n                Send to All\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst counterButtons = [\r\n  { id: 1, label: \"Full Name\", icon: FullNameSVG },\r\n  { id: 2, label: \"Signature\", icon: SignatureSVG },\r\n  { id: 3, label: \"File\", icon: CounterFileSVG },\r\n  { id: 4, label: \"Custom Field\", icon: PluseSVG },\r\n];\r\n","import { useMemo, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  ConfigProvider,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Typography,\r\n  notification,\r\n} from \"antd\";\r\n\r\nimport { ArrowRightSVG, SearchSVG } from \"assets/jsx-svg\";\r\n\r\nexport default function CounterParticipants({\r\n  setActiveBtn,\r\n  participants,\r\n  counterForm,\r\n  SystemMessage,\r\n  counterActiveBtn,\r\n  setAskedForCounter,\r\n}) {\r\n  const [participantsForm] = Form.useForm();\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [showParticipants, setShowParticipants] = useState(\r\n    participants.filter((participant) => !participant.isHost),\r\n  );\r\n\r\n  useMemo(() => {\r\n    if (searchValue) {\r\n      setShowParticipants(\r\n        participants?.filter(\r\n          (participant) =>\r\n            !participant.isHost &&\r\n            participant.name.toLowerCase().includes(searchValue.toLowerCase()),\r\n        ),\r\n      );\r\n    } else {\r\n      setShowParticipants(\r\n        participants.filter((participant) => !participant.isHost),\r\n      );\r\n    }\r\n  }, [participants, searchValue]);\r\n\r\n  const onSearch = (e) => {\r\n    let value = e.target.value;\r\n    setSearchValue(value.trim());\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    console.warn(counterForm.getFieldValue(\"fileName\"));\r\n    const fileName = counterForm.getFieldValue(\"fileName\");\r\n    const customField = counterForm.getFieldValue(\"customField\");\r\n\r\n    if (values.users.length) {\r\n      if (counterActiveBtn === 1 || counterActiveBtn === 2) {\r\n        SystemMessage.askSelectedUserForCounter({\r\n          users: values.users,\r\n          formData: {\r\n            type: counterActiveBtn,\r\n            message: `${counterActiveBtn === 1 ? \"full name\" : \"signature\"}`,\r\n          },\r\n        });\r\n        notification.success({ message: \"Invitation send Succesfully \" });\r\n        participantsForm.setFieldValue(\"users\", undefined);\r\n      }\r\n\r\n      if (counterActiveBtn === 3 && fileName) {\r\n        SystemMessage.askSelectedUserForCounter({\r\n          users: values.users,\r\n          formData: {\r\n            type: counterActiveBtn,\r\n            message: `${fileName} file`,\r\n            fileName: fileName,\r\n          },\r\n        });\r\n        notification.success({ message: \"Invitation send Succesfully \" });\r\n        participantsForm.setFieldValue(\"users\", undefined);\r\n        setActiveBtn(\"counterUserSharedData\");\r\n      } else if (counterActiveBtn === 3 && !fileName) {\r\n        notification.error({ message: \"You should fill the file name\" });\r\n        setActiveBtn(\"counter\");\r\n      }\r\n\r\n      if (counterActiveBtn === 4 && customField) {\r\n        SystemMessage.askSelectedUserForCounter({\r\n          users: values.users,\r\n          formData: {\r\n            type: counterActiveBtn,\r\n            message: `${customField} file`,\r\n            customField: customField,\r\n          },\r\n        });\r\n        notification.success({ message: \"Invitation send Succesfully \" });\r\n        participantsForm.setFieldValue(\"users\", undefined);\r\n        setActiveBtn(\"counterUserSharedData\");\r\n      } else if (counterActiveBtn === 4 && !customField) {\r\n        notification.error({ message: \"You should fill the file name\" });\r\n        setActiveBtn(\"counter\");\r\n      }\r\n\r\n      setAskedForCounter(true);\r\n      setActiveBtn(\"counterUserSharedData\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <section className=\"h-100\">\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"counter\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Form form={participantsForm} onFinish={onFinish} className=\"h-100\">\r\n        <ConfigProvider\r\n          theme={{\r\n            components: {\r\n              Checkbox: {\r\n                borderRadiusSM: \"4px\",\r\n                colorBgContainer: \"transparent\",\r\n                colorPrimary: \"#5c9937\",\r\n                colorWhite: \"#fff\",\r\n                colorPrimaryHover: \"#5c9937\",\r\n                colorPrimaryBorder: \"#eee\",\r\n              },\r\n            },\r\n          }}\r\n        >\r\n          <Row\r\n            gutter={[0, 14]}\r\n            style={{ flexDirection: \"column\" }}\r\n            justify=\"space-between\"\r\n            className=\"w-100\"\r\n          >\r\n            <Col flex={1}>\r\n              <Row gutter={[0, 14]} className=\"mt-1\">\r\n                <Row>\r\n                  <Typography.Text className=\"fz-16 fw-500\">\r\n                    Select Participants\r\n                  </Typography.Text>\r\n                </Row>\r\n                <Col xs={24} style={{ paddingRight: \"0.5rem\" }}>\r\n                  <Row className=\"counter-search-input\">\r\n                    <Input\r\n                      onChange={onSearch}\r\n                      placeholder=\"Search\"\r\n                      prefix={\r\n                        <SearchSVG color=\"#dedede\" style={{ scale: \"0.8\" }} />\r\n                      }\r\n                    />\r\n                  </Row>\r\n                </Col>\r\n\r\n                <Col\r\n                  xs={24}\r\n                  style={{\r\n                    maxHeight: \"70vh\",\r\n                    overflowY: \"auto\",\r\n                    paddingRight: \"0.5rem\",\r\n                  }}\r\n                >\r\n                  <Row gutter={[0, 20]} className=\"custome-checkbox-reversed\">\r\n                    <Form.Item name=\"users\" noStyle>\r\n                      <Checkbox.Group\r\n                        style={{\r\n                          height: \"calc(100% - 40px)\",\r\n                          width: \"100%\",\r\n                          display: \"flex\",\r\n                          flexDirection: \"column\",\r\n                          rowGap: \"16px\",\r\n                        }}\r\n                        className=\"w-100\"\r\n                        onChange={(e) => setSelectedUsers(e)}\r\n                      >\r\n                        {showParticipants.map((user) => (\r\n                          <Checkbox value={user.uid} key={user.uid}>\r\n                            <Row align=\"middle\" gutter={[12, 0]} wrap={false}>\r\n                              <Col>\r\n                                <Avatar\r\n                                  src={user.profileImage}\r\n                                  alt={user.name}\r\n                                  size={35}\r\n                                />\r\n                              </Col>\r\n                              <Col>\r\n                                <Typography.Text className=\"fw-500\">\r\n                                  {user.name}\r\n                                </Typography.Text>\r\n                              </Col>\r\n                            </Row>\r\n                          </Checkbox>\r\n                        ))}\r\n                      </Checkbox.Group>\r\n                    </Form.Item>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n            <Col>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                style={{\r\n                  borderRadius: \"14px\",\r\n                  height: \"36px\",\r\n                  padding: \"0px 16px\",\r\n                  fontWeight: \"500\",\r\n                  fontSize: \"14px\",\r\n                  textOverflow: \"ellipsis\",\r\n                }}\r\n                className=\"w-100\"\r\n                disabled={!selectedUsers.length}\r\n              >\r\n                Send\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </ConfigProvider>\r\n      </Form>\r\n    </section>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Col, Row, Typography } from \"antd\";\r\n\r\nimport { ArrowRightSVG } from \"assets/jsx-svg\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function ProductionTools({ setActiveBtn }) {\r\n  const [dragedMedia, setDragedMedia] = useState(null);\r\n\r\n  const onDrop = (e, screenId) => {\r\n    e.preventDefault();\r\n    console.log(\"Draged Media\", dragedMedia);\r\n    console.log(\"Droped in Screen\", screenId);\r\n  };\r\n\r\n  return (\r\n    <section className=\"production-tools\">\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"tools\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row style={{ marginTop: \"24px\" }}>\r\n        <Typography.Text className=\"fz-22 fw-500\">\r\n          Production Tools\r\n        </Typography.Text>\r\n      </Row>\r\n\r\n      <Row gutter={[16, 0]} style={{ marginTop: \"2rem\" }}>\r\n        <Col xs={12} style={{ maxHeight: \"78vh\", overflowY: \"scroll\" }}>\r\n          <Row gutter={[0, 12]}>\r\n            <Col xs={24}>\r\n              <Typography.Text className=\"fz-18\">Screens</Typography.Text>\r\n            </Col>\r\n            {screens.map((screen) => (\r\n              <Col key={screen.id} xs={24}>\r\n                <div\r\n                  onDragOver={(e) => e.preventDefault()}\r\n                  onDrop={(e) => onDrop(e, screen.id)}\r\n                  className=\"production-tools-screen\"\r\n                  style={{\r\n                    borderColor: !dragedMedia && screen.color,\r\n                    background: dragedMedia && \"#333\",\r\n                  }}\r\n                >\r\n                  <Typography.Text className={dragedMedia && \"wc\"}>\r\n                    {dragedMedia && \"Drop on \"}\r\n                    {screen.label}\r\n                  </Typography.Text>\r\n                </div>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n\r\n        <Col xs={12} style={{ maxHeight: \"78vh\", overflowY: \"scroll\" }}>\r\n          <Row gutter={[12, 12]}>\r\n            <Col xs={24}>\r\n              <Typography.Text className=\"fz-18\">Media Library</Typography.Text>\r\n            </Col>\r\n            {mediaLibrary().map((media) => (\r\n              <Col key={media.id} xs={12}>\r\n                <div\r\n                  draggable\r\n                  className=\"production-tools-media\"\r\n                  onDragStart={() => setDragedMedia(media.id)}\r\n                  onDragEnd={() => setDragedMedia(null)}\r\n                >\r\n                  <Typography.Text>{media.label}</Typography.Text>\r\n                </div>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst screens = [\r\n  { id: 1, label: \"Screen 1\", color: \"#f00\" },\r\n  { id: 2, label: \"Screen 2\", color: \"#0f0\" },\r\n  { id: 3, label: \"Screen 3\", color: \"#00f\" },\r\n  { id: 4, label: \"Screen 4\", color: null },\r\n  { id: 5, label: \"Screen 5\", color: null },\r\n];\r\n\r\nconst mediaLibrary = () => {\r\n  let media = [];\r\n\r\n  for (let index = 1; index < 30; index++) {\r\n    media.push({ id: index, label: `Media ${index}` });\r\n  }\r\n\r\n  return media;\r\n};\r\n","import { Button, Col, Image, Row, Typography } from \"antd\";\r\nimport { WifiOutlined } from \"@ant-design/icons\";\r\n\r\nimport cam1Img from \"assets/images/cam1.png\";\r\nimport cam2Img from \"assets/images/cam2.png\";\r\nimport cam3Img from \"assets/images/cam3.png\";\r\nimport cam4Img from \"assets/images/cam4.png\";\r\n\r\nimport { ArrowRightSVG } from \"assets/jsx-svg\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function LiveStream({\r\n  setActiveBtn,\r\n  selectedCam,\r\n  setSelectedCam,\r\n}) {\r\n  const onAirStart = () => {\r\n    console.log(\"Air Start\");\r\n  };\r\n\r\n  const onAirFade = () => {\r\n    console.log(\"Air Fade\");\r\n  };\r\n\r\n  const onAirStop = () => {\r\n    console.log(\"Air Stop\");\r\n  };\r\n\r\n  return (\r\n    <section className=\"live-stream-section\">\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"tools\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={[0, 10]} style={{ marginTop: \"24px\" }}>\r\n        <Col xs={24}>\r\n          <Typography.Text className=\"fz-22 fw-500\">Livestream</Typography.Text>\r\n        </Col>\r\n        <Col xs={24}>\r\n          <Typography.Text className=\"fz-20\">\r\n            set Livestream Keys\r\n          </Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={[16, 16]} className=\"mt-1\">\r\n        <Col xs={24}>\r\n          <Typography.Text className=\"fz-20\">Screens</Typography.Text>\r\n        </Col>\r\n\r\n        <Col xs={24} style={{ maxHeight: \"330px\", overflowY: \"auto\" }}>\r\n          <Row gutter={[16, 16]}>\r\n            {cams.map((cam) => (\r\n              <Col key={cam.id} xs={24} md={12}>\r\n                <div\r\n                  className=\"live-stream-cam clickable\"\r\n                  style={{ borderColor: cam.color }}\r\n                  onClick={() => setSelectedCam(cam)}\r\n                >\r\n                  <Image\r\n                    src={cam.camImage}\r\n                    alt={cam.label}\r\n                    preview={false}\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                  />\r\n                </div>\r\n\r\n                <Typography.Text>{cam.label}</Typography.Text>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n\r\n        {selectedCam && (\r\n          <>\r\n            <Col xs={24}>\r\n              <Typography.Text className=\"fz-22 fw-500\">On Air</Typography.Text>\r\n            </Col>\r\n            <Col xs={24}>\r\n              <div\r\n                className=\"live-stream-cam\"\r\n                style={{ borderColor: selectedCam.color }}\r\n              >\r\n                <Image\r\n                  src={selectedCam.camImage}\r\n                  alt={selectedCam.label}\r\n                  preview={false}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                />\r\n              </div>\r\n            </Col>\r\n\r\n            <Col xs={24}>\r\n              <Row justify=\"space-between\">\r\n                <Col>\r\n                  <Button\r\n                    onClick={onAirStart}\r\n                    className=\"live-stream-btn\"\r\n                    style={{\r\n                      background: \"transparent\",\r\n                      border: \"2px solid #000\",\r\n                      padding: \"0px 14px\",\r\n                    }}\r\n                  >\r\n                    <Row align={\"middle\"} gutter={[12, 0]}>\r\n                      <Col>\r\n                        <div\r\n                          className=\"live-stream-btn-dot\"\r\n                          style={{\r\n                            background: \"#f00\",\r\n                          }}\r\n                        />\r\n                      </Col>\r\n                      <Col>\r\n                        <Typography.Text className=\"fz-16\">\r\n                          Start\r\n                        </Typography.Text>\r\n                      </Col>\r\n                    </Row>\r\n                  </Button>\r\n                </Col>\r\n                <Col>\r\n                  <Button\r\n                    onClick={onAirFade}\r\n                    style={{\r\n                      background: \"transparent\",\r\n                      border: \"2px solid #000\",\r\n                      padding: \"0px 14px\",\r\n                    }}\r\n                  >\r\n                    <Row align={\"middle\"} gutter={[12, 0]}>\r\n                      <Col>\r\n                        <WifiOutlined />\r\n                      </Col>\r\n                      <Col>\r\n                        <Typography.Text className=\"fz-16\">\r\n                          Fade\r\n                        </Typography.Text>\r\n                      </Col>\r\n                    </Row>\r\n                  </Button>\r\n                </Col>\r\n                <Col>\r\n                  <Button\r\n                    onClick={onAirStop}\r\n                    style={{\r\n                      background: \"transparent\",\r\n                      border: \"2px solid #000\",\r\n                      padding: \"0px 14px\",\r\n                    }}\r\n                  >\r\n                    <Row align={\"middle\"} gutter={[12, 0]}>\r\n                      <Col>\r\n                        <div className=\"live-stream-btn-dot\" />\r\n                      </Col>\r\n                      <Col>\r\n                        <Typography.Text className=\"fz-16\">\r\n                          Stop\r\n                        </Typography.Text>\r\n                      </Col>\r\n                    </Row>\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </>\r\n        )}\r\n      </Row>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst cams = [\r\n  { id: 1, camImage: cam1Img, label: \"Cam 1\", color: null },\r\n  { id: 2, camImage: cam2Img, label: \"Cam 2\", color: \"#f00\" },\r\n  { id: 3, camImage: cam3Img, label: \"Cam 3\", color: \"#0f0\" },\r\n  { id: 4, camImage: cam4Img, label: \"Cam 4\", color: \"#00f\" },\r\n];\r\n","import {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Typography,\r\n  Upload,\r\n  message,\r\n} from \"antd\";\r\nimport userContext from \"context/userContext\";\r\nimport { useContext, useMemo, useState } from \"react\";\r\nimport CommonService from \"services/common.service\";\r\n\r\nexport default function CounterForUser({\r\n  SystemMessage,\r\n  setAskedForCounter,\r\n  setActiveBtn,\r\n  counterFormData,\r\n}) {\r\n  const [loading, setLoading] = useState(false);\r\n  const { user } = useContext(userContext);\r\n\r\n  const onFinish = (values) => {\r\n    if (counterFormData.type === 1) {\r\n      SystemMessage.changeCounterUserSharedData({\r\n        user: {\r\n          id: user.id,\r\n          fullName: user.fullName,\r\n        },\r\n        fullName: values.fullName,\r\n      });\r\n    } else if (counterFormData.type === 4) {\r\n      SystemMessage.changeCounterUserSharedData({\r\n        user: {\r\n          id: user.id,\r\n          fullName: user.fullName,\r\n        },\r\n        customField: {\r\n          name: counterFormData.customField,\r\n          value: values.customField,\r\n        },\r\n      });\r\n    }\r\n    setAskedForCounter(false);\r\n    setActiveBtn(\"participant\");\r\n  };\r\n\r\n  const filesDraggerProps = useMemo(\r\n    () => ({\r\n      name: \"file\",\r\n      multiple: true,\r\n      action: false,\r\n      beforeUpload: () => false,\r\n      onChange: async (info) => {\r\n        setLoading(true);\r\n\r\n        try {\r\n          const {\r\n            uploadedFiles: { file: fileUrl },\r\n          } = await CommonService.uploadFile(info.file);\r\n\r\n          const newFile = {\r\n            id: info.file.uid,\r\n            name: info.file.name,\r\n            type: info.file.type,\r\n            url: fileUrl,\r\n            userName: user.fullName,\r\n          };\r\n\r\n          SystemMessage.changeCounterUserSharedData({\r\n            user: {\r\n              id: user.id,\r\n              fullName: user.fullName,\r\n            },\r\n            file: newFile,\r\n          });\r\n\r\n          message.success({\r\n            content: `Uploaded file: ${info.file.name}`,\r\n          });\r\n        } catch (error) {\r\n          console.warn(\"Error uploading file: \", error);\r\n          message.error({\r\n            content: `Failed to upload file: ${info.file.name}`,\r\n          });\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      showUploadList: false,\r\n    }),\r\n    [SystemMessage, user.fullName, user.id],\r\n  );\r\n\r\n  const signatureDraggerProps = useMemo(\r\n    () => ({\r\n      name: \"file\",\r\n      multiple: false,\r\n      action: false,\r\n      beforeUpload: () => false,\r\n      onChange: async (info) => {\r\n        setLoading(true);\r\n\r\n        try {\r\n          const {\r\n            uploadedFiles: { file: fileUrl },\r\n          } = await CommonService.uploadFile(info.file);\r\n\r\n          const newFile = {\r\n            id: info.file.uid,\r\n            name: info.file.name,\r\n            type: info.file.type,\r\n            url: fileUrl,\r\n            userName: user.fullName,\r\n          };\r\n\r\n          SystemMessage.changeCounterUserSharedData({\r\n            user: {\r\n              id: user.id,\r\n              fullName: user.fullName,\r\n            },\r\n            signature: newFile,\r\n          });\r\n\r\n          message.success({\r\n            content: `Uploaded file: ${info.file.name}`,\r\n          });\r\n        } catch (error) {\r\n          console.warn(\"Error uploading file: \", error);\r\n          message.error({\r\n            content: `Failed to upload file: ${info.file.name}`,\r\n          });\r\n        } finally {\r\n          setLoading(false);\r\n        }\r\n      },\r\n      showUploadList: false,\r\n    }),\r\n    [],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Typography.Text className=\"fz-18 fw-500\">Counter</Typography.Text>\r\n\r\n      <section style={{ marginTop: \"24px\", height: \"calc(100% - 80px\" }}>\r\n        <Typography.Text className=\"fw-500\">\r\n          Admin asked you for:\r\n        </Typography.Text>\r\n        <Form\r\n          name=\"userCounter\"\r\n          requiredMark={false}\r\n          layout=\"vertical\"\r\n          onFinish={onFinish}\r\n          className=\"h-100\"\r\n        >\r\n          <Row\r\n            className=\"h-100\"\r\n            justify=\"space-between\"\r\n            style={{ flexDirection: \"column\" }}\r\n          >\r\n            <Col>\r\n              {counterFormData.type === 1 && (\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      required: counterFormData.type === 1,\r\n                      message: \"Please Enter Your Full Name\",\r\n                    },\r\n                  ]}\r\n                  name=\"fullName\"\r\n                  label=\"Full Name\"\r\n                  className=\"mt-1\"\r\n                >\r\n                  <Input placeholder=\"Enter Your Full Name\" />\r\n                </Form.Item>\r\n              )}\r\n\r\n              {counterFormData.type === 2 && (\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      required: counterFormData.type === 2,\r\n                      message: \"Please Upload File\",\r\n                    },\r\n                  ]}\r\n                  name=\"signature\"\r\n                  label=\"Signature File\"\r\n                  className=\"mt-1\"\r\n                >\r\n                  <Upload.Dragger\r\n                    style={{\r\n                      background: \"#fff\",\r\n                      borderRadius: \"14px\",\r\n                      minHeight: \"140px\",\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      justifyContent: \"center\",\r\n                      alignContent: \"center\",\r\n                    }}\r\n                    {...signatureDraggerProps}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        justifyContent: \"center\",\r\n                        alignContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <Typography.Text className=\"fw-500\">\r\n                        Upload File\r\n                      </Typography.Text>\r\n                      <Typography.Text className=\"gc\">\r\n                        or drag and drop\r\n                      </Typography.Text>\r\n                    </div>\r\n                  </Upload.Dragger>\r\n                </Form.Item>\r\n              )}\r\n\r\n              {counterFormData.type === 3 && (\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      required: counterFormData.type === 3,\r\n                      message: \"Please Upload File\",\r\n                    },\r\n                  ]}\r\n                  name=\"file\"\r\n                  label={`${counterFormData.fileName}`}\r\n                  className=\"mt-1\"\r\n                >\r\n                  <Upload.Dragger\r\n                    style={{\r\n                      background: \"#fff\",\r\n                      borderRadius: \"14px\",\r\n                      minHeight: \"140px\",\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      justifyContent: \"center\",\r\n                      alignContent: \"center\",\r\n                    }}\r\n                    {...filesDraggerProps}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        justifyContent: \"center\",\r\n                        alignContent: \"center\",\r\n                      }}\r\n                    >\r\n                      <Typography.Text className=\"fw-500\">\r\n                        Upload File\r\n                      </Typography.Text>\r\n                      <Typography.Text className=\"gc\">\r\n                        or drag and drop\r\n                      </Typography.Text>\r\n                    </div>\r\n                  </Upload.Dragger>\r\n                </Form.Item>\r\n              )}\r\n\r\n              {counterFormData.type === 4 && (\r\n                <Form.Item\r\n                  rules={[\r\n                    {\r\n                      required: counterFormData.type === 3,\r\n                      message: `Please Enter ${counterFormData.customField}`,\r\n                    },\r\n                  ]}\r\n                  name=\"customField\"\r\n                  label={`${counterFormData.customField}`}\r\n                  className=\"mt-1\"\r\n                >\r\n                  <Input placeholder={`Enter ${counterFormData.customField}`} />\r\n                </Form.Item>\r\n              )}\r\n            </Col>\r\n            <Col>\r\n              <Form.Item style={{ marginTop: \"4rem\" }}>\r\n                <Button\r\n                  loading={loading}\r\n                  className=\"w-100\"\r\n                  type=\"primary\"\r\n                  htmlType=\"submit\"\r\n                >\r\n                  Done\r\n                </Button>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","import { Col, Image, Row, Tooltip, Typography } from \"antd\";\r\n\r\nimport { ArrowRightSVG } from \"assets/jsx-svg\";\r\nimport png from \"assets/images/png.png\";\r\nimport pdf from \"assets/images/pdf.png\";\r\nimport doc from \"assets/images/doc.png\";\r\nimport xls from \"assets/images/xls.png\";\r\nimport zip from \"assets/images/zip.png\";\r\nimport jpg from \"assets/images/jpg.png\";\r\nimport fileImg from \"assets/images/file.png\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function CounterSharedData({ setActiveBtn, counterSharedData }) {\r\n  console.warn(counterSharedData);\r\n  let sharedData = [];\r\n  if (Object.keys(counterSharedData).length) {\r\n    for (const [key, data] of Object.entries(counterSharedData)) {\r\n      sharedData.push(\r\n        <Col\r\n          key={key}\r\n          xs={24}\r\n          style={{\r\n            borderBottom: \"2px solid #ccc\",\r\n            paddingTop: \"1rem\",\r\n            paddingBottom: \"1rem\",\r\n          }}\r\n        >\r\n          <Row>\r\n            <Typography.Text\r\n              className=\"fz-16 fw-500\"\r\n              style={{ color: \"#960bcd\" }}\r\n            >\r\n              {data.name}\r\n            </Typography.Text>\r\n          </Row>\r\n\r\n          {data.fullName && (\r\n            <Row className=\"mt-1\">\r\n              <Typography.Text>\r\n                <span className=\"fw-600\" style={{ fontStyle: \"italic\" }}>\r\n                  Full Name:\r\n                </span>{\" \"}\r\n                {data.fullName}\r\n              </Typography.Text>\r\n            </Row>\r\n          )}\r\n\r\n          {data.files.length > 0 && (\r\n            <>\r\n              <Row className=\"mt-1\">\r\n                <Typography.Text\r\n                  className=\"fw-600\"\r\n                  style={{ fontStyle: \"italic\" }}\r\n                >\r\n                  Fiels Uploaded:{\" \"}\r\n                </Typography.Text>\r\n              </Row>\r\n\r\n              {data.files.map((file) => (\r\n                <Row\r\n                  key={file.id}\r\n                  justify=\"space-between\"\r\n                  align=\"middle\"\r\n                  wrap={false}\r\n                  className=\"file-uploaded\"\r\n                  style={{ userSelect: \"none\", marginTop: \"8px\" }}\r\n                >\r\n                  <Col>\r\n                    <Row align=\"middle\" wrap={false} gutter={[16, 0]}>\r\n                      <Col>\r\n                        <Image\r\n                          width={32}\r\n                          height={32}\r\n                          alt={file.name}\r\n                          src={filesExtentionsImg(file.type)}\r\n                          preview={false}\r\n                        />\r\n                      </Col>\r\n                      <Col style={{ maxWidth: \"100px\" }}>\r\n                        <Tooltip title={file.name}>\r\n                          <Typography.Text ellipsis>\r\n                            {file.name}\r\n                          </Typography.Text>\r\n                        </Tooltip>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col\r\n                    className=\"clickable\"\r\n                    onClick={() => window.open(file.url)}\r\n                  >\r\n                    <Row align=\"middle\" wrap={false} gutter={[8, 0]}>\r\n                      <Col>\r\n                        <Typography.Text>Download</Typography.Text>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n              ))}\r\n            </>\r\n          )}\r\n\r\n          {data.signature && (\r\n            <>\r\n              <Row className=\"mt-1\">\r\n                <Typography.Text\r\n                  className=\"fw-600\"\r\n                  style={{ fontStyle: \"italic\" }}\r\n                >\r\n                  Signature :\r\n                </Typography.Text>\r\n              </Row>\r\n\r\n              <Row\r\n                justify=\"space-between\"\r\n                align=\"middle\"\r\n                wrap={false}\r\n                className=\"file-uploaded \"\r\n                style={{ userSelect: \"none\", marginTop: \"8px\" }}\r\n              >\r\n                <Col>\r\n                  <Row align=\"middle\" wrap={false} gutter={[16, 0]}>\r\n                    <Col>\r\n                      <Image\r\n                        width={32}\r\n                        height={32}\r\n                        alt={data.signature.name}\r\n                        src={filesExtentionsImg(data.signature.type)}\r\n                        preview={false}\r\n                      />\r\n                    </Col>\r\n                    <Col style={{ maxWidth: \"100px\" }}>\r\n                      <Tooltip title={data.signature.name}>\r\n                        <Typography.Text ellipsis>\r\n                          {data.signature.name}\r\n                        </Typography.Text>\r\n                      </Tooltip>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n                <Col\r\n                  className=\"clickable\"\r\n                  onClick={() => window.open(data.signature.url)}\r\n                >\r\n                  <Row align=\"middle\" wrap={false} gutter={[8, 0]}>\r\n                    <Col>\r\n                      <Typography.Text>Download</Typography.Text>\r\n                    </Col>\r\n                  </Row>\r\n                </Col>\r\n              </Row>\r\n            </>\r\n          )}\r\n\r\n          {data.customField && data.customField.length > 0 && (\r\n            <Row className=\"mt-1\">\r\n              <Typography.Text\r\n                className=\"fw-600\"\r\n                style={{ fontStyle: \"italic\" }}\r\n              >\r\n                Custom Field:{\" \"}\r\n              </Typography.Text>\r\n            </Row>\r\n          )}\r\n          {data.customField &&\r\n            data.customField.map((field, index) => (\r\n              <Row key={index}>\r\n                <Typography.Text>\r\n                  {field.name} : {field.value}\r\n                </Typography.Text>\r\n              </Row>\r\n            ))}\r\n        </Col>,\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"shared-files\">\r\n      <Row\r\n        wrap={false}\r\n        align=\"middle\"\r\n        gutter={[8, 0]}\r\n        style={{ width: \"fit-content\" }}\r\n        className=\"clickable\"\r\n        onClick={() => setActiveBtn(\"counter\")}\r\n      >\r\n        <Col>\r\n          <Row align=\"middle\">\r\n            <ArrowRightSVG color=\"#8E8E93\" style={{ rotate: \"180deg\" }} />\r\n          </Row>\r\n        </Col>\r\n        <Col>\r\n          <Typography.Text className=\"gc\">Back</Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row style={{ marginTop: \"24px\" }} gutter={[0, 24]}>\r\n        <Col xs={24}>\r\n          <Typography.Text className=\"fz-16 fw-500\">\r\n            Files shared by users:\r\n          </Typography.Text>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={[0, 16]} style={{ maxHeight: \"750px\", overflowY: \"auto\" }}>\r\n        {sharedData}\r\n      </Row>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst filesExtentionsImg = (fileType) => {\r\n  const extension = fileType.split(\"/\")[1];\r\n\r\n  let imageSrc;\r\n  switch (extension) {\r\n    case \"png\":\r\n      imageSrc = png;\r\n      break;\r\n    case \"pdf\":\r\n      imageSrc = pdf;\r\n      break;\r\n    case \"doc\":\r\n    case \"docx\":\r\n      imageSrc = doc;\r\n      break;\r\n    case \"xls\":\r\n    case \"xlsx\":\r\n      imageSrc = xls;\r\n      break;\r\n    case \"zip\":\r\n      imageSrc = zip;\r\n      break;\r\n    case \"jpg\":\r\n    case \"jpeg\":\r\n      imageSrc = jpg;\r\n      break;\r\n    default:\r\n      imageSrc = fileImg;\r\n  }\r\n\r\n  return imageSrc;\r\n};\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport { Typography, Col, Row, Button, Image, Form } from \"antd\";\r\nimport { EyeInvisibleFilled } from \"@ant-design/icons\";\r\n\r\nimport MeetingCallParticipants from \"../MeetingCallParticipants\";\r\nimport InventorySection from \"../InventorySection\";\r\nimport ProductSection from \"../ProductSection\";\r\nimport MeetChat from \"../MeetChat\";\r\nimport MyCart from \"../MyCart\";\r\nimport ShareTools from \"../ShareTools\";\r\nimport MetaExperience from \"../MetaExperience\";\r\nimport Holomeet from \"../Holomeet\";\r\nimport FilesSharing from \"../FilesSharing\";\r\nimport SharedFiles from \"../SharedFiles\";\r\nimport YoutubeLink from \"../YoutubeLink\";\r\nimport Counter from \"../Counter\";\r\nimport CounterParticipants from \"../Counter/CounterParticipants\";\r\nimport ProductionTools from \"../ProductionTools\";\r\nimport LiveStream from \"../LiveStream\";\r\nimport CounterForUser from \"../Counter/CounterForUser\";\r\n\r\nimport { GroupsSVG } from \"assets/jsx-svg\";\r\nimport AvatarMain from \"assets/images/AvatarMain.png\";\r\n\r\nimport \"./styles.css\";\r\nimport CounterSharedData from \"../Counter/CounterSharedData\";\r\n\r\nexport default function MeetAsaider({\r\n  isHost,\r\n  chatLoading,\r\n  messages,\r\n  sendMessage,\r\n  participants,\r\n  setActiveBtn,\r\n  activeBtn,\r\n  SystemMessage,\r\n  shareWhiteboard,\r\n  permissions,\r\n  sharedDimId,\r\n  sharingDimId,\r\n  sharedFiles,\r\n  setSharedFiles,\r\n  sharingScreen,\r\n  unPublishScreen,\r\n  publishScreen,\r\n  sharingDim,\r\n  sharingFile,\r\n  sharingWhiteboard,\r\n  setHideSide,\r\n  joinedSharedDim,\r\n  setJoinedSharedDim,\r\n  fastboard,\r\n  setAskedForCounter,\r\n  counterFormData,\r\n  counterSharedData,\r\n}) {\r\n  const [productSelected, setProductSelected] = useState(null);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [showParticipants, setShowParticipants] = useState(participants);\r\n  const [selectedCam, setSelectedCam] = useState(null);\r\n  const [counterActiveBtn, setCounterActiveBtn] = useState(3);\r\n  const [counterForm] = Form.useForm();\r\n\r\n  useMemo(() => {\r\n    if (searchValue) {\r\n      setShowParticipants(\r\n        participants?.filter((participant) =>\r\n          participant.name.toLowerCase().includes(searchValue.toLowerCase()),\r\n        ),\r\n      );\r\n    } else {\r\n      setShowParticipants(participants);\r\n    }\r\n  }, [participants, searchValue]);\r\n\r\n  const onSearch = (e) => {\r\n    let value = e.target.value;\r\n    setSearchValue(value.trim());\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!!sharedDimId) {\r\n      setActiveBtn(\"sharingDim\");\r\n    } else {\r\n      setActiveBtn(\"participant\");\r\n    }\r\n  }, [setActiveBtn, sharedDimId]);\r\n\r\n  useEffect(() => {\r\n    if (sharingFile && !isHost) {\r\n      setActiveBtn(\"sharedFiles\");\r\n    }\r\n  }, [setActiveBtn, sharingFile, isHost]);\r\n\r\n  return (\r\n    <aside className=\"h-100\">\r\n      <div className=\"hide-sider clickable\" onClick={() => setHideSide(true)}>\r\n        <EyeInvisibleFilled style={{ color: \"#8E8E93\" }} />\r\n        <Typography.Text className=\"fw-500 gc\">Hide Panel</Typography.Text>\r\n      </div>\r\n      <>\r\n        {activeBtn === \"metaExperience\" && (\r\n          <MetaExperience\r\n            SystemMessage={SystemMessage}\r\n            setActiveBtn={setActiveBtn}\r\n            sharingDimId={sharingDimId}\r\n            sharingScreen={sharingScreen}\r\n            unPublishScreen={unPublishScreen}\r\n            sharingFile={sharingFile}\r\n            sharingWhiteboard={sharingWhiteboard}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"myCart\" && <MyCart />}\r\n\r\n        {activeBtn === \"productSection\" && (\r\n          <ProductSection\r\n            setProductSelected={setProductSelected}\r\n            productSelected={productSelected}\r\n            participants={participants}\r\n            setActiveBtn={setActiveBtn}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"youtubeLink\" && (\r\n          <YoutubeLink setActiveBtn={setActiveBtn} fastboard={fastboard} />\r\n        )}\r\n\r\n        {activeBtn === \"counter\" && (\r\n          <Counter\r\n            setActiveBtn={setActiveBtn}\r\n            SystemMessage={SystemMessage}\r\n            counterForm={counterForm}\r\n            counterActiveBtn={counterActiveBtn}\r\n            setCounterActiveBtn={setCounterActiveBtn}\r\n            setAskedForCounter={setAskedForCounter}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"userCounter\" && (\r\n          <CounterForUser\r\n            SystemMessage={SystemMessage}\r\n            setActiveBtn={setActiveBtn}\r\n            setAskedForCounter={setAskedForCounter}\r\n            counterFormData={counterFormData}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"counterUserSharedData\" && (\r\n          <CounterSharedData\r\n            setActiveBtn={setActiveBtn}\r\n            counterSharedData={counterSharedData}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"counterParticipants\" && (\r\n          <CounterParticipants\r\n            setActiveBtn={setActiveBtn}\r\n            participants={participants}\r\n            counterForm={counterForm}\r\n            SystemMessage={SystemMessage}\r\n            counterActiveBtn={counterActiveBtn}\r\n            setAskedForCounter={setAskedForCounter}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"productionTools\" && (\r\n          <ProductionTools setActiveBtn={setActiveBtn} />\r\n        )}\r\n\r\n        {activeBtn === \"liveStream\" && (\r\n          <LiveStream\r\n            setActiveBtn={setActiveBtn}\r\n            selectedCam={selectedCam}\r\n            setSelectedCam={setSelectedCam}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"tools\" && (\r\n          <ShareTools\r\n            setActiveBtn={setActiveBtn}\r\n            shareWhiteboard={shareWhiteboard}\r\n            isHost={isHost}\r\n            permissions={permissions}\r\n            sharingScreen={sharingScreen}\r\n            unPublishScreen={unPublishScreen}\r\n            publishScreen={publishScreen}\r\n            SystemMessage={SystemMessage}\r\n            sharingDim={sharingDim}\r\n            sharingFile={sharingFile}\r\n            sharingWhiteboard={sharingWhiteboard}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"participant\" && (\r\n          <MeetingCallParticipants\r\n            participants={showParticipants}\r\n            onSearch={onSearch}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"inventory\" && (\r\n          <InventorySection\r\n            setProductSelected={setProductSelected}\r\n            setActiveBtn={setActiveBtn}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"chat\" && (\r\n          <Row gutter={[0, 14]} className=\"h-100\">\r\n            <Col xs={24}>\r\n              <MeetChat\r\n                loading={chatLoading}\r\n                messages={messages}\r\n                sendMessage={sendMessage}\r\n                participants={participants}\r\n                isHost={isHost}\r\n                permissions={permissions}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        )}\r\n\r\n        {activeBtn === \"holomeet\" && <Holomeet />}\r\n\r\n        {activeBtn === \"files\" && (\r\n          <FilesSharing\r\n            setActiveBtn={setActiveBtn}\r\n            sharedFiles={sharedFiles}\r\n            setSharedFiles={setSharedFiles}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"sharedFiles\" && (\r\n          <SharedFiles\r\n            setActiveBtn={setActiveBtn}\r\n            sharedFiles={sharedFiles}\r\n            permissions={permissions}\r\n          />\r\n        )}\r\n\r\n        {activeBtn === \"sharingDim\" && (\r\n          <>\r\n            <Row style={{ marginTop: \"24px\" }}>\r\n              <Typography.Text className=\"fz-18 fw-400\">\r\n                You Can Join Metaverse Experience With Other Participants.\r\n              </Typography.Text>\r\n            </Row>\r\n            <Row\r\n              justify=\"center\"\r\n              gutter={[0, 16]}\r\n              style={{ marginTop: \"160px\" }}\r\n            >\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Image src={AvatarMain} preview={false} alt=\"Main avatar\" />\r\n                </Row>\r\n              </Col>\r\n              <Col className=\"join-dim-btn\" xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Button\r\n                    onClick={() => setJoinedSharedDim(!joinedSharedDim)}\r\n                    type=\"primary\"\r\n                    style={{ borderRadius: \"14px\" }}\r\n                  >\r\n                    <Row gutter={[6, 0]} wrap={false} align=\"middle\">\r\n                      <Col>\r\n                        <Row align=\"middle\">\r\n                          <GroupsSVG />\r\n                        </Row>\r\n                      </Col>\r\n                      <Col>\r\n                        {joinedSharedDim ? \"Leave Dimension\" : \"Join Dimension\"}\r\n                      </Col>\r\n                    </Row>\r\n                  </Button>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )}\r\n      </>\r\n    </aside>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport { API_BASE } from \"./config\";\r\n\r\nconst SERVICE_BASE = API_BASE + \"/common/\";\r\n\r\nconst SearchUser = (query) => axios.get(SERVICE_BASE + \"search-user?\" + query);\r\n\r\nconst ParticipantsService = { SearchUser };\r\n\r\nexport default ParticipantsService;\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  ConfigProvider,\r\n  Form,\r\n  Input,\r\n  notification,\r\n  Row,\r\n  Typography,\r\n} from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport { axiosCatch } from \"utils/axiosUtils\";\r\nimport ParticipantsService from \"services/participants.service\";\r\n\r\nimport \"./styles.css\";\r\n\r\nexport default function InviteFriends({ setInviteParticipantsPopup }) {\r\n  const [form] = Form.useForm();\r\n  const [nameSearch, setNameSearch] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSearch = async (name) => {\r\n    try {\r\n      setLoading(true);\r\n      if (name.length) {\r\n        const res = await ParticipantsService.SearchUser(\r\n          new URLSearchParams({\r\n            name,\r\n            limit: 20,\r\n            offset: 0,\r\n          }),\r\n        );\r\n        setUsers(res.data.data);\r\n      } else {\r\n        setUsers([]);\r\n      }\r\n    } catch (err) {\r\n      axiosCatch(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timeOutId = setTimeout(() => handleSearch(nameSearch), 500);\r\n    return () => clearTimeout(timeOutId);\r\n  }, [nameSearch]);\r\n\r\n  const onFinish = (values) => {\r\n    if (values.users.length) {\r\n      console.log(values.users);\r\n      notification.success({ message: \"Invitation send Succesfully \" });\r\n      form.setFieldValue(\"users\", undefined);\r\n      setInviteParticipantsPopup(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form form={form} onFinish={onFinish} className=\"invite-friends\">\r\n      <Form.Item name=\"users\" noStyle>\r\n        <Checkbox.Group onChange={(e) => setSelectedUsers(e)}>\r\n          <ConfigProvider\r\n            theme={{\r\n              token: {\r\n                colorPrimaryText: \"#fff\",\r\n                borderRadius: \"14px\",\r\n                colorBorder: \"#fff\",\r\n                colorText: \"#fff\",\r\n                colorTextPlaceholder: \"#fff\",\r\n              },\r\n              components: {\r\n                Checkbox: {\r\n                  borderRadiusSM: \"4px\",\r\n                  colorBgContainer: \"transparent\",\r\n                  colorPrimary: \"#fff\",\r\n                  colorWhite: \"#000\",\r\n                  colorPrimaryHover: \"#fff\",\r\n                  colorPrimaryBorder: \"#eee\",\r\n                },\r\n                Input: {\r\n                  colorPrimaryHover: \"#fff\",\r\n                },\r\n              },\r\n            }}\r\n          >\r\n            <Row gutter={[0, 10]}>\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Typography.Text className=\"fz-16 fw-600\">\r\n                    Invite Friends\r\n                  </Typography.Text>\r\n                </Row>\r\n              </Col>\r\n              <Col xs={24} style={{ padding: \"0rem 1rem\" }}>\r\n                <Input\r\n                  onChange={(e) => setNameSearch(e.target.value)}\r\n                  placeholder=\"Search\"\r\n                  style={{ height: \"40px\" }}\r\n                />\r\n              </Col>\r\n              {loading ? (\r\n                <Col xs={24}>\r\n                  <Row justify=\"center\">\r\n                    <LoadingOutlined />\r\n                  </Row>\r\n                </Col>\r\n              ) : (\r\n                <>\r\n                  <Col\r\n                    xs={24}\r\n                    style={{\r\n                      maxHeight: \"300px\",\r\n                      overflowY: \"auto\",\r\n                      padding: \"0rem 1rem\",\r\n                    }}\r\n                  >\r\n                    <Row gutter={[0, 12]} className=\"custome-checkbox-reversed\">\r\n                      {users?.map((user) => (\r\n                        <Checkbox value={user.id}>\r\n                          <Col xs={24} key={user.id}>\r\n                            <Row align=\"middle\" gutter={[12, 0]} wrap={false}>\r\n                              <Col>\r\n                                <Avatar\r\n                                  src={user.profileImage}\r\n                                  alt={user.firstName}\r\n                                  size={40}\r\n                                />\r\n                              </Col>\r\n                              <Col>\r\n                                <Typography.Text className=\"fw-500\">\r\n                                  {user.firstName + \" \" + user.lastName}\r\n                                </Typography.Text>\r\n                              </Col>\r\n                            </Row>\r\n                          </Col>\r\n                        </Checkbox>\r\n                      ))}\r\n                    </Row>\r\n                  </Col>\r\n                  <Col xs={24} style={{ padding: \"0 1rem\" }}>\r\n                    <Row justify=\"end\">\r\n                      <Button\r\n                        type=\"primary\"\r\n                        htmlType=\"submit\"\r\n                        style={{\r\n                          borderRadius: \"32px\",\r\n                          height: \"36px\",\r\n                          padding: \"0px 16px\",\r\n                          fontWeight: \"500\",\r\n                          fontSize: \"14px\",\r\n                        }}\r\n                        disabled={!selectedUsers.length}\r\n                      >\r\n                        Send Invitation\r\n                      </Button>\r\n                    </Row>\r\n                  </Col>\r\n                </>\r\n              )}\r\n            </Row>\r\n          </ConfigProvider>\r\n        </Checkbox.Group>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n}\r\n","import {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  Col,\r\n  Dropdown,\r\n  Grid,\r\n  Image,\r\n  Menu,\r\n  message,\r\n  notification,\r\n  Row,\r\n  Tooltip,\r\n  Typography,\r\n} from \"antd\";\r\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\r\nimport AgoraChat from \"agora-chat\";\r\nimport { createFastboard, apps } from \"@netless/fastboard\";\r\n\r\nimport userContext from \"context/userContext\";\r\nimport SocialEventService from \"services/social-event.service\";\r\nimport CommonService from \"services/common.service\";\r\nimport CustomSlider from \"components/CustomSlider\";\r\nimport logo from \"assets/images/logo.png\";\r\nimport hologram from \"assets/images/3d-hologram.png\";\r\nimport {\r\n  ParticipantsSVG,\r\n  PackageSVG,\r\n  ShoppingCartSVG,\r\n  LinkSVG,\r\n  AddUserSVG,\r\n  SMSSVG,\r\n  ToolsSVG,\r\n  FileSVG,\r\n  CounterSVG,\r\n  ShareDimenstionSVG,\r\n  AlbumsSVG,\r\n  VirtualMeetSVG,\r\n} from \"assets/jsx-svg\";\r\n\r\nimport MeetingScreen from \"./MeetingScreen\";\r\nimport MeetAsaider from \"./MeetAsaider\";\r\nimport InviteFriends from \"./InviteFriends\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nimport \"./styles.css\";\r\n\r\nconst slideResponsive = [\r\n  {\r\n    breakpoint: 3000,\r\n    settings: {\r\n      slidesToShow: 4,\r\n      slidesToScroll: 4,\r\n    },\r\n  },\r\n  {\r\n    breakpoint: 1480,\r\n    settings: {\r\n      slidesToShow: 3,\r\n      slidesToScroll: 3,\r\n    },\r\n  },\r\n  {\r\n    breakpoint: 1120,\r\n    settings: {\r\n      slidesToShow: 3,\r\n      slidesToScroll: 3,\r\n    },\r\n  },\r\n];\r\n\r\nconst formatSystemMsg = (msg) => `SYSTEM%%%${msg}`;\r\nconst isSystemMsg = (msg) => /^SYSTEM%%%[\\s\\S]*/.test(msg);\r\n\r\nexport default function VirtualSupportView({\r\n  micId,\r\n  camId,\r\n  playbackDeviceId,\r\n  startMicMuted,\r\n  startCamActive,\r\n}) {\r\n  const [meeting, setMeeting] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeBtn, setActiveBtn] = useState(\"participant\");\r\n  const [chatRoomId, setChatRoomId] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [localAudioTrack, setLocalAudioTrack] = useState(null);\r\n  const [localVideoTrack, setLocalVideoTrack] = useState(null);\r\n  const [localScreenTrack, setLocalScreenTrack] = useState(null);\r\n  const [soundMuted, setSoundMuted] = useState(false);\r\n  const [remoteUsers, setRemoteUsers] = useState([]);\r\n  const [mainScreenId, setMainScreenId] = useState(null);\r\n  const [sharingDimId, setSharingDimId] = useState(null);\r\n  const [sharingFile, setSharingFile] = useState(null);\r\n  const [sharedDimId, setSharedDimId] = useState(null);\r\n  const [fastboard, setFastboard] = useState(null);\r\n  const [joinedSharedDim, setJoinedSharedDim] = useState(false);\r\n  const [talking, setTalking] = useState(false);\r\n  const [sharedFiles, setSharedFiles] = useState([]);\r\n  const [permissions, setPermissions] = useState({\r\n    screen: false,\r\n    chat: true,\r\n    mic: true,\r\n    cam: true,\r\n    whiteboard: true,\r\n    canDownload: true,\r\n  });\r\n  const [hideSide, setHideSide] = useState(false);\r\n  const [inviteParticipantsPopup, setInviteParticipantsPopup] = useState(false);\r\n  const [askedForCounter, setAskedForCounter] = useState(false);\r\n  const [counterFormData, setCounterFormData] = useState(null);\r\n  const [counterSharedData, setCounterSharedData] = useState({});\r\n\r\n  const { user } = useContext(userContext);\r\n  const joinTriesRef = useRef(1);\r\n  const soundMutedRef = useRef();\r\n  const { meetingId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const userRef = useRef(user);\r\n  const micIdRef = useRef(micId);\r\n  const camIdRef = useRef(camId);\r\n  const playbackDeviceIdRef = useRef(playbackDeviceId);\r\n  const startMicMutedRef = useRef(startMicMuted);\r\n  const startCamActiveRef = useRef(startCamActive);\r\n  const chatRoomIdRef = useRef(chatRoomId);\r\n  const meetingRef = useRef(meeting);\r\n\r\n  const agoraClient = useRef(\r\n    AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" }),\r\n  );\r\n  const agoraScreenClient = useRef(\r\n    AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" }),\r\n  );\r\n  const agoraDimClient = useRef(\r\n    AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" }),\r\n  );\r\n  const agoraChatClient = useRef(\r\n    new AgoraChat.connection({\r\n      appKey: process.env.REACT_APP_AGORA_APP_KEY,\r\n    }),\r\n  );\r\n\r\n  const screenSize = Grid.useBreakpoint();\r\n\r\n  const isHost = useMemo(\r\n    () => meeting?.customerId === user.id,\r\n    [meeting, user],\r\n  );\r\n  const isHostRef = useRef(isHost);\r\n\r\n  const audioMuted = useMemo(\r\n    () => (localAudioTrack ? localAudioTrack.muted : true),\r\n    [localAudioTrack],\r\n  );\r\n\r\n  const screens = useMemo(() => {\r\n    const arr = [\r\n      {\r\n        screenId: `${user.id}_rtc`,\r\n        userId: user.id,\r\n        userFullName: user.fullName,\r\n        userProfileImage: user.profileImage,\r\n        hasAudio: localAudioTrack\r\n          ? !localAudioTrack.muted && localAudioTrack.enabled\r\n          : false,\r\n        hasVideo: localVideoTrack\r\n          ? !localVideoTrack.muted && localVideoTrack.enabled\r\n          : false,\r\n        type: \"rtc\",\r\n        playTrack: () => {\r\n          const track = agoraClient.current.localTracks.find(\r\n            (track) => track.trackMediaType === \"video\",\r\n          );\r\n\r\n          if (track) {\r\n            track.play(`${user.id}_rtc`);\r\n          }\r\n        },\r\n      },\r\n    ];\r\n\r\n    if (localScreenTrack) {\r\n      arr.push({\r\n        screenId: `${user.id}_screen`,\r\n        userId: user.id,\r\n        userFullName: user.fullName,\r\n        userProfileImage: user.profileImage,\r\n        hasAudio: false,\r\n        hasVideo: true,\r\n        type: \"video\",\r\n        playTrack: () => {\r\n          const track = agoraScreenClient.current.localTracks.find(\r\n            (track) => track.trackMediaType === \"video\",\r\n          );\r\n\r\n          if (track) {\r\n            track.play(`${user.id}_screen`);\r\n          }\r\n        },\r\n      });\r\n    }\r\n\r\n    remoteUsers.forEach((remoteUser) => {\r\n      arr.push({\r\n        screenId: `${remoteUser.uid}_rtc`,\r\n        userId: remoteUser.uid,\r\n        userFullName: remoteUser.fullName,\r\n        userProfileImage: remoteUser.profileImage,\r\n        hasAudio: remoteUser.hasAudio,\r\n        hasVideo: remoteUser.hasVideo,\r\n        type: \"rtc\",\r\n        playTrack: () => {\r\n          if (remoteUser.hasVideo && remoteUser.videoTrack) {\r\n            remoteUser.videoTrack.play(`${remoteUser.uid}_rtc`);\r\n          }\r\n        },\r\n      });\r\n\r\n      if (remoteUser.hasScreen && remoteUser.screenTrack) {\r\n        arr.push({\r\n          screenId: `${remoteUser.uid}_screen`,\r\n          userId: remoteUser.uid,\r\n          userFullName: remoteUser.fullName,\r\n          userProfileImage: remoteUser.profileImage,\r\n          hasAudio: false,\r\n          hasVideo: true,\r\n          type: \"video\",\r\n          playTrack: () => {\r\n            remoteUser.screenTrack.play(`${remoteUser.uid}_screen`);\r\n          },\r\n        });\r\n      }\r\n\r\n      if (remoteUser.hasDim && remoteUser.dimTrack) {\r\n        arr.push({\r\n          screenId: `${remoteUser.uid}_dim`,\r\n          userId: remoteUser.uid,\r\n          userFullName: remoteUser.fullName,\r\n          userProfileImage: remoteUser.profileImage,\r\n          hasAudio: false,\r\n          hasVideo: true,\r\n          type: \"video\",\r\n          playTrack: () => {\r\n            remoteUser.dimTrack.play(`${remoteUser.uid}_dim`);\r\n          },\r\n        });\r\n      }\r\n    });\r\n\r\n    return arr;\r\n  }, [localAudioTrack, localScreenTrack, localVideoTrack, remoteUsers, user]);\r\n\r\n  const mainScreen = useMemo(() => {\r\n    if (\r\n      sharingDimId ||\r\n      sharingFile ||\r\n      fastboard ||\r\n      (sharedDimId && joinedSharedDim)\r\n    ) {\r\n      return null;\r\n    }\r\n\r\n    if (mainScreenId) {\r\n      const screen = screens.find((screen) => screen.screenId === mainScreenId);\r\n      if (screen) return screen;\r\n    }\r\n\r\n    const myRtcScreen = screens.find(\r\n      (screen) => screen.type === \"rtc\" && screen.userId === user.id,\r\n    );\r\n\r\n    const randomVideoScreen = screens.find((screen) => screen.hasVideo);\r\n\r\n    if (!myRtcScreen.hasVideo && randomVideoScreen) {\r\n      return randomVideoScreen;\r\n    }\r\n\r\n    return myRtcScreen;\r\n  }, [\r\n    sharingDimId,\r\n    sharingFile,\r\n    fastboard,\r\n    sharedDimId,\r\n    joinedSharedDim,\r\n    mainScreenId,\r\n    screens,\r\n    user.id,\r\n  ]);\r\n\r\n  const otherScreens = useMemo(\r\n    () => screens.filter((screen) => screen.screenId !== mainScreen?.screenId),\r\n    [mainScreen, screens],\r\n  );\r\n\r\n  const participants = useMemo(() => {\r\n    const me = {\r\n      uid: user.id,\r\n      name: user.fullName,\r\n      profileImage: user.profileImage,\r\n      hasAudio: localAudioTrack\r\n        ? !localAudioTrack.muted && localAudioTrack.enabled\r\n        : false,\r\n      hasVideo: localVideoTrack\r\n        ? !localVideoTrack.muted && localVideoTrack.enabled\r\n        : false,\r\n      talking: talking,\r\n      isHost,\r\n    };\r\n\r\n    const remote = remoteUsers.map((remoteUser) => {\r\n      return {\r\n        uid: remoteUser.uid,\r\n        name: remoteUser.fullName,\r\n        profileImage: remoteUser.profileImage,\r\n        hasAudio: remoteUser.hasAudio,\r\n        hasVideo: remoteUser.hasVideo,\r\n        talking: remoteUser.talking,\r\n        isHost: meeting?.customerId === remoteUser.uid,\r\n      };\r\n    });\r\n\r\n    return [me, ...remote];\r\n  }, [\r\n    localAudioTrack,\r\n    localVideoTrack,\r\n    remoteUsers,\r\n    user,\r\n    talking,\r\n    isHost,\r\n    meeting,\r\n  ]);\r\n  const participantsRef = useRef(participants);\r\n\r\n  const sharingFileScreenObj = useMemo(\r\n    () => ({ type: \"file\", file: sharingFile }),\r\n    [sharingFile],\r\n  );\r\n\r\n  const sharingDimScreenObj = useMemo(\r\n    () => ({ type: \"dim\", dimensionId: sharingDimId }),\r\n    [sharingDimId],\r\n  );\r\n\r\n  const sharedDimScreenObj = useMemo(\r\n    () => ({ type: \"dim\", dimensionId: sharedDimId }),\r\n    [sharedDimId],\r\n  );\r\n\r\n  const whiteboardScreenObj = useMemo(\r\n    () => ({ type: \"whiteboard\", room: fastboard }),\r\n    [fastboard],\r\n  );\r\n\r\n  const sendMessage = useCallback(async (_text) => {\r\n    try {\r\n      if (agoraChatClient.current.isOpened() && chatRoomIdRef.current) {\r\n        if (isSystemMsg(_text)) {\r\n          await agoraChatClient.current.send(\r\n            AgoraChat.message.create({\r\n              chatType: \"chatRoom\",\r\n              type: \"txt\",\r\n              to: chatRoomIdRef.current,\r\n              msg: _text,\r\n            }),\r\n          );\r\n        } else {\r\n          const text = `${userRef.current.fullName}%%%${userRef.current.profileImage}%%%${_text}`;\r\n\r\n          await agoraChatClient.current.send(\r\n            AgoraChat.message.create({\r\n              chatType: \"chatRoom\",\r\n              type: \"txt\",\r\n              to: chatRoomIdRef.current,\r\n              msg: text,\r\n            }),\r\n          );\r\n\r\n          setMessages((prev) => [\r\n            ...prev,\r\n            {\r\n              from: userRef.current.id,\r\n              msg: _text,\r\n              profileImage: userRef.current.profileImage,\r\n              name: userRef.current.fullName,\r\n              owner: true,\r\n            },\r\n          ]);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.log(`Error sending message: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const publishAudio = useCallback(async () => {\r\n    try {\r\n      const audioTrack = await AgoraRTC.createMicrophoneAudioTrack({\r\n        AEC: true,\r\n        microphoneId: micIdRef.current || undefined,\r\n      });\r\n\r\n      await audioTrack.setMuted(startMicMutedRef.current);\r\n      await agoraClient.current.publish(audioTrack);\r\n\r\n      setLocalAudioTrack({\r\n        muted: audioTrack.muted,\r\n        enabled: audioTrack.enabled,\r\n      });\r\n    } catch (error) {\r\n      console.error(`Error publishing audio track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const publishCamera = useCallback(async () => {\r\n    try {\r\n      const videoTrack = await AgoraRTC.createCameraVideoTrack({\r\n        cameraId: camIdRef.current || undefined,\r\n      });\r\n\r\n      await agoraClient.current.publish(videoTrack);\r\n\r\n      setLocalVideoTrack({ enabled: videoTrack.enabled });\r\n    } catch (error) {\r\n      console.error(`Error publishing video track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const unPublishCamera = useCallback(async () => {\r\n    try {\r\n      const localVideoTrack = agoraClient.current.localTracks.find(\r\n        (track) => track.trackMediaType === \"video\",\r\n      );\r\n\r\n      if (localVideoTrack) {\r\n        localVideoTrack.close();\r\n        await agoraClient.current.unpublish(localVideoTrack);\r\n        setLocalVideoTrack(null);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error publishing video track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const publishScreen = useCallback(async () => {\r\n    try {\r\n      const screenTrack = await AgoraRTC.createScreenVideoTrack();\r\n\r\n      await screenTrack.setMuted(false);\r\n      await agoraScreenClient.current.publish(screenTrack);\r\n\r\n      setLocalScreenTrack({ enabled: screenTrack.enabled });\r\n    } catch (error) {\r\n      console.error(`Error publishing screen track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const unPublishScreen = useCallback(async () => {\r\n    try {\r\n      const localScreenTrack = agoraScreenClient.current.localTracks.find(\r\n        (track) => track.trackMediaType === \"video\",\r\n      );\r\n\r\n      if (localScreenTrack) {\r\n        localScreenTrack.close();\r\n        await agoraScreenClient.current.unpublish(localScreenTrack);\r\n        setLocalScreenTrack(null);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error publishing video track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const publishDim = useCallback(async (canvas) => {\r\n    try {\r\n      const stream = canvas.captureStream(30);\r\n      const videoTrack = stream.getVideoTracks()[0];\r\n\r\n      if (videoTrack) {\r\n        const track = AgoraRTC.createCustomVideoTrack({\r\n          mediaStreamTrack: videoTrack,\r\n          optimizationMode: \"motion\",\r\n        });\r\n\r\n        await track.setMuted(false);\r\n        await agoraDimClient.current.publish(track);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error publishing dim track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const unPublishDim = useCallback(async () => {\r\n    try {\r\n      const localDimTrack = agoraDimClient.current.localTracks.find(\r\n        (track) => track.trackMediaType === \"video\",\r\n      );\r\n\r\n      if (localDimTrack) {\r\n        localDimTrack.close();\r\n        await agoraDimClient.current.unpublish(localDimTrack);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error un publishing dim track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const SystemMessage = useMemo(() => {\r\n    return {\r\n      shareFile: (file) => {\r\n        setSharingFile(file);\r\n        sendMessage(\r\n          formatSystemMsg(\r\n            `PREVIEWFILE%%%${userRef.current.id}%%%${JSON.stringify(file)}`,\r\n          ),\r\n        );\r\n      },\r\n\r\n      shareDim: (dimId) => {\r\n        setSharingDimId(dimId);\r\n        sendMessage(\r\n          formatSystemMsg(`SHAREDIM%%%${userRef.current.id}%%%${dimId}`),\r\n        );\r\n      },\r\n\r\n      shareWhiteboard: (whiteboardRoomId) =>\r\n        sendMessage(\r\n          formatSystemMsg(\r\n            `SHAREWHITEBOARD%%%${userRef.current.id}%%%${whiteboardRoomId}`,\r\n          ),\r\n        ),\r\n\r\n      changePermissions: (permissions) =>\r\n        sendMessage(\r\n          formatSystemMsg(`PERMISSIONS%%%${JSON.stringify(permissions)}`),\r\n        ),\r\n\r\n      changeSharedFiles: (files) =>\r\n        sendMessage(formatSystemMsg(`SHAREDFILES%%%${JSON.stringify(files)}`)),\r\n\r\n      hostShareCounterData: (data) => {\r\n        sendMessage(\r\n          formatSystemMsg(`COUNTERHOSTSENDDATA%%%${JSON.stringify(data)}`),\r\n        );\r\n      },\r\n\r\n      changeCounterUserSharedData: ({\r\n        user,\r\n        fullName = \"\",\r\n        signature = null,\r\n        file = null,\r\n        customField = null,\r\n      }) =>\r\n        sendMessage(\r\n          formatSystemMsg(\r\n            `COUNTERUSERSENDDATA%%%${JSON.stringify(user)}%%%${JSON.stringify(\r\n              fullName,\r\n            )}%%%${JSON.stringify(signature)}%%%${JSON.stringify(\r\n              file,\r\n            )}%%%${JSON.stringify(customField)}`,\r\n          ),\r\n        ),\r\n\r\n      stopFilePreview: () => {\r\n        setSharingFile(null);\r\n        sendMessage(formatSystemMsg(\"ENDFILEPREVIEW\"));\r\n      },\r\n\r\n      stopWhiteboard: () => {\r\n        setFastboard((prev) => {\r\n          if (prev) {\r\n            try {\r\n              prev.destroy();\r\n            } catch (error) {\r\n              console.log(\"Error destroying fastboard\", error.message);\r\n            }\r\n          }\r\n\r\n          return null;\r\n        });\r\n        sendMessage(formatSystemMsg(\"ENDWHITEBOARD\"));\r\n      },\r\n\r\n      stopDim: () => {\r\n        unPublishDim();\r\n        setSharingDimId(null);\r\n        sendMessage(formatSystemMsg(\"ENDDIM\"));\r\n      },\r\n\r\n      endMeeting: () => sendMessage(formatSystemMsg(\"ENDMEETING\")),\r\n\r\n      askAllUserForCounter: (dataAskedFor) => {\r\n        sendMessage(\r\n          formatSystemMsg(\r\n            `ASKALLUSERFORCOUNTER%%%${JSON.stringify(dataAskedFor)}`,\r\n          ),\r\n        );\r\n      },\r\n\r\n      askSelectedUserForCounter: (usersAndDataAskedFor) => {\r\n        sendMessage(\r\n          formatSystemMsg(\r\n            `ASKELECTEDUSERSFORCOUNTER%%%${JSON.stringify(\r\n              usersAndDataAskedFor,\r\n            )}`,\r\n          ),\r\n        );\r\n      },\r\n    };\r\n  }, [sendMessage, unPublishDim]);\r\n\r\n  const joinWhiteboardRoom = useCallback(async (whiteboardRoomId) => {\r\n    try {\r\n      const {\r\n        data: { whiteboardRoomToken },\r\n      } = await SocialEventService.genWhiteboardRoomToken(whiteboardRoomId);\r\n\r\n      const fastboard = await createFastboard({\r\n        sdkConfig: {\r\n          appIdentifier: process.env.REACT_APP_AGORA_WHITEBOARD_APP_ID,\r\n          region: \"gb-lon\",\r\n        },\r\n        joinRoom: {\r\n          uid: `${userRef.current.id}`,\r\n          uuid: whiteboardRoomId,\r\n          roomToken: whiteboardRoomToken,\r\n          userPayload: {\r\n            nickName: userRef.current.fullName,\r\n          },\r\n        },\r\n        managerConfig: {\r\n          cursor: true,\r\n        },\r\n      });\r\n\r\n      apps.push(\r\n        {\r\n          icon: \"https://api.iconify.design/logos:youtube-icon.svg?color=currentColor\",\r\n          kind: \"Plyr\",\r\n          label: \"YouTube\",\r\n          onClick() {\r\n            setActiveBtn(\"youtubeLink\");\r\n          },\r\n        },\r\n        {\r\n          icon: \"https://png.pngtree.com/png-vector/20190514/ourmid/pngtree-emb--file-format-icon-design-png-image_1040671.jpg\",\r\n          kind: \"EmbeddedPage\",\r\n          label: \"Embed\",\r\n          onClick(app) {\r\n            app.manager.addApp({\r\n              kind: \"EmbeddedPage\",\r\n              options: { title: \"Embed\" },\r\n              attributes: {\r\n                src: window.embed,\r\n              },\r\n            });\r\n          },\r\n        },\r\n      );\r\n\r\n      setFastboard(fastboard);\r\n      return true;\r\n    } catch (error) {\r\n      console.log(`Error joining whiteboard: ${error.message}`);\r\n      console.log(error);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  const shareWhiteboard = useCallback(async () => {\r\n    try {\r\n      const {\r\n        data: { whiteboardRoomId },\r\n      } = await SocialEventService.createWhiteboardRoom();\r\n\r\n      const createdAndJoined = await joinWhiteboardRoom(whiteboardRoomId);\r\n\r\n      if (createdAndJoined) {\r\n        SystemMessage.shareWhiteboard(whiteboardRoomId);\r\n      }\r\n    } catch (error) {\r\n      console.log(`Error sharing whiteboard: ${error.message}`);\r\n      console.log(error);\r\n    }\r\n  }, [SystemMessage, joinWhiteboardRoom]);\r\n\r\n  const initMeeting = useCallback(\r\n    async (meeting) => {\r\n      if (joinTriesRef.current > 20) {\r\n        navigate(\"/meetings\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const appId = process.env.REACT_APP_AGORA_APP_ID;\r\n\r\n        const agoraRte = await SocialEventService.getAgoraRteTokens(\r\n          meetingId,\r\n          meeting.customerId === user?.id ? \"PUBLISHER\" : \"SUBSCRIBER\",\r\n          user.id,\r\n          8 * 60 * 60,\r\n        );\r\n\r\n        await agoraClient.current.join(\r\n          appId,\r\n          meetingId,\r\n          agoraRte.rtcToken,\r\n          user.id,\r\n        );\r\n\r\n        await agoraScreenClient.current.join(\r\n          appId,\r\n          meetingId,\r\n          agoraRte.rtcScreenToken,\r\n          user.id + 1e9,\r\n        );\r\n\r\n        await agoraDimClient.current.join(\r\n          appId,\r\n          meetingId,\r\n          agoraRte.rtcDimToken,\r\n          user.id + 1e6,\r\n        );\r\n\r\n        await agoraChatClient.current.open({\r\n          user: user.id.toString(),\r\n          agoraToken: agoraRte.chatToken,\r\n        });\r\n\r\n        const { data: rooms } = await agoraChatClient.current.getChatRooms({\r\n          pagenum: 1,\r\n          pagesize: 1000,\r\n        });\r\n\r\n        const roomId = rooms.find((room) => room.name === meetingId)?.id;\r\n        if (!roomId) {\r\n          throw new Error(`Could not find roomId for meetingId: ${meetingId}`);\r\n        }\r\n\r\n        await agoraChatClient.current.joinChatRoom({ roomId });\r\n\r\n        try {\r\n          await publishAudio();\r\n        } catch (ignored) {}\r\n\r\n        if (startCamActiveRef.current) {\r\n          try {\r\n            await publishCamera();\r\n          } catch (ignored) {}\r\n        }\r\n\r\n        if (isHostRef.current) {\r\n          await agoraChatClient.current.send(\r\n            AgoraChat.message.create({\r\n              chatType: \"chatRoom\",\r\n              type: \"txt\",\r\n              to: roomId,\r\n              msg: formatSystemMsg(\"HOSTJOINED\"),\r\n            }),\r\n          );\r\n        }\r\n        setChatRoomId(roomId);\r\n      } catch (error) {\r\n        console.error(`Error joining meeting: ${error.message}`);\r\n\r\n        setTimeout(() => {\r\n          joinTriesRef.current = joinTriesRef.current + 1;\r\n          initMeeting(meeting);\r\n        }, 250);\r\n      }\r\n    },\r\n    [navigate, meetingId, user, publishAudio, publishCamera],\r\n  );\r\n\r\n  const handleSystemMsg = useCallback(\r\n    (msg) => {\r\n      if (msg.includes(\"ENDMEETING\")) {\r\n        notification.info({\r\n          message: \"Host has ended this meeting.\",\r\n        });\r\n        navigate(\"/meetings\");\r\n      } else if (msg.includes(\"ENDFILEPREVIEW\")) {\r\n        setSharingFile(null);\r\n      } else if (msg.includes(\"ENDWHITEBOARD\")) {\r\n        setFastboard(null);\r\n      } else if (msg.includes(\"ENDDIM\")) {\r\n        setSharedDimId(null);\r\n        setJoinedSharedDim(false);\r\n      } else if (msg.includes(\"SHAREWHITEBOARD\")) {\r\n        const whiteboardRoomId = msg.split(\"%%%\")[3];\r\n        joinWhiteboardRoom(whiteboardRoomId);\r\n        notification.info({\r\n          message: \"Host is sharing a whiteboard.\",\r\n        });\r\n      } else if (msg.includes(\"SHAREDIM\")) {\r\n        const dimId = msg.split(\"%%%\")[3];\r\n        setSharedDimId(Number(dimId));\r\n        notification.info({\r\n          message:\r\n            'Host is sharing a dimension. Click \"Join Dimension\" to join the shared dimension.',\r\n        });\r\n      } else if (msg.includes(\"PERMISSIONS\")) {\r\n        try {\r\n          const perms = JSON.parse(msg.split(\"%%%\")[2]);\r\n          setPermissions(perms);\r\n        } catch (ignored) {}\r\n      } else if (msg.includes(\"PREVIEWFILE\")) {\r\n        try {\r\n          const file = JSON.parse(msg.split(\"%%%\")[3]);\r\n          setSharingFile(file);\r\n          notification.info({\r\n            message: \"Host is sharing a file.\",\r\n          });\r\n        } catch (ignored) {}\r\n      } else if (msg.includes(\"ASKALLUSERFORCOUNTER\")) {\r\n        try {\r\n          if (!isHost) {\r\n            const dataAskedFor = JSON.parse(msg.split(\"%%%\")[2]);\r\n            setCounterFormData(dataAskedFor.formData);\r\n\r\n            participants.forEach((participant) => {\r\n              if (participant.uid === user.id) {\r\n                notification.info({\r\n                  message: `Host is asked you to submit ${dataAskedFor.formData.message}.`,\r\n                });\r\n                setAskedForCounter(true);\r\n                setActiveBtn(\"userCounter\");\r\n              }\r\n            });\r\n          }\r\n        } catch (ignored) {}\r\n      } else if (msg.includes(\"ASKELECTEDUSERSFORCOUNTER\")) {\r\n        try {\r\n          if (!isHost) {\r\n            const usersAndDataAskedFor = JSON.parse(msg.split(\"%%%\")[2]);\r\n            setCounterFormData(usersAndDataAskedFor.formData);\r\n            if (usersAndDataAskedFor.users.includes(user.id)) {\r\n              notification.info({\r\n                message: `Host is asked you to submit ${usersAndDataAskedFor.formData.message}.`,\r\n              });\r\n              setAskedForCounter(true);\r\n              setActiveBtn(\"userCounter\");\r\n            }\r\n          }\r\n        } catch (ignored) {}\r\n      } else if (msg.includes(\"COUNTERUSERSENDDATA\")) {\r\n        try {\r\n          const senderUser = JSON.parse(msg.split(\"%%%\")[2]);\r\n          const sharedFullName = JSON.parse(msg.split(\"%%%\")[3]);\r\n          const sharedSignature = JSON.parse(msg.split(\"%%%\")[4]);\r\n          const sharedfile = JSON.parse(msg.split(\"%%%\")[5]);\r\n          const sharedCustomField = JSON.parse(msg.split(\"%%%\")[6]);\r\n\r\n          setCounterSharedData((prev) => {\r\n            if (prev.hasOwnProperty(senderUser.id)) {\r\n              if (sharedFullName) {\r\n                prev[senderUser.id].fullName = sharedFullName;\r\n              }\r\n              if (sharedSignature) {\r\n                prev[senderUser.id].signature = sharedSignature;\r\n              }\r\n              if (sharedfile) {\r\n                prev[senderUser.id].files = [\r\n                  ...prev[senderUser.id].files,\r\n                  sharedfile,\r\n                ];\r\n              }\r\n\r\n              if (sharedCustomField) {\r\n                prev[senderUser.id].customField = [\r\n                  ...prev[senderUser.id].customField,\r\n                  sharedCustomField,\r\n                ];\r\n              }\r\n            } else {\r\n              prev[senderUser.id] = {\r\n                name: senderUser.fullName,\r\n                fullName: sharedFullName,\r\n                signature: sharedSignature,\r\n                files: sharedfile ? [sharedfile] : [],\r\n                customField: sharedCustomField ? [sharedCustomField] : [],\r\n              };\r\n            }\r\n\r\n            SystemMessage.hostShareCounterData({ ...prev });\r\n\r\n            return { ...prev };\r\n          });\r\n        } catch (ignored) {}\r\n      } else if (msg.includes(\"SHAREDFILES\")) {\r\n        try {\r\n          const files = JSON.parse(msg.split(\"%%%\")[2]);\r\n          setSharedFiles(files);\r\n        } catch (ignored) {}\r\n      }\r\n    },\r\n    [joinWhiteboardRoom, navigate],\r\n  );\r\n\r\n  const setMainScreen = useCallback(\r\n    (id) => {\r\n      if (!sharingFile && !sharingDimId && !joinedSharedDim) {\r\n        setMainScreenId(id);\r\n      }\r\n    },\r\n    [sharingFile, sharingDimId, joinedSharedDim],\r\n  );\r\n\r\n  const toggleAudioMute = useCallback(async () => {\r\n    try {\r\n      const localAudioTrack = agoraClient.current.localTracks.find(\r\n        (track) => track.trackMediaType === \"audio\",\r\n      );\r\n\r\n      if (localAudioTrack) {\r\n        await localAudioTrack.setMuted(!localAudioTrack.muted);\r\n\r\n        setLocalAudioTrack({\r\n          muted: localAudioTrack.muted,\r\n          enabled: localAudioTrack.enabled,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error muting audio track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const forceMuteMic = useCallback(async () => {\r\n    try {\r\n      const localAudioTrack = agoraClient.current.localTracks.find(\r\n        (track) => track.trackMediaType === \"audio\",\r\n      );\r\n\r\n      if (localAudioTrack && !localAudioTrack.muted) {\r\n        await localAudioTrack.setMuted(true);\r\n\r\n        setLocalAudioTrack({\r\n          muted: localAudioTrack.muted,\r\n          enabled: localAudioTrack.enabled,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error muting audio track: ${error.message}`);\r\n    }\r\n  }, []);\r\n\r\n  const toggleVideo = useCallback(async () => {\r\n    try {\r\n      if (localVideoTrack?.enabled) unPublishCamera();\r\n      else publishCamera();\r\n    } catch (error) {\r\n      console.error(`Error muting video track: ${error.message}`);\r\n    }\r\n  }, [localVideoTrack, publishCamera, unPublishCamera]);\r\n\r\n  const toggleSoundMute = useCallback(async () => {\r\n    try {\r\n      if (soundMutedRef.current) {\r\n        remoteUsers.forEach((remoteUser) => {\r\n          if (remoteUser.hasAudio) {\r\n            remoteUser.audioTrack.play();\r\n          }\r\n        });\r\n\r\n        setSoundMuted(false);\r\n      } else {\r\n        remoteUsers.forEach((remoteUser) => {\r\n          if (remoteUser.hasAudio) {\r\n            remoteUser.audioTrack.stop();\r\n          }\r\n        });\r\n\r\n        setSoundMuted(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error muting video track: ${error.message}`);\r\n    }\r\n  }, [remoteUsers]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (user) {\r\n        try {\r\n          const { data: _meeting } = await SocialEventService.getMeetingInfo(\r\n            meetingId,\r\n          );\r\n\r\n          if (_meeting) {\r\n            agoraClient.current.removeAllListeners();\r\n            agoraChatClient.current.removeEventHandler(\"connection&message\");\r\n            agoraClient.current.enableAudioVolumeIndicator();\r\n\r\n            agoraChatClient.current.addEventHandler(\"connection&message\", {\r\n              onConnected: async () => {\r\n                console.info(\"Chat Connected\");\r\n              },\r\n              onDisconnected: () => {\r\n                console.info(\"Chat Disconnedted\");\r\n                setLoading(true);\r\n              },\r\n              onTextMessage: (message) => {\r\n                if (isSystemMsg(message.msg)) {\r\n                  handleSystemMsg(message.msg);\r\n                } else {\r\n                  const name = message.msg.split(\"%%%\")[0];\r\n                  const profileImage = message.msg.split(\"%%%\")[1];\r\n                  const text = message.msg.split(\"%%%\")[2];\r\n\r\n                  setMessages((prev) => [\r\n                    ...prev,\r\n                    {\r\n                      from: message.from,\r\n                      msg: text,\r\n                      profileImage,\r\n                      name,\r\n                      owner: false,\r\n                    },\r\n                  ]);\r\n                }\r\n              },\r\n              onError: (error) => {\r\n                console.log(\"on error\\n\", error);\r\n              },\r\n            });\r\n\r\n            agoraClient.current.on(\"user-joined\", async (joinedUser) => {\r\n              if (joinedUser.uid > 1e6) return;\r\n\r\n              try {\r\n                const { data: userData } =\r\n                  await CommonService.getPublicUserData(joinedUser.uid);\r\n\r\n                if (userData) {\r\n                  setRemoteUsers((prev) => {\r\n                    const remoteUsers = [...prev];\r\n\r\n                    remoteUsers.push({\r\n                      uid: userData.id,\r\n                      fullName: userData.fullName,\r\n                      profileImage: userData.profileImage,\r\n                      audioTrack: joinedUser.audioTrack,\r\n                      hasAudio: joinedUser.hasAudio,\r\n                      videoTrack: joinedUser.videoTrack,\r\n                      hasVideo: joinedUser.hasVideo,\r\n                      hasScreen: false,\r\n                      screenTrack: undefined,\r\n                      hasDim: false,\r\n                      dimTrack: undefined,\r\n                    });\r\n\r\n                    return remoteUsers;\r\n                  });\r\n                }\r\n              } catch (error) {\r\n                console.error(`Error fetching user data ${error.message}`);\r\n              }\r\n            });\r\n\r\n            agoraClient.current.on(\"user-left\", async (leavingUser) => {\r\n              if (leavingUser.uid > 1e6) return;\r\n\r\n              if (leavingUser.uid === meetingRef.current.customerId) {\r\n                SystemMessage.stopWhiteboard();\r\n              }\r\n\r\n              setRemoteUsers((prev) => {\r\n                let remoteUsers = [...prev];\r\n\r\n                remoteUsers = remoteUsers.filter(\r\n                  (user) => user.uid !== leavingUser.uid,\r\n                );\r\n\r\n                return remoteUsers;\r\n              });\r\n            });\r\n\r\n            agoraClient.current.on(\r\n              \"user-published\",\r\n              async (publishingUser, mediaType) => {\r\n                try {\r\n                  await agoraClient.current.subscribe(\r\n                    publishingUser,\r\n                    mediaType,\r\n                  );\r\n\r\n                  if (publishingUser.uid > 1e9) {\r\n                    setRemoteUsers((prev) => {\r\n                      const remoteUsers = [...prev];\r\n                      const idx = remoteUsers.findIndex(\r\n                        (user) => user.uid === publishingUser.uid - 1e9,\r\n                      );\r\n\r\n                      if (idx > -1) {\r\n                        remoteUsers[idx].screenTrack =\r\n                          publishingUser.videoTrack;\r\n                        remoteUsers[idx].hasScreen = publishingUser.hasVideo;\r\n                      }\r\n\r\n                      return remoteUsers;\r\n                    });\r\n                  } else if (publishingUser.uid > 1e6) {\r\n                    setRemoteUsers((prev) => {\r\n                      const remoteUsers = [...prev];\r\n                      const idx = remoteUsers.findIndex(\r\n                        (user) => user.uid === publishingUser.uid - 1e6,\r\n                      );\r\n\r\n                      if (idx > -1) {\r\n                        remoteUsers[idx].dimTrack = publishingUser.videoTrack;\r\n                        remoteUsers[idx].hasDim = publishingUser.hasVideo;\r\n                      }\r\n\r\n                      return remoteUsers;\r\n                    });\r\n                  } else {\r\n                    if (mediaType === \"audio\" && !soundMutedRef.current) {\r\n                      publishingUser.audioTrack.play();\r\n\r\n                      if (playbackDeviceIdRef.current) {\r\n                        try {\r\n                          await publishingUser.audioTrack.setPlaybackDevice(\r\n                            playbackDeviceIdRef.current,\r\n                          );\r\n                        } catch (ignored) {}\r\n                      }\r\n                    }\r\n\r\n                    setRemoteUsers((prev) => {\r\n                      const remoteUsers = [...prev];\r\n                      const idx = remoteUsers.findIndex(\r\n                        (user) => user.uid === publishingUser.uid,\r\n                      );\r\n\r\n                      if (idx > -1) {\r\n                        remoteUsers[idx].audioTrack = publishingUser.audioTrack;\r\n                        remoteUsers[idx].hasAudio = publishingUser.hasAudio;\r\n                        remoteUsers[idx].videoTrack = publishingUser.videoTrack;\r\n                        remoteUsers[idx].hasVideo = publishingUser.hasVideo;\r\n                      }\r\n\r\n                      return remoteUsers;\r\n                    });\r\n                  }\r\n                } catch (error) {\r\n                  console.error(`Error subscribing track: ${error.message}`);\r\n                }\r\n              },\r\n            );\r\n\r\n            agoraClient.current.on(\r\n              \"user-unpublished\",\r\n              async (unPublishingUser, mediaType) => {\r\n                try {\r\n                  await agoraClient.current.unsubscribe(\r\n                    unPublishingUser,\r\n                    mediaType,\r\n                  );\r\n\r\n                  if (unPublishingUser.uid > 1e9) {\r\n                    setRemoteUsers((prev) => {\r\n                      const remoteUsers = [...prev];\r\n                      const idx = remoteUsers.findIndex(\r\n                        (user) => user.uid === unPublishingUser.uid - 1e9,\r\n                      );\r\n\r\n                      if (idx > -1) {\r\n                        remoteUsers[idx].screenTrack =\r\n                          unPublishingUser.videoTrack;\r\n                        remoteUsers[idx].hasScreen = unPublishingUser.hasVideo;\r\n                      }\r\n\r\n                      return remoteUsers;\r\n                    });\r\n\r\n                    if (unPublishingUser.uid - 1e9 === userRef.current.id) {\r\n                      await unPublishScreen();\r\n                    }\r\n                  } else if (unPublishingUser.uid > 1e6) {\r\n                    setRemoteUsers((prev) => {\r\n                      const remoteUsers = [...prev];\r\n                      const idx = remoteUsers.findIndex(\r\n                        (user) => user.uid === unPublishingUser.uid - 1e6,\r\n                      );\r\n\r\n                      if (idx > -1) {\r\n                        remoteUsers[idx].dimTrack = unPublishingUser.videoTrack;\r\n                        remoteUsers[idx].hasDim = unPublishingUser.hasVideo;\r\n                      }\r\n\r\n                      return remoteUsers;\r\n                    });\r\n\r\n                    if (unPublishingUser.uid - 1e6 === userRef.current.id) {\r\n                      await unPublishDim();\r\n                    }\r\n                  } else {\r\n                    setRemoteUsers((prev) => {\r\n                      const remoteUsers = [...prev];\r\n                      const idx = remoteUsers.findIndex(\r\n                        (user) => user.uid === unPublishingUser.uid,\r\n                      );\r\n\r\n                      if (idx > -1) {\r\n                        remoteUsers[idx].audioTrack =\r\n                          unPublishingUser.audioTrack;\r\n                        remoteUsers[idx].hasAudio = unPublishingUser.hasAudio;\r\n                        remoteUsers[idx].videoTrack =\r\n                          unPublishingUser.videoTrack;\r\n                        remoteUsers[idx].hasVideo = unPublishingUser.hasVideo;\r\n                      }\r\n\r\n                      return remoteUsers;\r\n                    });\r\n                  }\r\n                } catch (error) {\r\n                  console.error(`Error un-subscribing track: ${error.message}`);\r\n                }\r\n              },\r\n            );\r\n\r\n            agoraClient.current.on(\"user-info-updated\", (uid) => {\r\n              const remoteUser = agoraClient.current.remoteUsers.find(\r\n                (remoteUser) => remoteUser.uid === uid,\r\n              );\r\n\r\n              if (remoteUser !== null) {\r\n                setRemoteUsers((prev) => {\r\n                  const remoteUsers = [...prev];\r\n                  const idx = remoteUsers.findIndex(\r\n                    (user) => user.uid === remoteUser.uid,\r\n                  );\r\n\r\n                  if (idx > -1) {\r\n                    remoteUsers[idx].audioTrack = remoteUser.audioTrack;\r\n                    remoteUsers[idx].hasAudio = remoteUser.hasAudio;\r\n                    remoteUsers[idx].videoTrack = remoteUser.videoTrack;\r\n                    remoteUsers[idx].hasVideo = remoteUser.hasVideo;\r\n                  }\r\n\r\n                  return remoteUsers;\r\n                });\r\n              }\r\n            });\r\n\r\n            agoraClient.current.on(\"volume-indicator\", (arr) => {\r\n              if (!arr?.length) return;\r\n\r\n              const myVol =\r\n                arr.find((vol) => vol.uid === userRef.current.id)?.level || 0;\r\n\r\n              setTalking(myVol >= 30);\r\n\r\n              setRemoteUsers((prev) => {\r\n                const remoteUsers = [...prev];\r\n\r\n                arr.forEach((vol) => {\r\n                  const idx = remoteUsers.findIndex(\r\n                    (user) => user.uid === vol.uid,\r\n                  );\r\n\r\n                  if (idx > -1) {\r\n                    remoteUsers[idx].talking = vol.level >= 30;\r\n                  }\r\n                });\r\n\r\n                return remoteUsers;\r\n              });\r\n            });\r\n\r\n            setMeeting(_meeting);\r\n            initMeeting(_meeting);\r\n          } else {\r\n            navigate(\"/meetings\");\r\n          }\r\n        } catch (error) {\r\n          console.error(`Error fetching meeting details ${error.message}`);\r\n          navigate(\"/meetings\");\r\n        }\r\n      }\r\n    })();\r\n  }, [\r\n    initMeeting,\r\n    navigate,\r\n    meetingId,\r\n    user,\r\n    handleSystemMsg,\r\n    unPublishScreen,\r\n    unPublishDim,\r\n    SystemMessage,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (chatRoomId) {\r\n      (async () => {\r\n        try {\r\n          let cursor = -1;\r\n          let systemMessages = [];\r\n\r\n          while (true) {\r\n            const { messages } =\r\n              await agoraChatClient.current.getHistoryMessages({\r\n                chatType: \"chatRoom\",\r\n                targetId: chatRoomId,\r\n                searchDirection: \"down\",\r\n                pageSize: 50,\r\n                cursor,\r\n              });\r\n\r\n            if (messages.length === 0) break;\r\n\r\n            const normalMsgs = messages.filter((message) => {\r\n              if (isSystemMsg(message.msg)) {\r\n                systemMessages.push(message);\r\n                return false;\r\n              } else {\r\n                return true;\r\n              }\r\n            });\r\n\r\n            setMessages((prev) => [\r\n              ...prev,\r\n              ...normalMsgs.map((message) => {\r\n                const name = message.msg.split(\"%%%\")[0];\r\n                const profileImage = message.msg.split(\"%%%\")[1];\r\n                const text = message.msg.split(\"%%%\")[2];\r\n\r\n                return {\r\n                  from: message.from,\r\n                  msg: text,\r\n                  profileImage,\r\n                  name,\r\n                  owner: Number(message.from) === userRef.current.id,\r\n                };\r\n              }),\r\n            ]);\r\n\r\n            cursor = messages[messages.length - 1].id;\r\n          }\r\n\r\n          let shareFile = null;\r\n          let whiteboardRoomId = null;\r\n          let shareDim = null;\r\n          let permissions = {};\r\n          let sharedFiles = [];\r\n          let counterSharedData = {};\r\n\r\n          systemMessages.forEach(async (message) => {\r\n            if (message.msg.includes(\"HOSTJOINED\")) {\r\n              shareFile = null;\r\n              whiteboardRoomId = null;\r\n              shareDim = null;\r\n            } else if (message.msg.includes(\"ENDFILEPREVIEW\")) {\r\n              shareFile = null;\r\n            } else if (message.msg.includes(\"ENDWHITEBOARD\")) {\r\n              whiteboardRoomId = null;\r\n            } else if (message.msg.includes(\"ENDDIM\")) {\r\n              shareDim = null;\r\n            } else if (message.msg.includes(\"SHAREWHITEBOARD\")) {\r\n              const roomId = message.msg.split(\"%%%\")[3];\r\n              whiteboardRoomId = roomId;\r\n            } else if (message.msg.includes(\"SHAREDIM\")) {\r\n              const dimId = message.msg.split(\"%%%\")[3];\r\n              shareDim = dimId;\r\n            } else if (message.msg.includes(\"PERMISSIONS\")) {\r\n              try {\r\n                const perms = JSON.parse(message.msg.split(\"%%%\")[2]);\r\n                permissions = perms;\r\n              } catch (ignored) {}\r\n            } else if (message.msg.includes(\"COUNTERHOSTSENDDATA\")) {\r\n              try {\r\n                console.log(\"==========\", message);\r\n                const sharedData = JSON.parse(message.msg.split(\"%%%\")[2]);\r\n                counterSharedData = sharedData;\r\n              } catch (ignored) {}\r\n            } else if (message.msg.includes(\"SHAREDFILES\")) {\r\n              try {\r\n                const files = JSON.parse(message.msg.split(\"%%%\")[2]);\r\n                sharedFiles = files;\r\n              } catch (ignored) {}\r\n            } else if (message.msg.includes(\"PREVIEWFILE\")) {\r\n              try {\r\n                const file = JSON.parse(message.msg.split(\"%%%\")[3]);\r\n                shareFile = file;\r\n              } catch (ignored) {}\r\n            }\r\n          });\r\n\r\n          // setPermissions(permissions);\r\n          setSharedFiles(sharedFiles);\r\n          setCounterSharedData(counterSharedData);\r\n\r\n          const isHostPresent = participantsRef.current?.some(\r\n            (p) => p.uid === meetingRef.current?.customerId,\r\n          );\r\n\r\n          if (!isHostRef.current && isHostPresent) {\r\n            if (shareFile) {\r\n              notification.info({\r\n                message: \"Host is sharing a file.\",\r\n              });\r\n              setSharingFile(shareFile);\r\n            }\r\n\r\n            if (whiteboardRoomId) {\r\n              notification.info({\r\n                message: \"Host is sharing a whiteboard.\",\r\n              });\r\n              joinWhiteboardRoom(whiteboardRoomId);\r\n            }\r\n\r\n            if (shareDim) {\r\n              notification.info({\r\n                message:\r\n                  'Host is sharing a dimension. Click \"Join Dimension\" to join the shared dimension.',\r\n              });\r\n              setSharedDimId(Number(shareDim));\r\n            }\r\n          }\r\n\r\n          setLoading(false);\r\n        } catch (error) {\r\n          console.error(\"Failed to fetch chat history\", error);\r\n        }\r\n      })();\r\n    }\r\n  }, [joinWhiteboardRoom, chatRoomId]);\r\n\r\n  useEffect(() => {\r\n    if (isHost) {\r\n      SystemMessage.changePermissions(permissions);\r\n    }\r\n  }, [isHost, SystemMessage, permissions]);\r\n\r\n  useEffect(() => {\r\n    if (isHost) {\r\n      SystemMessage.changeSharedFiles(sharedFiles);\r\n    }\r\n  }, [isHost, SystemMessage, sharedFiles]);\r\n\r\n  useEffect(() => {\r\n    if (!isHost) {\r\n      SystemMessage.changeCounterUserSharedData(counterSharedData);\r\n    }\r\n  }, [isHost, SystemMessage, counterSharedData]);\r\n\r\n  useEffect(() => {\r\n    if (!isHost && !permissions.screen) unPublishScreen();\r\n\r\n    if (!isHost && !permissions.mic) forceMuteMic();\r\n\r\n    if (!isHost && !permissions.cam) unPublishCamera();\r\n\r\n    if (fastboard) {\r\n      if (isHost || permissions.whiteboard) fastboard.room.setWritable(true);\r\n      else fastboard.room.setWritable(false);\r\n    }\r\n  }, [\r\n    isHost,\r\n    fastboard,\r\n    permissions,\r\n    unPublishScreen,\r\n    forceMuteMic,\r\n    unPublishCamera,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    userRef.current = user;\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    soundMutedRef.current = soundMuted;\r\n  }, [soundMuted]);\r\n\r\n  useEffect(() => {\r\n    chatRoomIdRef.current = chatRoomId;\r\n  }, [chatRoomId]);\r\n\r\n  useEffect(() => {\r\n    isHostRef.current = isHost;\r\n  }, [isHost]);\r\n\r\n  useEffect(() => {\r\n    meetingRef.current = meeting;\r\n  }, [meeting]);\r\n\r\n  useEffect(() => {\r\n    participantsRef.current = participants;\r\n  }, [participants]);\r\n\r\n  if (!meetingId) {\r\n    notification.error({ message: \"Invalid meet link\" });\r\n    navigate(\"/new-meet\", { replace: true });\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div\r\n        style={{ width: \"100vw\", height: \"100vh\", background: \"#fff\" }}\r\n        className=\"center-items\"\r\n      >\r\n        <Row gutter={[0, 30]}>\r\n          <Col xs={24}>\r\n            <Row justify={\"center\"}>\r\n              <Image preview={false} src={logo} alt=\"vbooling Logo\" />\r\n            </Row>\r\n          </Col>\r\n          <Col xs={24}>\r\n            <Row justify={\"center\"}>\r\n              <LoadingOutlined />\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const inviteMenu = (\r\n    <Menu\r\n      items={[\r\n        {\r\n          key: \"1\",\r\n          label: (\r\n            <Row align=\"middle\" gutter={[6, 0]}>\r\n              <Col>\r\n                <Row align=\"middle\">\r\n                  <LinkSVG\r\n                    color=\"#fff\"\r\n                    style={{ width: \"11px\", height: \"11px\" }}\r\n                  />\r\n                </Row>\r\n              </Col>\r\n              <Col>\r\n                <Typography.Text className=\"fz-14 fw-400 wc\">\r\n                  Copy Meeting URL\r\n                </Typography.Text>\r\n              </Col>\r\n            </Row>\r\n          ),\r\n          onClick: () => {\r\n            message.info(\"Meeting URL Copied\");\r\n            navigator.clipboard.writeText(window.location.href);\r\n          },\r\n        },\r\n        {\r\n          key: \"2\",\r\n          label: (\r\n            <Dropdown\r\n              placement=\"bottomRight\"\r\n              trigger={[\"click\"]}\r\n              open={inviteParticipantsPopup}\r\n              dropdownRender={() => (\r\n                <InviteFriends\r\n                  setInviteParticipantsPopup={setInviteParticipantsPopup}\r\n                />\r\n              )}\r\n              destroyPopupOnHide\r\n              getPopupContainer={() =>\r\n                document.getElementById(\"inviteParticipants\")\r\n              }\r\n              onOpenChange={(e) => {\r\n                setInviteParticipantsPopup(e);\r\n              }}\r\n            >\r\n              <Row align=\"middle\" gutter={[6, 0]}>\r\n                <Col>\r\n                  <Row align=\"middle\">\r\n                    <AddUserSVG style={{ width: \"14px\", height: \"14px\" }} />\r\n                  </Row>\r\n                </Col>\r\n                <Col>\r\n                  <Typography.Text className=\"fz-14 fw-400 wc\">\r\n                    Invite Friend\r\n                  </Typography.Text>\r\n                </Col>\r\n              </Row>\r\n            </Dropdown>\r\n          ),\r\n          className: \"fz-14 fw-400 wc\",\r\n          onClick: () => setInviteParticipantsPopup(true),\r\n        },\r\n      ]}\r\n      style={{\r\n        background: \"rgba(0, 0, 0, 0.4)\",\r\n        boxShadow: \"0 4px 30px rgba(0, 0, 0, 0.1)\",\r\n        backdropFilter: \"blur(10px)\",\r\n        color: \"#fff\",\r\n      }}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <Row className=\"virtual-support\" gutter={[32, 32]} justify=\"center\">\r\n      <Col {...(hideSide ? null : { xs: 24, xl: hideSide ? 2 : 8 })}>\r\n        <Row wrap={false} className=\"h-100\">\r\n          <Col\r\n            flex={hideSide && 1}\r\n            className=\"virtual-support-nav-sider-holder\"\r\n          >\r\n            <div\r\n              className=\"virtual-support-nav-sider\"\r\n              style={{ borderRadius: hideSide && \"30px\" }}\r\n            >\r\n              <Row justify=\"start\" align=\"middle\" wrap={false}>\r\n                <Col>\r\n                  <Row justify=\"center\">\r\n                    <Image\r\n                      preview={false}\r\n                      width={32}\r\n                      height={21}\r\n                      src={logo}\r\n                      className=\"clickable\"\r\n                      onClick={() => setHideSide(false)}\r\n                    />\r\n                  </Row>\r\n                </Col>\r\n\r\n                <Col className=\"virtual-support-nav-sider-btns-wraper\">\r\n                  <Row\r\n                    justify=\"space-between\"\r\n                    align=\"middle\"\r\n                    gutter={[\r\n                      { xs: 20, lg: 0 },\r\n                      { xs: 0, lg: 40 },\r\n                    ]}\r\n                    className=\"virtual-support-nav-sider-btns\"\r\n                  >\r\n                    {/* For All users */}\r\n                    {[\r\n                      {\r\n                        id: \"participant\",\r\n                        title: \"Participants\",\r\n                        icon: ParticipantsSVG,\r\n                      },\r\n                      { id: \"chat\", title: \"Chat\", icon: SMSSVG },\r\n                    ].map((item) => (\r\n                      <Col key={item.id}>\r\n                        <Row\r\n                          justify=\"center\"\r\n                          className={\r\n                            activeBtn === item.id && \"sider-active-btn\"\r\n                          }\r\n                        >\r\n                          <Tooltip title={item.title}>\r\n                            <item.icon\r\n                              className=\"clickable\"\r\n                              onClick={() => {\r\n                                setHideSide(false);\r\n                                setActiveBtn(item.id);\r\n                              }}\r\n                            />\r\n                          </Tooltip>\r\n                        </Row>\r\n                      </Col>\r\n                    ))}\r\n\r\n                    {/* Not Host User Only */}\r\n                    {!isHost && (\r\n                      <>\r\n                        <Col>\r\n                          <Row\r\n                            justify=\"center\"\r\n                            className={\r\n                              activeBtn === \"myCart\" && \"sider-active-btn\"\r\n                            }\r\n                          >\r\n                            <Tooltip title=\"My Cart\">\r\n                              <ShoppingCartSVG\r\n                                className=\"clickable\"\r\n                                style={{ width: \"22px\", height: \"22px\" }}\r\n                                color={\"#c7c7cc\"}\r\n                                onClick={() => {\r\n                                  setHideSide(false);\r\n                                  setActiveBtn(\"myCart\");\r\n                                }}\r\n                              />\r\n                            </Tooltip>\r\n                          </Row>\r\n                        </Col>\r\n\r\n                        <Col>\r\n                          <Row\r\n                            justify=\"center\"\r\n                            className={\r\n                              activeBtn === \"sharedFiles\" && \"sider-active-btn\"\r\n                            }\r\n                          >\r\n                            <Tooltip title=\"Shared Files\">\r\n                              <FileSVG\r\n                                className=\"clickable\"\r\n                                style={{ width: \"22px\", height: \"22px\" }}\r\n                                color={\"#c7c7cc\"}\r\n                                onClick={() => {\r\n                                  setHideSide(false);\r\n                                  setActiveBtn(\"sharedFiles\");\r\n                                }}\r\n                              />\r\n                            </Tooltip>\r\n                          </Row>\r\n                        </Col>\r\n\r\n                        {!!sharedDimId && (\r\n                          <Col>\r\n                            <Row\r\n                              justify=\"center\"\r\n                              className={\r\n                                activeBtn === \"sharingDim\" && \"sider-active-btn\"\r\n                              }\r\n                            >\r\n                              <Tooltip title=\"Join Dimension\">\r\n                                <ShareDimenstionSVG\r\n                                  className=\"clickable\"\r\n                                  style={{ width: \"22px\", height: \"22px\" }}\r\n                                  color={\"#c7c7cc\"}\r\n                                  onClick={() => {\r\n                                    setHideSide(false);\r\n                                    setActiveBtn(\"sharingDim\");\r\n                                  }}\r\n                                />\r\n                              </Tooltip>\r\n                            </Row>\r\n                          </Col>\r\n                        )}\r\n\r\n                        {askedForCounter && (\r\n                          <Col>\r\n                            <Row\r\n                              justify=\"center\"\r\n                              className={\r\n                                activeBtn === \"userCounter\" &&\r\n                                \"sider-active-btn\"\r\n                              }\r\n                            >\r\n                              <Tooltip title=\"Counter\">\r\n                                <CounterSVG\r\n                                  className=\"clickable\"\r\n                                  style={{ width: \"22px\", height: \"22px\" }}\r\n                                  color={\"#c7c7cc\"}\r\n                                  onClick={() => {\r\n                                    setHideSide(false);\r\n                                    setActiveBtn(\"userCounter\");\r\n                                  }}\r\n                                />\r\n                              </Tooltip>\r\n                            </Row>\r\n                          </Col>\r\n                        )}\r\n                      </>\r\n                    )}\r\n\r\n                    {/* Host User Only */}\r\n                    {isHost && (\r\n                      <>\r\n                        {[\r\n                          {\r\n                            id: \"inventory\",\r\n                            title: \"Inventory\",\r\n                            icon: PackageSVG,\r\n                          },\r\n                          {\r\n                            id: \"tools\",\r\n                            title: \"Sharing Tools\",\r\n                            icon: ToolsSVG,\r\n                          },\r\n                          { id: \"counter\", title: \"Counter\", icon: CounterSVG },\r\n                          {\r\n                            id: \"productionTools\",\r\n                            title: \"Production Tools\",\r\n                            icon: AlbumsSVG,\r\n                          },\r\n                          {\r\n                            id: \"counterUserSharedData\",\r\n                            title: \"Users Shared Data\",\r\n                            icon: VirtualMeetSVG,\r\n                          },\r\n                          {\r\n                            id: \"holomeet\",\r\n                            title: \"Holomeet\",\r\n                            image: hologram,\r\n                          },\r\n                        ].map((item) => (\r\n                          <Col key={item.id}>\r\n                            <Row\r\n                              justify=\"center\"\r\n                              className={\r\n                                activeBtn === item.id && \"sider-active-btn\"\r\n                              }\r\n                            >\r\n                              <Tooltip title={item.title}>\r\n                                {item.icon ? (\r\n                                  <item.icon\r\n                                    color=\"#c7c7cc\"\r\n                                    className=\"clickable\"\r\n                                    style={{\r\n                                      width: \"24px\",\r\n                                      height: \"24px\",\r\n                                    }}\r\n                                    onClick={() => {\r\n                                      setHideSide(false);\r\n                                      setActiveBtn(item.id);\r\n                                    }}\r\n                                  />\r\n                                ) : (\r\n                                  <Image\r\n                                    className=\"clickable\"\r\n                                    preview={false}\r\n                                    width={24}\r\n                                    height={24}\r\n                                    src={item.image}\r\n                                    onClick={() => {\r\n                                      setHideSide(false);\r\n                                      setActiveBtn(item.id);\r\n                                    }}\r\n                                  />\r\n                                )}\r\n                              </Tooltip>\r\n                            </Row>\r\n                          </Col>\r\n                        ))}\r\n                      </>\r\n                    )}\r\n                  </Row>\r\n                </Col>\r\n\r\n                <Col className=\"virtual-support-avatar\">\r\n                  <Avatar\r\n                    src={user.profileImage}\r\n                    size={40}\r\n                    style={{ objectFit: \"cover\" }}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </Col>\r\n          {!hideSide && (screenSize.xl || screenSize.xxl) && (\r\n            <Col flex={1} className=\"virtual-support-aside-hide\">\r\n              <div className=\"virtual-support-aside\">\r\n                <MeetAsaider\r\n                  isHost={isHost}\r\n                  chatLoading={!chatRoomId}\r\n                  messages={messages}\r\n                  sendMessage={sendMessage}\r\n                  participants={participants}\r\n                  activeBtn={activeBtn}\r\n                  setActiveBtn={setActiveBtn}\r\n                  SystemMessage={SystemMessage}\r\n                  shareWhiteboard={shareWhiteboard}\r\n                  permissions={permissions}\r\n                  sharedFiles={sharedFiles}\r\n                  setSharedFiles={setSharedFiles}\r\n                  sharedDimId={sharedDimId}\r\n                  sharingDimId={sharingDimId}\r\n                  unPublishScreen={unPublishScreen}\r\n                  publishScreen={publishScreen}\r\n                  sharingScreen={localScreenTrack?.enabled}\r\n                  sharingDim={!!sharingDimId}\r\n                  sharingFile={!!sharingFile}\r\n                  sharingWhiteboard={!!fastboard}\r\n                  setHideSide={setHideSide}\r\n                  fastboard={fastboard}\r\n                  joinedSharedDim={joinedSharedDim}\r\n                  setJoinedSharedDim={setJoinedSharedDim}\r\n                  setAskedForCounter={setAskedForCounter}\r\n                  counterFormData={counterFormData}\r\n                  counterSharedData={counterSharedData}\r\n                />\r\n              </div>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </Col>\r\n\r\n      <Col\r\n        {...(hideSide\r\n          ? { flex: 1 }\r\n          : {\r\n              xs: 24,\r\n              md: 24,\r\n              xl: hideSide ? 22 : 16,\r\n              xxl: hideSide ? 22 : 16,\r\n            })}\r\n      >\r\n        <Row justify=\"center\" gutter={[0, 20]} style={{ height: \"100%\" }}>\r\n          <Col xs={24} className=\"virtual-support-main\">\r\n            <Row\r\n              align=\"middle\"\r\n              justify=\"space-between\"\r\n              style={{\r\n                marginBottom: \"1rem\",\r\n                borderBottom: \"1px solid #E5E5EAD9\",\r\n                padding: \"24px 0\",\r\n              }}\r\n            >\r\n              <Typography.Text className=\"fz-18 fw-600\">Vindo</Typography.Text>\r\n              <Dropdown trigger={[\"click\"]} overlay={inviteMenu}>\r\n                <Row\r\n                  align=\"middle\"\r\n                  className=\"clickable\"\r\n                  gutter={[8, 0]}\r\n                  id=\"inviteParticipants\"\r\n                >\r\n                  <Col>\r\n                    <Row align=\"middle\">\r\n                      <ParticipantsSVG\r\n                        style={{ width: \"16px\", height: \"16px\" }}\r\n                        color=\"#0129B7\"\r\n                      />\r\n                    </Row>\r\n                  </Col>\r\n\r\n                  <Col>\r\n                    <Typography.Text className=\"fw-400 invite-gradiant-text\">\r\n                      Invite Participant\r\n                    </Typography.Text>\r\n                  </Col>\r\n                </Row>\r\n              </Dropdown>\r\n            </Row>\r\n\r\n            <Row>\r\n              {otherScreens.length > 4 ? (\r\n                <Col xs={0} md={0} lg={24}>\r\n                  <CustomSlider responsive={slideResponsive}>\r\n                    {otherScreens.map((screen) => (\r\n                      <MeetingScreen\r\n                        key={screen.screenId}\r\n                        screen={screen}\r\n                        setMainScreen={setMainScreen}\r\n                      />\r\n                    ))}\r\n                  </CustomSlider>\r\n                </Col>\r\n              ) : (\r\n                <Col xs={24} md={24} lg={24}>\r\n                  <div className=\"friend-screen-container\">\r\n                    {otherScreens.map((screen) => (\r\n                      <MeetingScreen\r\n                        key={screen.screenId}\r\n                        screen={screen}\r\n                        setMainScreen={setMainScreen}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n\r\n            {sharedDimId && joinedSharedDim ? (\r\n              <MeetingScreen\r\n                isMain\r\n                key={`${sharedDimId}_dim`}\r\n                screen={sharedDimScreenObj}\r\n                setMainScreen={setMainScreen}\r\n                publishDim={publishDim}\r\n                audioMuted={audioMuted}\r\n                soundMuted={soundMuted}\r\n                cameraEnabled={localVideoTrack?.enabled}\r\n                toggleAudioMute={toggleAudioMute}\r\n                toggleVideo={toggleVideo}\r\n                toggleSoundMute={toggleSoundMute}\r\n                publishScreen={publishScreen}\r\n                unPublishScreen={unPublishScreen}\r\n                sharingScreen={localScreenTrack?.enabled}\r\n                SystemMessage={SystemMessage}\r\n                unPublishDim={unPublishDim}\r\n                sharingDim={!!sharingDimId}\r\n                sharingFile={!!sharingFile}\r\n                sharingWhiteboard={!!fastboard}\r\n                isHost={isHost}\r\n                joinedSharedDim={joinedSharedDim}\r\n                setJoinedSharedDim={setJoinedSharedDim}\r\n                sharedDimId={sharedDimId}\r\n                permissions={permissions}\r\n                setPermissions={setPermissions}\r\n                setActiveBtn={setActiveBtn}\r\n              />\r\n            ) : !!sharingDimId ? (\r\n              <MeetingScreen\r\n                isMain\r\n                key={`${sharingDimId}_dim`}\r\n                screen={sharingDimScreenObj}\r\n                setMainScreen={setMainScreen}\r\n                publishDim={publishDim}\r\n                audioMuted={audioMuted}\r\n                soundMuted={soundMuted}\r\n                cameraEnabled={localVideoTrack?.enabled}\r\n                toggleAudioMute={toggleAudioMute}\r\n                toggleVideo={toggleVideo}\r\n                toggleSoundMute={toggleSoundMute}\r\n                publishScreen={publishScreen}\r\n                unPublishScreen={unPublishScreen}\r\n                sharingScreen={localScreenTrack?.enabled}\r\n                SystemMessage={SystemMessage}\r\n                unPublishDim={unPublishDim}\r\n                sharingDim={!!sharingDimId}\r\n                sharingFile={!!sharingFile}\r\n                sharingWhiteboard={!!fastboard}\r\n                isHost={isHost}\r\n                joinedSharedDim={joinedSharedDim}\r\n                setJoinedSharedDim={setJoinedSharedDim}\r\n                sharedDimId={sharedDimId}\r\n                permissions={permissions}\r\n                setPermissions={setPermissions}\r\n              />\r\n            ) : !!sharingFile ? (\r\n              <MeetingScreen\r\n                isMain\r\n                key={`${sharingFile.id}_file`}\r\n                screen={sharingFileScreenObj}\r\n                setMainScreen={setMainScreen}\r\n                publishDim={publishDim}\r\n                audioMuted={audioMuted}\r\n                soundMuted={soundMuted}\r\n                cameraEnabled={localVideoTrack?.enabled}\r\n                toggleAudioMute={toggleAudioMute}\r\n                toggleVideo={toggleVideo}\r\n                toggleSoundMute={toggleSoundMute}\r\n                publishScreen={publishScreen}\r\n                unPublishScreen={unPublishScreen}\r\n                sharingScreen={localScreenTrack?.enabled}\r\n                SystemMessage={SystemMessage}\r\n                unPublishDim={unPublishDim}\r\n                sharingDim={!!sharingDimId}\r\n                sharingFile={!!sharingFile}\r\n                sharingWhiteboard={!!fastboard}\r\n                isHost={isHost}\r\n                joinedSharedDim={joinedSharedDim}\r\n                setJoinedSharedDim={setJoinedSharedDim}\r\n                sharedDimId={sharedDimId}\r\n                permissions={permissions}\r\n                setPermissions={setPermissions}\r\n                setActiveBtn={setActiveBtn}\r\n              />\r\n            ) : !!fastboard ? (\r\n              <MeetingScreen\r\n                isMain\r\n                key={`${sharedDimId}_whiteboard`}\r\n                screen={whiteboardScreenObj}\r\n                setMainScreen={setMainScreen}\r\n                publishDim={publishDim}\r\n                audioMuted={audioMuted}\r\n                soundMuted={soundMuted}\r\n                cameraEnabled={localVideoTrack?.enabled}\r\n                toggleAudioMute={toggleAudioMute}\r\n                toggleVideo={toggleVideo}\r\n                toggleSoundMute={toggleSoundMute}\r\n                publishScreen={publishScreen}\r\n                unPublishScreen={unPublishScreen}\r\n                sharingScreen={localScreenTrack?.enabled}\r\n                SystemMessage={SystemMessage}\r\n                unPublishDim={unPublishDim}\r\n                sharingDim={!!sharingDimId}\r\n                sharingFile={!!sharingFile}\r\n                sharingWhiteboard={!!fastboard}\r\n                isHost={isHost}\r\n                joinedSharedDim={joinedSharedDim}\r\n                setJoinedSharedDim={setJoinedSharedDim}\r\n                sharedDimId={sharedDimId}\r\n                permissions={permissions}\r\n                setPermissions={setPermissions}\r\n                setActiveBtn={setActiveBtn}\r\n              />\r\n            ) : (\r\n              <MeetingScreen\r\n                isMain\r\n                key={mainScreen?.screenId}\r\n                screen={mainScreen}\r\n                setMainScreen={setMainScreen}\r\n                publishDim={publishDim}\r\n                audioMuted={audioMuted}\r\n                soundMuted={soundMuted}\r\n                cameraEnabled={localVideoTrack?.enabled}\r\n                toggleAudioMute={toggleAudioMute}\r\n                toggleVideo={toggleVideo}\r\n                toggleSoundMute={toggleSoundMute}\r\n                publishScreen={publishScreen}\r\n                unPublishScreen={unPublishScreen}\r\n                sharingScreen={localScreenTrack?.enabled}\r\n                SystemMessage={SystemMessage}\r\n                unPublishDim={unPublishDim}\r\n                sharingDim={!!sharingDimId}\r\n                sharingFile={!!sharingFile}\r\n                sharingWhiteboard={!!fastboard}\r\n                isHost={isHost}\r\n                joinedSharedDim={joinedSharedDim}\r\n                setJoinedSharedDim={setJoinedSharedDim}\r\n                sharedDimId={sharedDimId}\r\n                permissions={permissions}\r\n                setPermissions={setPermissions}\r\n                setActiveBtn={setActiveBtn}\r\n              />\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Col>\r\n\r\n      {!screenSize.xl && (\r\n        <Col xs={24} xl={0}>\r\n          <div className=\"virtual-support-aside\">\r\n            <MeetAsaider\r\n              isHost={isHost}\r\n              chatLoading={!chatRoomId}\r\n              messages={messages}\r\n              sendMessage={sendMessage}\r\n              participants={participants}\r\n              activeBtn={activeBtn}\r\n              setActiveBtn={setActiveBtn}\r\n              SystemMessage={SystemMessage}\r\n              shareWhiteboard={shareWhiteboard}\r\n              permissions={permissions}\r\n              sharedFiles={sharedFiles}\r\n              setSharedFiles={setSharedFiles}\r\n              sharedDimId={sharedDimId}\r\n              sharingDimId={sharingDimId}\r\n              unPublishScreen={unPublishScreen}\r\n              publishScreen={publishScreen}\r\n              sharingScreen={localScreenTrack?.enabled}\r\n              sharingDim={!!sharingDimId}\r\n              sharingFile={!!sharingFile}\r\n              sharingWhiteboard={!!fastboard}\r\n              joinedSharedDim={joinedSharedDim}\r\n              setJoinedSharedDim={setJoinedSharedDim}\r\n              fastboard={fastboard}\r\n              setAskedForCounter={setAskedForCounter}\r\n              counterFormData={counterFormData}\r\n              counterSharedData={counterSharedData}\r\n            />\r\n          </div>\r\n        </Col>\r\n      )}\r\n    </Row>\r\n  );\r\n}\r\n","import { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Col,\r\n  ConfigProvider,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Select,\r\n  Tooltip,\r\n  Typography,\r\n  notification,\r\n} from \"antd\";\r\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\r\n\r\nimport userContext from \"context/userContext\";\r\nimport {\r\n  VoiceSVG,\r\n  MuteVoiceSVG,\r\n  VideoSVG,\r\n  NoVideoSVG,\r\n  ArrowDownSVG,\r\n} from \"assets/jsx-svg\";\r\nimport joinBg from \"assets/images/startMeetBg.png\";\r\nimport defualtAvatar from \"assets/images/defualtAvatar.png\";\r\nimport DragContext from \"./DragContext\";\r\nimport VirtualSupportView from \"./VirtualSupportView\";\r\nimport \"./styles.css\";\r\nimport AuthService from \"services/auth.service\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function UserInteractionHOC() {\r\n  const navigate = useNavigate();\r\n  const { user, setUser } = useContext(userContext);\r\n  const [interacted, setInteracted] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mics, setMics] = useState([]);\r\n  const [cams, setCams] = useState([]);\r\n  const [playbackDevices, setPlaybackDevices] = useState([]);\r\n  const [selectedMic, setSelectedMic] = useState(undefined);\r\n  const [selectedCam, setSelectedCam] = useState(undefined);\r\n  const [selectedPlaybackDevice, setSelectedPlaybackDevice] =\r\n    useState(undefined);\r\n  const [micMuted, setMicMuted] = useState(false);\r\n  const [camActive, setCamActive] = useState(false);\r\n  const [settingsActive, setSettingsActive] = useState(false);\r\n  const [dragData, setDragData] = useState({\r\n    dragging: false,\r\n    dropText: \"\",\r\n    dimId: null,\r\n    file: null,\r\n  });\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const onSignAsGuestFinish = useCallback(\r\n    async (values) => {\r\n      try {\r\n        setInteracted(true);\r\n\r\n        const {\r\n          data: { data: user },\r\n        } = await AuthService.loginAsGuest({\r\n          firstName: values.userEmail.split(\"@\")[0],\r\n          lastName: \"( Guest )\",\r\n          email: values.userEmail,\r\n        });\r\n        localStorage.setItem(\r\n          \"vverse-token\",\r\n          user.customerWebDashboardAccessToken,\r\n        );\r\n        setUser(user);\r\n        axios.defaults.headers.authorization =\r\n          user.customerWebDashboardAccessToken;\r\n      } catch (err) {\r\n        setUser(null);\r\n        if (err.response.status === 409) {\r\n          notification.info({\r\n            message: \"User already exist, login to enter the meet\",\r\n          });\r\n          navigate(\"/login\");\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n      setSelectedMic(values.audioInput);\r\n      setSelectedCam(values.cameraInput);\r\n      setSelectedPlaybackDevice(values.soundOutput);\r\n    },\r\n    [navigate, setUser],\r\n  );\r\n\r\n  const onFinish = useCallback(async (values) => {\r\n    setSelectedMic(values.audioInput);\r\n    setSelectedCam(values.cameraInput);\r\n    setSelectedPlaybackDevice(values.soundOutput);\r\n    setInteracted(true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      let mics = [],\r\n        cams = [],\r\n        playbackDevices = [];\r\n\r\n      try {\r\n        mics = await AgoraRTC.getMicrophones(false);\r\n      } catch (ignored) {}\r\n\r\n      try {\r\n        cams = await AgoraRTC.getCameras(false);\r\n      } catch (ignored) {}\r\n\r\n      try {\r\n        playbackDevices = await AgoraRTC.getPlaybackDevices(false);\r\n      } catch (ignored) {}\r\n\r\n      setMics(mics);\r\n      setCams(cams);\r\n      setPlaybackDevices(playbackDevices);\r\n      form.setFieldsValue({\r\n        audioInput: mics[0]?.deviceId,\r\n        cameraInput: cams[0]?.deviceId,\r\n        soundOutput: playbackDevices[0]?.deviceId,\r\n      });\r\n    })();\r\n  }, [form]);\r\n\r\n  if (!interacted && !user) {\r\n    return (\r\n      <main className=\"join-meet\" style={{ background: `url(${joinBg})` }}>\r\n        <div className=\"blur\">\r\n          <div className=\"join-meet-main\">\r\n            <Row gutter={[0, 16]}>\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Avatar src={defualtAvatar} className=\"join-meet-img\" />\r\n                </Row>\r\n              </Col>\r\n\r\n              <Col xs={24}>\r\n                <Row align=\"middle\" justify=\"center\" gutter={[16, 16]}>\r\n                  <Col>\r\n                    <Tooltip title={micMuted ? \"Unmute\" : \"Mute\"}>\r\n                      <div\r\n                        className=\"icon-wrapper\"\r\n                        onClick={\r\n                          mics.length ? () => setMicMuted(!micMuted) : (_) => _\r\n                        }\r\n                      >\r\n                        {micMuted || !mics.length ? (\r\n                          <MuteVoiceSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        ) : (\r\n                          <VoiceSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </Tooltip>\r\n                  </Col>\r\n                  <Col>\r\n                    <Tooltip\r\n                      title={!camActive ? \"Enable Camera\" : \"Disable Camera\"}\r\n                    >\r\n                      <div\r\n                        className=\"icon-wrapper\"\r\n                        onClick={\r\n                          cams.length\r\n                            ? () => setCamActive(!camActive)\r\n                            : (_) => _\r\n                        }\r\n                      >\r\n                        {!camActive || !cams.length ? (\r\n                          <NoVideoSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        ) : (\r\n                          <VideoSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </Tooltip>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n\r\n              <Col xs={24}>\r\n                <ConfigProvider\r\n                  theme={{\r\n                    token: {\r\n                      colorPrimary: \"#fff\",\r\n                      colorPrimaryText: \"#fff\",\r\n                      borderRadius: \"14px\",\r\n                      colorBorder: \"#fff\",\r\n                      colorText: \"#fff\",\r\n                      colorTextPlaceholder: \"#fff\",\r\n                    },\r\n                    components: {\r\n                      Select: {\r\n                        colorBgBase: \"black\",\r\n                        colorBgContainer: \"transparent\",\r\n                        borderRadius: \"14px\",\r\n                        controlHeight: \"50px\",\r\n                        colorBgElevated: \"#fff\",\r\n                        lineHeight: \"50px\",\r\n                        colorTextQuaternary: \"#fff\",\r\n                        colorText: \"#000\",\r\n                        colorInfoActive: \"#fff\",\r\n                        paddingXXS: \"6px\",\r\n                      },\r\n                    },\r\n                  }}\r\n                >\r\n                  <Form\r\n                    form={form}\r\n                    onFinish={onSignAsGuestFinish}\r\n                    layout=\"vertical\"\r\n                    requiredMark={false}\r\n                    className=\"join-meet-form\"\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: settingsActive\r\n                          ? \"flex-start\"\r\n                          : \"center\",\r\n                        columnGap: \"6px\",\r\n                        flexDirection: \"column\",\r\n                      }}\r\n                    >\r\n                      <Form.Item\r\n                        name=\"userEmail\"\r\n                        label=\"Enter Your Email\"\r\n                        className=\"w-100\"\r\n                        style={{ padding: \"0 1rem\" }}\r\n                        rules={[\r\n                          {\r\n                            required: true,\r\n                            message: \"Please Enter Your Email\",\r\n                          },\r\n                        ]}\r\n                      >\r\n                        <Input placeholder=\"Enter Here\" type=\"email\" />\r\n                      </Form.Item>\r\n\r\n                      <div\r\n                        className=\"device-settings clickable\"\r\n                        style={{\r\n                          marginBottom: settingsActive ? \"0.3rem\" : \"0\",\r\n                          marginTop: \"16px\",\r\n                        }}\r\n                        onClick={() => {\r\n                          if (settingsActive) {\r\n                            const settingsEl =\r\n                              document.getElementById(\"settingsSelect\");\r\n\r\n                            settingsEl.classList.add(\"settings-close\");\r\n                            setTimeout(() => {\r\n                              settingsEl.classList.remove(\"settings-close\");\r\n                              setSettingsActive((prev) => !prev);\r\n                            }, 300);\r\n                          } else {\r\n                            setSettingsActive((prev) => !prev);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Typography.Text className=\"fw-500\">\r\n                          Device Settings\r\n                        </Typography.Text>\r\n\r\n                        <ArrowDownSVG\r\n                          color=\"#fff\"\r\n                          style={{\r\n                            width: \"10px\",\r\n                            height: \"10px\",\r\n                            rotate: settingsActive ? \"180deg\" : \"0deg\",\r\n                            transition: \"all 0.4s ease-in-out\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"settingsSelect\">\r\n                      {settingsActive && (\r\n                        <div className=\"settings-select\">\r\n                          <Form.Item label=\"Audio Input\" name=\"audioInput\">\r\n                            <Select\r\n                              options={mics.map((mic) => ({\r\n                                value: mic.deviceId,\r\n                                label: mic.label,\r\n                              }))}\r\n                              placeholder=\"Select audio input\"\r\n                            />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item label=\"Camera Input\" name=\"cameraInput\">\r\n                            <Select\r\n                              options={cams.map((cam) => ({\r\n                                value: cam.deviceId,\r\n                                label: cam.label,\r\n                              }))}\r\n                              placeholder=\"Select camera input\"\r\n                            />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item label=\"Sound Output\" name=\"soundOutput\">\r\n                            <Select\r\n                              options={playbackDevices.map((device) => ({\r\n                                value: device.deviceId,\r\n                                label: device.label,\r\n                              }))}\r\n                              placeholder=\"Select sound input\"\r\n                            />\r\n                          </Form.Item>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <Form.Item>\r\n                      <Row justify=\"center\">\r\n                        <Button\r\n                          htmlType=\"submit\"\r\n                          type=\"primary\"\r\n                          style={{\r\n                            borderRadius: \"32px\",\r\n                            paddingInline: \"1.5rem\",\r\n                          }}\r\n                          className=\"join-meet-btn\"\r\n                          loading={loading}\r\n                        >\r\n                          Join Meeting\r\n                        </Button>\r\n                      </Row>\r\n                    </Form.Item>\r\n                  </Form>\r\n                </ConfigProvider>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  } else if (!interacted && user) {\r\n    return (\r\n      <main className=\"join-meet\" style={{ background: `url(${joinBg})` }}>\r\n        <div className=\"blur\">\r\n          <div className=\"join-meet-main\">\r\n            <Row gutter={[0, 16]}>\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Avatar src={user.profileImage} className=\"join-meet-img\" />\r\n                </Row>\r\n              </Col>\r\n\r\n              <Col xs={24}>\r\n                <Row justify=\"center\">\r\n                  <Typography.Text className=\"wc fw-500\">\r\n                    {user.fullName}\r\n                  </Typography.Text>\r\n                </Row>\r\n              </Col>\r\n              <Col xs={24}>\r\n                <Row align=\"middle\" justify=\"center\" gutter={[16, 16]}>\r\n                  <Col>\r\n                    <Tooltip title={micMuted ? \"Unmute\" : \"Mute\"}>\r\n                      <div\r\n                        className=\"icon-wrapper\"\r\n                        onClick={\r\n                          mics.length ? () => setMicMuted(!micMuted) : (_) => _\r\n                        }\r\n                      >\r\n                        {micMuted || !mics.length ? (\r\n                          <MuteVoiceSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        ) : (\r\n                          <VoiceSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </Tooltip>\r\n                  </Col>\r\n                  <Col>\r\n                    <Tooltip\r\n                      title={!camActive ? \"Enable Camera\" : \"Disable Camera\"}\r\n                    >\r\n                      <div\r\n                        className=\"icon-wrapper\"\r\n                        onClick={\r\n                          cams.length\r\n                            ? () => setCamActive(!camActive)\r\n                            : (_) => _\r\n                        }\r\n                      >\r\n                        {!camActive || !cams.length ? (\r\n                          <NoVideoSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        ) : (\r\n                          <VideoSVG\r\n                            color=\"#fff\"\r\n                            style={{ width: \"20px\", height: \"20px\" }}\r\n                          />\r\n                        )}\r\n                      </div>\r\n                    </Tooltip>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n\r\n              <Col xs={24}>\r\n                <ConfigProvider\r\n                  theme={{\r\n                    token: {\r\n                      colorPrimary: \"#fff\",\r\n                      colorPrimaryText: \"#fff\",\r\n                      borderRadius: \"14px\",\r\n                      colorBorder: \"#fff\",\r\n                      colorText: \"#fff\",\r\n                      colorTextPlaceholder: \"#fff\",\r\n                    },\r\n                    components: {\r\n                      Select: {\r\n                        colorBgBase: \"black\",\r\n                        colorBgContainer: \"transparent\",\r\n                        borderRadius: \"14px\",\r\n                        controlHeight: \"50px\",\r\n                        colorBgElevated: \"#fff\",\r\n                        lineHeight: \"50px\",\r\n                        colorTextQuaternary: \"#fff\",\r\n                        colorText: \"#000\",\r\n                        colorInfoActive: \"#fff\",\r\n                        paddingXXS: \"6px\",\r\n                      },\r\n                    },\r\n                  }}\r\n                >\r\n                  <Form\r\n                    form={form}\r\n                    onFinish={onFinish}\r\n                    layout=\"vertical\"\r\n                    requiredMark={false}\r\n                    className=\"join-meet-form\"\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: settingsActive\r\n                          ? \"flex-start\"\r\n                          : \"center\",\r\n                        alignItems: \"center\",\r\n                        columnGap: \"6px\",\r\n                      }}\r\n                    >\r\n                      <div\r\n                        className=\"device-settings clickable\"\r\n                        style={{\r\n                          marginBottom: settingsActive ? \"0.3rem\" : \"0\",\r\n                        }}\r\n                        onClick={() => {\r\n                          if (settingsActive) {\r\n                            const settingsEl =\r\n                              document.getElementById(\"settingsSelect\");\r\n\r\n                            settingsEl.classList.add(\"settings-close\");\r\n                            setTimeout(() => {\r\n                              settingsEl.classList.remove(\"settings-close\");\r\n                              setSettingsActive((prev) => !prev);\r\n                            }, 300);\r\n                          } else {\r\n                            setSettingsActive((prev) => !prev);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Typography.Text className=\"fw-500\">\r\n                          Device Settings\r\n                        </Typography.Text>\r\n\r\n                        <ArrowDownSVG\r\n                          color=\"#fff\"\r\n                          style={{\r\n                            width: \"10px\",\r\n                            height: \"10px\",\r\n                            rotate: settingsActive ? \"180deg\" : \"0deg\",\r\n                            transition: \"all 0.4s ease-in-out\",\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div id=\"settingsSelect\">\r\n                      {settingsActive && (\r\n                        <div className=\"settings-select\">\r\n                          <Form.Item label=\"Audio Input\" name=\"audioInput\">\r\n                            <Select\r\n                              options={mics.map((mic) => ({\r\n                                value: mic.deviceId,\r\n                                label: mic.label,\r\n                              }))}\r\n                              placeholder=\"Select audio input\"\r\n                            />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item label=\"Camera Input\" name=\"cameraInput\">\r\n                            <Select\r\n                              options={cams.map((cam) => ({\r\n                                value: cam.deviceId,\r\n                                label: cam.label,\r\n                              }))}\r\n                              placeholder=\"Select camera input\"\r\n                            />\r\n                          </Form.Item>\r\n\r\n                          <Form.Item label=\"Sound Output\" name=\"soundOutput\">\r\n                            <Select\r\n                              options={playbackDevices.map((device) => ({\r\n                                value: device.deviceId,\r\n                                label: device.label,\r\n                              }))}\r\n                              placeholder=\"Select sound input\"\r\n                            />\r\n                          </Form.Item>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    <Form.Item>\r\n                      <Row justify=\"center\">\r\n                        <Button\r\n                          htmlType=\"submit\"\r\n                          type=\"primary\"\r\n                          style={{\r\n                            borderRadius: \"32px\",\r\n                            paddingInline: \"1.5rem\",\r\n                          }}\r\n                          className=\"join-meet-btn\"\r\n                        >\r\n                          Join Meeting\r\n                        </Button>\r\n                      </Row>\r\n                    </Form.Item>\r\n                  </Form>\r\n                </ConfigProvider>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  } else if (user) {\r\n    return (\r\n      <DragContext.Provider value={{ dragData, setDragData }}>\r\n        <VirtualSupportView\r\n          micId={selectedMic}\r\n          camId={selectedCam}\r\n          playbackDeviceId={selectedPlaybackDevice}\r\n          startMicMuted={micMuted}\r\n          startCamActive={camActive}\r\n        />\r\n      </DragContext.Provider>\r\n    );\r\n  }\r\n}\r\n"],"names":["createContext","SERVICE_BASE","API_BASE","addDimension","data","axios","deleteDimension","id","renameDimension","getMyDimensions","params","limit","offset","getHoloCategory","getHoloDimensionByCategory","MeetingCallControls","isHost","audioMuted","cameraEnabled","soundMuted","toggleAudioMute","toggleVideo","toggleSoundMute","SystemMessage","unPublishScreen","sharingScreen","sharingDim","unPublishDim","userFullName","joinedSharedDim","setJoinedSharedDim","sharedDimId","controlSettingsShow","setControlSettingsShow","permissions","setPermissions","showArrow","setActiveBtn","sharingWhiteboard","sharingFile","useState","dimModalOpen","setDimModalOpen","myDims","setMyDims","navigate","useNavigate","useEffect","MetaverseService","rows","console","log","message","settingsMenu","useMemo","justify","align","className","xs","style","marginBottom","onClick","screen","chat","mic","cam","whiteboard","canDownload","endMenu","endMeeting","type","padding","position","prev","color","width","height","rotate","transition","md","ellipsis","background","borderRadius","flex","title","wrap","gutter","placement","trigger","overlay","marginInlineEnd","marginTop","length","footer","closable","onCancel","open","centered","map","dim","span","shareDim","maxHeight","objectFit","src","image","preview","customerDimensionTranslations","name","toAbsoluteUrl","origin","pathname","process","MeetingScreen","mime","setMainScreen","publishDim","isMain","unityCanvas","setUnityCanvas","whiteboardContainer","setWhiteboardContainer","iframeRef","setIframeRef","mainFullScreen","setMainFullScreen","user","useContext","userContext","DragContext","dragData","setDragData","toggleFullScreen","onDrop","useCallback","e","preventDefault","dimId","file","stopWhiteboard","stopFilePreview","stopDim","shareFile","dragging","dropText","meetingControlsProps","dimensionId","cGAccessToken","configScript","contentWindow","document","createElement","href","rel","div","innerHTML","forEach","ele","scriptName","top","location","head","append","loaderScript","window","onload","lat","lon","createUnityInstance","canvas","config","progress","then","unityInstance","SendMessage","platform","loading","display","web3","ethereum","catch","alert","body","hasVideo","playTrack","room","createUI","onDragOver","border","ref","createPortal","allow","bottom","boxShadow","backdropFilter","isGoogleDrive","embedUrl","fileType","includes","filePath","url","errorComponent","onError","err","screenId","hasAudio","size","userProfileImage","profileImg","MeetingCallParticipants","participants","onSearch","onChange","prefix","placeholder","participant","profileImage","marginInlineStart","fontSize","talking","uid","COMMON_BASE","CART_BASE","getProductList","mainCategory","subCategory","sortBy","getProductById","productId","getCategories","getMyProductList","addToCart","getCartData","InventorySection","setProductSelected","products","setProducts","categories","setCategories","setLoading","productLoading","setProductLoading","selectedCategory","setSelectedCategory","ShopService","axiosCatch","finally","JSON","stringify","overflowX","paddingBottom","AppstoreOutlined","item","category","maxWidth","alt","businessCategoryTranslations","find","lang","languageCode","product","businessProductVariants","images","defualtImage","businessProductTranslations","price","PlusOutlined","ProductSection","productSelected","productData","setProductData","currentProductVariant","setCurrentProductVariant","productQuantity","setProductQuantity","selectedVariant","setSelectedVariant","attributes","setAttributes","options","setOptions","addLoading","setAddLoading","productInfo","split","found","variant","join","margin","justifyContent","alignItems","shape","controls","min","max","quantity","value","att","index","attributeName","colorCheck","attOptions","option","attId","enOptionName","backgroundColor","outline","attr","defaulttOption","copy","foundIndex","findIndex","filter","p","customerId","productVariantId","notification","spinning","LoadingOutlined","MeetChat","messages","sendMessage","noMarign","useForm","form","messageListEndRef","useRef","onFinish","values","msg","trim","setFieldValue","current","scrollIntoView","flexDirection","owner","minHeight","overflowAnchor","scrollMarginBottom","disabled","htmlType","MyCart","cart","setCart","res","businessProductVariant","to","ShareTools","shareWhiteboard","publishScreen","activeTool","setActiveTool","activeToolLoading","setActiveToolLoading","tools","defaultLabel","icon","ScreenSVG","ShareDimenstionSVG","WhiteBoardSVG","FileSVG","LiveSVG","tool","textAlign","MetaExperience","sharingDimId","overflowY","draggable","onDragStart","onDragEnd","stopPropagation","categoriesImages","Education","Business","Fun","Holomeet","setCategory","meetingId","useParams","xl","xxl","HolomeetRooms","metaverse","setMetaverse","defaultDim","description","FilesSharing","sharedFiles","setSharedFiles","uploading","setUploading","useDrivePicker","openPicker","draggerProps","multiple","action","beforeUpload","info","CommonService","fileUrl","uploadedFiles","newFile","content","showUploadList","onFileDelete","handleOpenPicker","clientId","developerKey","viewId","showUploadView","showUploadFolders","supportDrives","multiselect","callbackFunction","docs","newFiles","mimeType","customRequest","onSuccess","fileList","cursor","filesExtentionsImg","imageSrc","png","pdf","doc","xls","zip","jpg","fileImg","SharedFiles","userSelect","YoutubeLink","fastboard","Form","RegExp","test","link","regex","videoId","match","manager","addApp","kind","provider","resetFields","requiredMark","layout","label","rules","required","Counter","counterForm","counterActiveBtn","setCounterActiveBtn","setAskedForCounter","askAllUserForCounter","formData","fileName","customField","counterButtons","btn","FullNameSVG","SignatureSVG","CounterFileSVG","PluseSVG","CounterParticipants","participantsForm","selectedUsers","setSelectedUsers","searchValue","setSearchValue","showParticipants","setShowParticipants","toLowerCase","warn","getFieldValue","users","askSelectedUserForCounter","undefined","theme","components","Checkbox","borderRadiusSM","colorBgContainer","colorPrimary","colorWhite","colorPrimaryHover","colorPrimaryBorder","paddingRight","target","scale","noStyle","rowGap","fontWeight","textOverflow","ProductionTools","dragedMedia","setDragedMedia","screens","borderColor","mediaLibrary","media","push","LiveStream","selectedCam","setSelectedCam","cams","camImage","WifiOutlined","CounterForUser","counterFormData","filesDraggerProps","userName","fullName","changeCounterUserSharedData","signatureDraggerProps","signature","alignContent","CounterSharedData","counterSharedData","sharedData","Object","keys","key","borderBottom","paddingTop","fontStyle","files","field","entries","MeetAsaider","chatLoading","activeBtn","setHideSide","EyeInvisibleFilled","AvatarMain","SearchUser","query","InviteFriends","setInviteParticipantsPopup","nameSearch","setNameSearch","setUsers","handleSearch","ParticipantsService","URLSearchParams","timeOutId","setTimeout","clearTimeout","token","colorPrimaryText","colorBorder","colorText","colorTextPlaceholder","Input","firstName","lastName","slideResponsive","breakpoint","settings","slidesToShow","slidesToScroll","formatSystemMsg","isSystemMsg","VirtualSupportView","micId","camId","playbackDeviceId","startMicMuted","startCamActive","meeting","setMeeting","chatRoomId","setChatRoomId","setMessages","localAudioTrack","setLocalAudioTrack","localVideoTrack","setLocalVideoTrack","localScreenTrack","setLocalScreenTrack","setSoundMuted","remoteUsers","setRemoteUsers","mainScreenId","setMainScreenId","setSharingDimId","setSharingFile","setSharedDimId","setFastboard","setTalking","hideSide","inviteParticipantsPopup","askedForCounter","setCounterFormData","setCounterSharedData","joinTriesRef","soundMutedRef","userRef","micIdRef","camIdRef","playbackDeviceIdRef","startMicMutedRef","startCamActiveRef","chatRoomIdRef","meetingRef","agoraClient","AgoraRTC","mode","codec","agoraScreenClient","agoraDimClient","agoraChatClient","AgoraChat","appKey","screenSize","Grid","isHostRef","muted","arr","userId","enabled","track","localTracks","trackMediaType","play","remoteUser","videoTrack","hasScreen","screenTrack","hasDim","dimTrack","mainScreen","myRtcScreen","randomVideoScreen","otherScreens","me","remote","participantsRef","sharingFileScreenObj","sharingDimScreenObj","sharedDimScreenObj","whiteboardScreenObj","_text","isOpened","send","chatType","text","from","publishAudio","AEC","microphoneId","audioTrack","setMuted","publish","error","publishCamera","cameraId","unPublishCamera","close","unpublish","stream","captureStream","getVideoTracks","mediaStreamTrack","optimizationMode","localDimTrack","whiteboardRoomId","changePermissions","changeSharedFiles","hostShareCounterData","destroy","dataAskedFor","usersAndDataAskedFor","joinWhiteboardRoom","SocialEventService","whiteboardRoomToken","createFastboard","sdkConfig","appIdentifier","region","joinRoom","uuid","roomToken","userPayload","nickName","managerConfig","apps","app","embed","initMeeting","appId","agoraRte","rtcToken","rtcScreenToken","rtcDimToken","toString","agoraToken","chatToken","getChatRooms","pagenum","pagesize","rooms","roomId","Error","joinChatRoom","handleSystemMsg","Number","perms","parse","ignored","senderUser","sharedFullName","sharedSignature","sharedfile","sharedCustomField","hasOwnProperty","forceMuteMic","stop","_meeting","removeAllListeners","removeEventHandler","enableAudioVolumeIndicator","addEventHandler","onConnected","onDisconnected","onTextMessage","on","joinedUser","userData","leavingUser","publishingUser","mediaType","subscribe","idx","setPlaybackDevice","unPublishingUser","unsubscribe","myVol","vol","level","systemMessages","getHistoryMessages","targetId","searchDirection","pageSize","normalMsgs","isHostPresent","some","setWritable","replace","logo","inviteMenu","items","navigator","clipboard","writeText","dropdownRender","destroyPopupOnHide","getPopupContainer","getElementById","onOpenChange","lg","ParticipantsSVG","SMSSVG","PackageSVG","ToolsSVG","CounterSVG","AlbumsSVG","VirtualMeetSVG","hologram","CustomSlider","responsive","UserInteractionHOC","setUser","interacted","setInteracted","mics","setMics","setCams","playbackDevices","setPlaybackDevices","selectedMic","setSelectedMic","selectedPlaybackDevice","setSelectedPlaybackDevice","micMuted","setMicMuted","camActive","setCamActive","settingsActive","setSettingsActive","onSignAsGuestFinish","AuthService","userEmail","email","localStorage","setItem","customerWebDashboardAccessToken","response","status","audioInput","cameraInput","soundOutput","setFieldsValue","deviceId","joinBg","_","Select","colorBgBase","controlHeight","colorBgElevated","lineHeight","colorTextQuaternary","colorInfoActive","paddingXXS","columnGap","settingsEl","classList","add","remove","device","paddingInline","Provider"],"sourceRoot":""}